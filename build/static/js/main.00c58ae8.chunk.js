(this["webpackJsonpHunt-admin"]=this["webpackJsonpHunt-admin"]||[]).push([[0],{159:function(e,t,a){e.exports=a.p+"static/media/logo.fcf70600.png"},19:function(e,t,a){"use strict";a.d(t,"r",(function(){return o})),a.d(t,"P",(function(){return c})),a.d(t,"e",(function(){return m})),a.d(t,"E",(function(){return d})),a.d(t,"T",(function(){return u})),a.d(t,"Z",(function(){return p})),a.d(t,"R",(function(){return g})),a.d(t,"S",(function(){return h})),a.d(t,"F",(function(){return E})),a.d(t,"N",(function(){return y})),a.d(t,"O",(function(){return b})),a.d(t,"Y",(function(){return f})),a.d(t,"M",(function(){return v})),a.d(t,"D",(function(){return S})),a.d(t,"B",(function(){return _})),a.d(t,"X",(function(){return O})),a.d(t,"W",(function(){return C})),a.d(t,"s",(function(){return P})),a.d(t,"U",(function(){return w})),a.d(t,"V",(function(){return I})),a.d(t,"I",(function(){return x})),a.d(t,"u",(function(){return T})),a.d(t,"Q",(function(){return N})),a.d(t,"C",(function(){return D})),a.d(t,"x",(function(){return j})),a.d(t,"G",(function(){return A})),a.d(t,"t",(function(){return F})),a.d(t,"v",(function(){return k})),a.d(t,"q",(function(){return L})),a.d(t,"f",(function(){return B})),a.d(t,"g",(function(){return M})),a.d(t,"p",(function(){return V})),a.d(t,"j",(function(){return q})),a.d(t,"L",(function(){return U})),a.d(t,"A",(function(){return R})),a.d(t,"c",(function(){return W})),a.d(t,"l",(function(){return z})),a.d(t,"m",(function(){return Y})),a.d(t,"J",(function(){return $})),a.d(t,"y",(function(){return K})),a.d(t,"d",(function(){return J})),a.d(t,"n",(function(){return H})),a.d(t,"o",(function(){return G})),a.d(t,"K",(function(){return Z})),a.d(t,"z",(function(){return Q})),a.d(t,"a",(function(){return X})),a.d(t,"b",(function(){return ee})),a.d(t,"k",(function(){return te})),a.d(t,"i",(function(){return ae})),a.d(t,"H",(function(){return le})),a.d(t,"w",(function(){return se})),a.d(t,"h",(function(){return re}));var l=a(294),s=a.n(l);function r(e){return e.json()}function n(e){if(403===e.status&&(localStorage.clear(),window.location.reload()),e.status>=200&&e.status<300)return e;const t=new Error(e.statusText);throw t.response=e,t}function i(e,t){const a={...t};return"POST"===a.method||"PUT"===a.method?a.body instanceof FormData?(a.headers={Accept:"application/json",Authorization:"Bearer "+window.localStorage.getItem("token"),...a.headers},a.body=a.body):(a.headers={Accept:"application/json; ","Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+window.localStorage.getItem("token"),...a.headers},a.body=JSON.stringify(a.body)):a.headers={Accept:"application/json",Authorization:"Bearer "+window.localStorage.getItem("token"),...a.headers},s()("http://52.66.85.165:4001"+e,a).then(n).then(r).then(e=>("DELETE"===a.method||204===e.status)&&e.text?e.text():e).catch(e=>(console.log(e),e))}function o(e){return i("/api/approvebussiness",{method:"POST",body:e})}function c(e){return i("/api/admin/login",{method:"POST",body:{...e,isOtp:"0",firbaseToken:""}})}function m(e){return i("/api/store/signup",{method:"POST",body:e})}function d(e){return i("/api/forgetpassword",{method:"POST",body:e})}function u(e){return i("/api/admin/resetpassword",{method:"POST",body:e})}function p(e){return i("/api/verify/otp",{method:"POST",body:e})}function g(e){return i("/api/send-otp-to-user",{method:"POST",body:e})}function h(e){return i("/api/admin/resetPassword",{method:"POST",body:e})}function E(e){return i("/api/dashboard",{method:"POST",body:e})}function y(e){return i("/api/getalluserlist",{method:"POST",body:e})}function b(e){return i("/api/getprofile",{method:"POST",body:e})}function f(e){return i("/api/admin/updateprofile",{method:"POST",body:e})}function v(e){return i("/api/getprofile",{method:"POST",body:e})}function S(e){return i("/api/editUsers",{method:"POST",body:e})}function _(e){return i("/api/deleteuser",{method:"POST",body:e})}function O(e){return i("/api/user/update/section",{method:"POST",body:e})}function C(e){return i("/api/user/update/meal",{method:"POST",body:e})}function P(e){return i("/api/admin/epmloyee/create",{method:"POST",body:e})}function w(e){return i("/api/admin/epmloyee/update",{method:"POST",body:e})}function I(e){return i("/api/employee/update/hall",{method:"POST",body:e})}function x(e){return i("/api/getAll-pages",{method:"POST",body:e})}function T(e){return i("/api/create-pages",{method:"POST",body:e})}function N(e){return i("/api/get-pages?slug="+e,{method:"GET"})}function D(e){return i("/api/update-pages",{method:"PUT",body:e})}function j(e){return i("/api/delete-pages?slug="+e,{method:"DELETE"})}function A(e){return i("/api/notification/listing",{method:"POST",body:e})}function F(e){return i("/api/add-notification",{method:"POST",body:e})}function k(e){return i("/api/delete-notification",{method:"POST",body:e})}function L(e){return i("/api/admin/add-edit-store-user",{method:"POST",body:e})}function B(e){return i("/api/get-all-store",{method:"POST",body:e})}function M(e){return i("/api/get-all-store-approve",{method:"POST",body:e})}function V(e){return i("/api/add-edit-store",{method:"POST",body:e})}function q(e){return i("/api/admin/add-edit-store",{method:"POST",body:e})}function U(e){return i("/api/detail-store",{method:"POST",body:e})}function R(e){return i("/api/delete-store",{method:"POST",body:e})}function W(e){return i("/api/get-all-pin",{method:"POST",body:e})}function z(e){return i("/api/add-edit-pin",{method:"POST",body:e})}function Y(e){return i("/api/admin/add-edit-pin",{method:"POST",body:e})}function $(e){return i("/api/detail-pin",{method:"POST",body:e})}function K(e){return i("/api/delete-pin",{method:"POST",body:e})}function J(e){return i("/api/get-all-product",{method:"POST",body:e})}function H(e){return i("/api/add-edit-product",{method:"POST",body:e})}function G(e){return i("/api/admin/add-edit-product",{method:"POST",body:e})}function Z(e){return i("/api/detail-product",{method:"POST",body:e})}function Q(e){return i("/api/delete-product",{method:"POST",body:e})}function X(e){return i("/api/get-all-order",{method:"POST",body:e})}function ee(e){return i("/api/get-all-order-approve",{method:"POST",body:e})}function te(e){return i("/api/add-edit-order",{method:"POST",body:e})}function ae(e){return i("/api/admin/add-edit-order",{method:"POST",body:e})}function le(e){return i("/api/detail-order",{method:"POST",body:e})}function se(e){return i("/api/delete-Order",{method:"POST",body:e})}function re(e){return i("/api/payment/pickup-otp/verify/",{method:"POST",body:e})}},386:function(e,t,a){},431:function(e,t,a){e.exports=a(432)},432:function(e,t,a){"use strict";a.r(t);var l=a(14),s=a.n(l),r=a(418);a(534),a(535),a(536);const n=s()();n.use(Object(r.a)()),n.model(a(537).default),n.model(a(540).default),n.model(a(542).default),n.model(a(543).default),n.model(a(544).default),n.model(a(545).default),n.model(a(546).default),n.model(a(547).default),n.model(a(548).default),n.model(a(549).default),n.model(a(550).default),n.router(a(774).default),n.start("#root")},482:function(e,t){},535:function(e,t,a){},536:function(e,t,a){},537:function(e,t,a){"use strict";a.r(t);a(19);t.default={namespace:"global",state:{toggleval:!1,upload:{count:0},uploadsingle:{count:0}},subscriptions:{setup(e){let{dispatch:t,history:a}=e}},effects:{*uploadFile(e,t){let{payload:a}=e,{call:l,put:s}=t;console.log("file",a);const r=a.map(e=>e.image);yield s({type:"upload",file:r})},*uploadFileSingle(e,t){let{payload:a}=e,{call:l,put:s}=t;yield s({type:"uploadsingle",file:a[0].image})},*clearAction(e,t){let{payload:a}=e,{call:l,put:s}=t;yield s({type:"clear"})}},reducers:{toggle:e=>(console.log(e),{toggleval:!e.toggleval}),minus:e=>e-1,upload:(e,t)=>(t.count=e.upload.count+1,{...e,upload:t}),uploadsingle:(e,t)=>(t.count=e.uploadsingle.count+1,{...e,uploadsingle:t}),clear:(e,t)=>({...e,upload:{count:0},uploadsingle:{count:0}})}}},540:function(e,t,a){"use strict";a.r(t);var l=a(19),s=a(10);t.default={namespace:"auth",state:{login:{count:0},forgot:{count:0},reg:{count:0},alrdreg:{count:0},varify_payment:{}},subscriptions:{setup(e){let{dispatch:t,history:a}=e}},effects:{*varifyOtp(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.Z,a);i.status?yield n({type:"varifySuccess",...i}):s.b.error(i.msg||i.message||i.err,5)},*resendOtp(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.R,a);i.status?i.status&&s.b.success(i.msg||i.message||i.err,5):s.b.error(i.msg||i.message||i.err,5)},*login(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.P,a);if(!i.status)return"Your account is not verified"==i.msg||"Your account is not verified"==i.message?(s.b.error("please verified your account!",5),localStorage.setItem("flow","sin"),localStorage.setItem("user",JSON.stringify(null===i||void 0===i?void 0:i.user_detail)),localStorage.setItem("user_email",a.username),localStorage.setItem("LoginCred",JSON.stringify(a)),void(yield n({type:"varify",...i}))):void s.b.error(i.msg||i.message||i.err,5);if(i.status){window.location.hostname;let e="ADMIN";if("localhost"===window.location.hostname){let e=i.user.role;"REGULAR"!==e?(localStorage.removeItem("flow"),localStorage.removeItem("LoginCred"),localStorage.setItem("token",i.accessToken),localStorage.setItem("role",e),localStorage.setItem("user",JSON.stringify(i.user)),localStorage.setItem("userId",i.user._id),localStorage.setItem("isEmailVerified",i.user_detail.isEmailVerified&&!0===i.user_detail.isEmailVerified?"true":"false"),yield n({type:"save",...i})):s.b.error("You are not authorized to Login...!",5)}else{let t=i.user.role;t===e||"STORE"===t?(localStorage.removeItem("flow"),localStorage.removeItem("LoginCred"),localStorage.setItem("token",i.accessToken),localStorage.setItem("role",t),localStorage.setItem("user",JSON.stringify(i.user)),localStorage.setItem("userId",i.user._id),localStorage.setItem("isMobileVerified",i.user.isMobileVerified&&!0===i.user.isMobileVerified?"true":"false"),localStorage.setItem("isEmailVerified",i.user.isEmailVerified&&!0===i.user.isEmailVerified?"true":"false"),yield n({type:"save",...i})):s.b.error("You are not authorized to Login...!",5)}}},*forgotFun(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.E,a);i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success(i.msg||i.message||i.err,5),localStorage.setItem("flow","forgot"),localStorage.setItem("user_email",a.username),yield n({type:"forgot",...i})},*resetPassword(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.S,a);console.log(i),i.status?(s.b.success(i.msg||i.message||"Password Successfully Changed... Login again!",5),yield n({type:"resetPasswordSuccess",...i})):s.b.error(i.msg||i.message||"Something Went to wrong...Please Try Again!",5)},*register(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.e,a);i.status?(i.status,console.log(i),console.log(null===i||void 0===i?void 0:i.otp),localStorage.setItem("user",JSON.stringify(null===i||void 0===i?void 0:i.user)),yield n({type:"reg",...i})):"This Email is already registered"==i.msg||"This Email is already registered"==i.message?(s.b.success("Your email is already register in Hunt so login with your email & password..!",5),yield n({type:"alrdreg",...i})):"This Mobile No is already registered"==i.msg||"This Mobile No is already registered"==i.message?(s.b.success("Your mobile number is already register in Hunt so login with your mobile number & password..!",5),yield n({type:"alrdreg",...i})):s.b.error(i.msg||i.message||i.err,5)},*logoutApp(e,t){let{_:a}=e,{call:l,put:s}=t;localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("user"),yield s({type:"logout"})}},reducers:{otpSendSuccess:(e,t)=>({...e,varify:{...t},login:{count:0}}),varifySuccess:(e,t)=>({...e,varify:{...t},login:{count:0}}),save:(e,t)=>(t.count=e.login.count+1,{...e,login:t,varify:{}}),varify:(e,t)=>({...e,login:"varify",varify:{}}),forgot:(e,t)=>(t.count=e.forgot.count+1,{...e,forgot:t}),resetPasswordSuccess:(e,t)=>({...e,resetPassword:{...t},forgot:{}}),resetPasswordSuccessDone:(e,t)=>({...e,resetPassword:{}}),registerSuccess:(e,t)=>(t.count=0,{...e,reg:{count:0}}),alrdregisterSuccess:(e,t)=>({...e,varify:{},login:{count:0}}),verifyBackNuttunSuccess:(e,t)=>({...e,varify:{},login:{count:0}}),verotpSuccess:(e,t)=>(t.count=0,{...e,alrdreg:{count:0}}),alrdreg:(e,t)=>(t.count=e.alrdreg.count+1,{...e,alrdreg:{action:t}}),reg:(e,t)=>(t.count=e.reg.count+1,{...e,reg:{action:t}}),logout:e=>({...e,login:{count:0},reg:{count:0}}),varify_payment:(e,t)=>({...e,varify_payment:t})}}},542:function(e,t,a){"use strict";a.r(t);var l=a(19),s=a(10);t.default={namespace:"setting",state:{getBuss:{count:0},update:{count:0},create:{count:0},resetp:{count:0},approve:{count:0},otp:{count:0},verifyotp:{count:0},getSingleBussines:{}},subscriptions:{setup(e){let{dispatch:t,history:a}=e}},effects:{*approveBuss(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.r,a);i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&(a.isBussinessVerified?s.b.success("Business successfully approved!",5):s.b.success("Business successfully rejected!",5)),yield n({type:"approve",...i})},*changePassword(e,t){let{payload:a}=e,{call:r,put:n}=t;let i={username:JSON.parse(localStorage.getItem("user")).username,password:a.password,old_password:a.oldPassword,otpchk:!0};const o=yield r(l.T,i);console.log(a),o.status||s.b.error(o.msg||o.message||o.err,5),o.status&&s.b.success(o.msg||o.message,5),yield n({type:"resetp",...o})},*resendOTPTOUser(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.R,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"otp",...i})},*varifyUser(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.Z,a);i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success(i.msg||i.message,5),yield n({type:"verifyotp",...i})},*clearVerifyOTP(e,t){let{payload:a}=e,{call:l,put:s}=t;yield s({type:"clearVerifyOTP"})},*clearAction(e,t){let{payload:a}=e,{call:l,put:s}=t;yield s({type:"clear"})}},reducers:{getBuss:(e,t)=>({...e,getBuss:t}),getSellerBussines:(e,t)=>({...e,getBuss:t}),getSingleBussines:(e,t)=>({...e,getSingleBussines:t}),busslist:(e,t)=>({...e,busslist:t}),busssellerlist:(e,t)=>({...e,busssellerlist:t}),create:(e,t)=>(t.count=e.create.count+1,{...e,create:t}),update:(e,t)=>(t.count=e.update.count+1,{...e,update:t}),approve:(e,t)=>(t.count=e.approve.count+1,{...e,approve:t}),approveReset:(e,t)=>({...e,approve:{count:0}}),resetp:(e,t)=>(t.count=e.resetp.count+1,{...e,resetp:t}),otp:(e,t)=>({...e,otp:t}),verifyotp:(e,t)=>({...e,verifyotp:t}),clearVerifyOTP:(e,t)=>({...e,verifyotp:{count:0}}),clear:(e,t)=>({...e,create:{count:0},approve:{count:0},update:{count:0},resetp:{count:0},otp:{count:0},verifyotp:{count:0}})}}},543:function(e,t,a){"use strict";a.r(t);var l=a(19),s=a(10);t.default={namespace:"users",state:{del:{count:0},add:{count:0},edit:{count:0}},subscriptions:{setup(e){let{dispatch:t,history:a}=e}},effects:{*addStoreUser(e,t){let{payload:a}=e,{call:r,put:n}=t,i={};i=yield r(l.q,a),i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success("retailer added successfully",5),yield n({type:"add",...i})},*editStoreUser(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.q,a);i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success(i.msg||i.message||i.err,5),yield n({type:"edit",...i})},*addEmployee(e,t){let{payload:a}=e,{call:r,put:n}=t,i={};i=yield r(l.s,a),i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success("retailer added successfully",5),yield n({type:"add",...i})},*editEmployee(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.U,a);i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success(i.msg||i.message||i.err,5),yield n({type:"edit",...i})},*updateSection(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.X,a);i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success(i.msg||i.message||i.err,5)},*updateMeal(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.W,a);i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success(i.msg||i.message||i.err,5)},*updateLunchHall(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.V,a);i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success(i.msg||i.message||i.err,5)},*getList(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.N,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"list",...i})},*getDetail(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.M,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"detail",...i})},*editItem(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.D,a);i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success(i.msg||i.message||i.err,5),yield n({type:"edit",...i})},*deleteItem(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.B,a);i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success("User Deleted Successfully!",5),yield n({type:"del",...i})},*clearAction(e,t){let{payload:a}=e,{call:l,put:s}=t;console.log("clearAction"),yield s({type:"clear"})}},reducers:{list:(e,t)=>({...e,list:t}),add:(e,t)=>(t.count=e.add.count+1,{...e,add:t}),detail:(e,t)=>({...e,detail:t}),edit:(e,t)=>(t.count=e.edit.count+1,{...e,edit:t}),del:(e,t)=>(t.count=e.del.count+1,{...e,del:t}),clear:(e,t)=>({...e,edit:{count:0},add:{count:0},del:{count:0}})}}},544:function(e,t,a){"use strict";a.r(t);var l=a(19),s=a(10);t.default={namespace:"account",state:{dashborddetail:{count:0},detail:{count:0},del:{count:0},add:{count:0},edit:{count:0}},subscriptions:{setup(e){let{dispatch:t,history:a}=e}},effects:{*getDashbordDetail(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.F,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"dashborddetail",...i})},*getDetail(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.O,a);a._id&&(i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"detail",...i}))},*editItem(e,t){let{payload:a,history:r}=e,{call:n,put:i}=t;console.log(r.history);const o=yield n(l.Y,a);o.status||s.b.error(o.msg||o.message||"Account Updated!",5),o.status&&(s.b.success("Profile Updated Successfull",5),r.history.push("/")),yield i({type:"edit",...o})},*deleteItem(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.B,a);i.status||s.b.error(i.msg||i.message||i.err,5),i.status&&s.b.success("User Deleted Successfully!",5),yield n({type:"del",...i})},*clearAction(e,t){let{payload:a}=e,{call:l,put:s}=t;yield s({type:"clear"})}},reducers:{dashborddetail:(e,t)=>(t.count=e.dashborddetail.count+1,{...e,dashborddetail:t}),list:(e,t)=>({...e,list:t}),detail:(e,t)=>(t.count=e.detail.count+1,{...e,detail:t}),edit:(e,t)=>(t.count=e.edit.count+1,{...e,edit:t}),del:(e,t)=>(t.count=e.del.count+1,{...e,del:t}),clear:(e,t)=>({...e,edit:{count:0},del:{count:0}})}}},545:function(e,t,a){"use strict";a.r(t);var l=a(19),s=a(10);t.default={namespace:"pages",state:{list:[],detail:{},delete:!1,add:!1,edit:!1},subscriptions:{setup(e){let{dispatch:t,history:a}=e}},effects:{*pagesList(e,t){let{payload:a}=e,{call:r,put:n}=t,i={};i=yield r(l.I),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"list",data:[...i.data]})},*pagesDetail(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.Q,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"detail",...i})},*deletePages(e,t){let{payload:a}=e,{call:r,put:n}=t,i={};i=yield r(l.x,a),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"delete",message:i.status})},*AddPages(e,t){let{payload:a}=e,{call:r,put:n}=t,i={};i=yield r(l.u,a),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"add",message:i.status})},*EditPages(e,t){let{payload:a}=e,{call:r,put:n}=t,i={};i=yield r(l.C,a),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"edit",message:i.status})},*clearAction(e,t){let{payload:a}=e,{call:l,put:s}=t;yield s({type:"clear"})}},reducers:{list:(e,t)=>({...e,list:[...t.data]}),detail:(e,t)=>({...e,detail:t}),delete:(e,t)=>({...e,delete:t}),add:(e,t)=>({...e,add:t}),edit:(e,t)=>({...e,edit:t}),clear:(e,t)=>({...e,detail:{},delete:!1,add:!1,edit:!1})}}},546:function(e,t,a){"use strict";a.r(t);var l=a(19),s=a(10);t.default={namespace:"notification",state:{list:[],detail:{},delete:!1,add:!1,edit:!1},subscriptions:{setup(e){let{dispatch:t,history:a}=e}},effects:{*notifList(e,t){let{payload:a}=e,{call:r,put:n}=t,i={};i=yield r(l.G,a),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"list",data:[...i.notification]})},*pagesDetail(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.Q,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"detail",...i})},*deleteNotif(e,t){let{payload:a}=e,{call:r,put:n}=t,i={};i=yield r(l.v,a),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"delete",message:i.status})},*createNotif(e,t){let{payload:a}=e,{call:r,put:n}=t,i={};i=yield r(l.t,a),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"add",message:i.status})},*EditPages(e,t){let{payload:a}=e,{call:r,put:n}=t,i={};i=yield r(l.C,a),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"edit",message:i.status})},*clearAction(e,t){let{payload:a}=e,{call:l,put:s}=t;yield s({type:"clear"})}},reducers:{list:(e,t)=>({...e,list:[...t.data]}),detail:(e,t)=>({...e,detail:t}),delete:(e,t)=>({...e,delete:t}),add:(e,t)=>({...e,add:t}),edit:(e,t)=>({...e,edit:t}),clear:(e,t)=>({...e,detail:{},delete:!1,add:!1,edit:!1})}}},547:function(e,t,a){"use strict";a.r(t);var l=a(19),s=a(10);t.default={namespace:"stores",state:{list:[],state_list:[],lga_list:[],count:0,StoreMembers:[],detail:{}},effects:{*listData(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.f,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"list",...i})},*listApprove(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.g,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"approve_list",...i})},*add(e,t){let{payload:a,isAdmin:r}=e,{call:n,put:i}=t;const o=yield n(l.p,a);return o.status&&s.b.success(o.msg||o.message||o.err,5),o.status||s.b.error(o.msg||o.message||o.err,5),o},*edit(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.p,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"update",...i}),i},*addAdmin(e,t){let{payload:a,isAdmin:r}=e,{call:n,put:i}=t;const o=yield n(l.j,a);return o.status&&s.b.success(o.msg||o.message||o.err,5),o.status||s.b.error(o.msg||o.message||o.err,5),o},*editAdmin(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.j,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"update",...i}),i},*getDetail(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.L,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"viewDetail",...i})},*delete(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.A,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"deleteData",...a,...i}),i},*clearAction(e,t){let{payload:a}=e,{call:l,put:s}=t;yield s({type:"clear"})}},reducers:{list:(e,t)=>({...e,list:t.data,count:t.count}),approve_list:(e,t)=>({...e,list:t.data,count:t.count}),viewDetail:(e,t)=>(console.log("\ud83d\ude80 ~ file: stores.js:95 ~ viewDetail ~ action:",t),{...e,detail:null===t||void 0===t?void 0:t.data}),deleteData(e,t){let a=e.list.filter(e=>e._id!=t._id);return{...e,list:a}}}}},548:function(e,t,a){"use strict";a.r(t);var l=a(19),s=a(10);t.default={namespace:"pins",state:{list:[],state_list:[],lga_list:[],count:0,PinMembers:[],detail:{},product:[]},effects:{*listData(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.c,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"list",...i})},*add(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.l,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),i},*edit(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.l,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"update",...i}),i},*addAdmin(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.m,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),i},*editAdmin(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.m,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"update",...i}),i},*getDetail(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.J,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"detail",...i})},*delete(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.y,a);i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"deleteData",...a,...i})},*clearAction(e,t){let{payload:a}=e,{call:l,put:s}=t;yield s({type:"clear"})}},reducers:{list:(e,t)=>({...e,list:t.data,count:t.count}),detail:(e,t)=>({...e,detail:null===t||void 0===t?void 0:t.detail,product:null===t||void 0===t?void 0:t.product}),deleteData(e,t){let a=e.list.filter(e=>e._id!=t._id);return{...e,list:a}}}}},549:function(e,t,a){"use strict";a.r(t);var l=a(19),s=a(10);t.default={namespace:"products",state:{list:[],state_list:[],lga_list:[],count:0,ProductMembers:[],detail:{},pin_detail:{}},effects:{*listData(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.d,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"list",...i})},*add(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.n,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),i},*edit(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.n,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"update",...i}),i},*addAdmin(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.o,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),i},*editAdmin(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.o,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"update",...i}),i},*getDetail(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.K,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"viewDetail",...i})},*delete(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.z,a);i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"deleteData",...a,...i})},*clearAction(e,t){let{payload:a}=e,{call:l,put:s}=t;yield s({type:"clear"})}},reducers:{list:(e,t)=>({...e,list:t.data,count:t.count,pin_detail:t.pin_detail}),viewDetail:(e,t)=>({...e,detail:null===t||void 0===t?void 0:t.data,ProductMembers:null===t||void 0===t?void 0:t.ProductMembers}),deleteData(e,t){let a=e.list.filter(e=>e._id!=t._id);return{...e,list:a}}}}},550:function(e,t,a){"use strict";a.r(t);var l=a(19),s=a(10);t.default={namespace:"orders",state:{list:[],state_list:[],lga_list:[],count:0,OrderMembers:[],detail:{}},effects:{*listData(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.a,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"list",...i})},*listApprove(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.b,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"approve_list",...i})},*add(e,t){let{payload:a,isAdmin:r}=e,{call:n,put:i}=t;const o=yield n(l.k,a);return o.status&&s.b.success(o.msg||o.message||o.err,5),o.status||s.b.error(o.msg||o.message||o.err,5),o},*edit(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.k,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"update",...i}),i},*addAdmin(e,t){let{payload:a,isAdmin:r}=e,{call:n,put:i}=t;const o=yield n(l.i,a);return o.status&&s.b.success(o.msg||o.message||o.err,5),o.status||s.b.error(o.msg||o.message||o.err,5),o},*editAdmin(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.i,a);return i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"update",...i}),i},*getDetail(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.H,a);i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"viewDetail",...i})},*delete(e,t){let{payload:a}=e,{call:r,put:n}=t;const i=yield r(l.w,a);i.status&&s.b.success(i.msg||i.message||i.err,5),i.status||s.b.error(i.msg||i.message||i.err,5),yield n({type:"deleteData",...a,...i})},*verify(e,t){let{payload:a,isAdmin:r}=e,{call:n,put:i}=t;const o=yield n(l.h,a);return o.status&&s.b.success(o.msg||o.message||o.err,5),o.status||s.b.error(o.msg||o.message||o.err,5),o},*clearAction(e,t){let{payload:a}=e,{call:l,put:s}=t;yield s({type:"clear"})}},reducers:{list:(e,t)=>({...e,list:t.data,count:t.count}),approve_list:(e,t)=>({...e,list:t.data,count:t.count}),viewDetail:(e,t)=>(console.log("\ud83d\ude80 ~ file: Orders.js:95 ~ viewDetail ~ action:",t),{...e,detail:null===t||void 0===t?void 0:t.data}),deleteData(e,t){let a=e.list.filter(e=>e._id!=t._id);return{...e,list:a}}}}},551:function(e,t,a){},552:function(e,t,a){},637:function(e,t,a){},656:function(e,t,a){},754:function(e,t,a){},756:function(e,t,a){},762:function(e,t,a){},768:function(e,t,a){},769:function(e,t,a){},770:function(e,t,a){},771:function(e,t,a){},772:function(e,t,a){},773:function(e,t,a){},774:function(e,t,a){"use strict";a.r(t);var l=a(0),s=a.n(l),r=a(87),n=a(14),i=(a(551),a(223));a(552);class o extends s.a.Component{render(){return s.a.createElement("div",null,this.props.show?s.a.createElement("div",{className:"loader"},s.a.createElement("svg",{width:"57",height:"57",viewBox:"0 0 57 57",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff"},s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},s.a.createElement("circle",{cx:"5",cy:"50",r:"5"},s.a.createElement("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"}),s.a.createElement("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"})),s.a.createElement("circle",{cx:"27",cy:"5",r:"5"},s.a.createElement("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"}),s.a.createElement("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"})),s.a.createElement("circle",{cx:"49",cy:"50",r:"5"},s.a.createElement("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"}),s.a.createElement("animate",{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"})))))):"")}}var c=o,m=a(801),d=a(806),u=a(169),p=a(89),g=a(805),h=a(797),E=a(47),y=a(22),b=a.n(y);Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ApiUrl:"http://52.66.85.165:4001"}).REACT_APP_ApiUrl_SERN,Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ApiUrl:"http://52.66.85.165:4001"}).REACT_APP_ApiUrl_SERN;const f="AIzaSyBeSEd28jj7f1LpDCjI-ZowhKp1e8z3q4A";var v=a(35),S=a.n(v);const{Panel:_}=m.a;var O=Object(n.connect)(e=>{let{account:t,loading:a}=e;return{loading:a,account:t}})(e=>{var t,a,r,n,i,o,m,y,f,v,S,_,O,C,P,w,I;const{dispatch:x}=e,[T,N]=Object(l.useState)([{}]),[D,j]=Object(l.useState)(""),[A,F]=Object(l.useState)(""),[k,L]=Object(l.useState)({}),[B,M]=Object(l.useState)({}),[V,q]=Object(l.useState)(!1),[U,R]=Object(l.useState)(!1),[W,z]=Object(l.useState)([]),[Y,$]=Object(l.useState)([]),[K,J]=Object(l.useState)({lat:26.896593,lng:75.770676});Object(l.useEffect)(()=>{let t=!1;return setTimeout(()=>document.title="Dashboard",100),H(e.countData),j(localStorage.getItem("role")),F(localStorage.getItem("userId")),()=>{t=!0}},[x]);const H=async e=>{localStorage.getItem("userId");let t=localStorage.getItem("userId");x({type:"account/getDashbordDetail",payload:{start_date:"",user_id:t}})};return Object(l.useEffect)(()=>{var t,a,l,s,r,n,i,o,c,m,d,u;let p=e.account.dashborddetail;console.log("\ud83d\ude80 ~ file: dashboard.js:45 ~ useEffect ~ detail:",p),N(p.countData),console.log(p.countData),M(p),q(p.countData&&p.countData.isStore),R(p.countData&&p.countData.isStoreVerifed);let g=(null===(t=p.countData)||void 0===t?void 0:t.Pins_List)&&(null===p||void 0===p||null===(a=p.countData)||void 0===a||null===(l=a.Pins_List)||void 0===l?void 0:l.filter(e=>"FLAT_DISCOUNT_PIN"===e.categories)),h=(null===(s=p.countData)||void 0===s?void 0:s.Pins_List)&&(null===p||void 0===p||null===(r=p.countData)||void 0===r||null===(n=r.Pins_List)||void 0===n?void 0:n.filter(e=>"LAST_MINUTE_PIN"===e.categories)),E={lat:(null===(i=p.countData)||void 0===i?void 0:i.Pins_List)&&(null===p||void 0===p||null===(o=p.countData)||void 0===o?void 0:o.Store_List[0])&&(null===p||void 0===p||null===(c=p.countData)||void 0===c?void 0:c.Store_List[0].latitude),lng:(null===(m=p.countData)||void 0===m?void 0:m.Pins_List)&&(null===p||void 0===p||null===(d=p.countData)||void 0===d?void 0:d.Store_List[0])&&(null===p||void 0===p||null===(u=p.countData)||void 0===u?void 0:u.Store_List[0].longitude)};J(E),z(g),$(h)},[e.account]),s.a.createElement("div",null,s.a.createElement(c,{show:e.loading.global}),"ADMIN"!==D?s.a.createElement(s.a.Fragment,null,"ADMIN"!==D&&!U&&V&&s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{description:"Your request is received by Hunt verification team, our team is verifying your store details and you will notified as soon as your account will be verified.",type:"error",className:"mb-4"})),s.a.createElement(u.a,{gutter:15,className:"mobile_dashboard"},V&&s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,{xs:{span:12},sm:6,md:4},s.a.createElement(g.a,{className:"card_hover",onClick:()=>{e.history.push("/pins")}},s.a.createElement(h.a,{title:"Total Pins",value:T&&T.Total_Pins})),s.a.createElement("br",null)),s.a.createElement(p.a,{xs:{span:12},sm:6,md:4},s.a.createElement(g.a,{className:"card_hover",onClick:()=>{e.history.push("/products")}},s.a.createElement(h.a,{title:"Total Products",value:T&&T.Total_Products})),s.a.createElement("br",null)),s.a.createElement(p.a,{xs:{span:12},sm:6,md:4},s.a.createElement(g.a,{className:"card_hover",onClick:()=>{e.history.push("/orders")}},s.a.createElement(h.a,{title:"Total Orders",value:T&&T.Total_Student})),s.a.createElement("br",null)),s.a.createElement(p.a,{xs:{span:12},sm:6,md:4},s.a.createElement(g.a,{className:"card_hover",onClick:()=>{e.history.push("/")}},s.a.createElement(h.a,{title:"Return Orders",value:T&&T.Total_Employee})),s.a.createElement("br",null)),s.a.createElement("div",null),s.a.createElement(p.a,{xs:{span:12},sm:12,md:12},s.a.createElement(g.a,{title:s.a.createElement("span",null," Store Detail "),style:{}},s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Name")),s.a.createElement(p.a,{span:16},T&&T.Store_List&&(null===(t=T.Store_List[0])||void 0===t?void 0:t.title))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Cuisine")),s.a.createElement(p.a,{span:16},T&&T.Store_List&&(null===(a=T.Store_List[0])||void 0===a||null===(r=a.cuisine)||void 0===r?void 0:r.map(e=>s.a.createElement(s.a.Fragment,null,e," "))))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Category")),s.a.createElement(p.a,{span:16},T&&T.Store_List&&(null===(n=T.Store_List[0])||void 0===n?void 0:n.store_category))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Open Time")),s.a.createElement(p.a,{span:16},T&&b()(T.Store_List&&(null===(i=T.Store_List[0])||void 0===i?void 0:i.open_time)).format("hh:mm a"))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Close Time")),s.a.createElement(p.a,{span:16},T&&b()(T.Store_List&&(null===(o=T.Store_List[0])||void 0===o?void 0:o.close_time)).format("hh:mm a"))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"State")),s.a.createElement(p.a,{span:16},T&&T.Store_List&&(null===(m=T.Store_List[0])||void 0===m?void 0:m.state))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"City")),s.a.createElement(p.a,{span:16},T&&T.Store_List&&(null===(y=T.Store_List[0])||void 0===y?void 0:y.city))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Postal")),s.a.createElement(p.a,{span:16},T&&T.Store_List&&(null===(f=T.Store_List[0])||void 0===f?void 0:f.postal))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Address")),s.a.createElement(p.a,{span:16},T&&T.Store_List&&(null===(v=T.Store_List[0])||void 0===v?void 0:v.address))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Created At")),s.a.createElement(p.a,{span:16},b()(T&&T.Store_List&&(null===(S=T.Store_List[0])||void 0===S?void 0:S.created_at)).format("DD-MM-YYYY"))),s.a.createElement(u.a,{style:{marginBottom:"3.98rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Status")),s.a.createElement(p.a,{span:16},T&&(T.Store_List&&(null===(_=T.Store_List[0])||void 0===_?void 0:_.status)?s.a.createElement("span",{style:{color:"green"}},"Publish"):s.a.createElement("span",{style:{color:"red"}},"UnPublish"))||"-")),s.a.createElement(p.a,{span:24}))),s.a.createElement(p.a,{xs:{span:12},sm:12,md:12},s.a.createElement(g.a,{title:s.a.createElement("span",null,"Contact Info"),style:{}},s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Email")),s.a.createElement(p.a,{span:16},B.countData&&B.countData.get_UserInfo.email||"")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Mobile Number")),s.a.createElement(p.a,{span:16},B.countData&&B.countData.get_UserInfo.mobile_number||"")),s.a.createElement(p.a,{span:24})),s.a.createElement(g.a,{title:s.a.createElement("div",{class:"d-flex justify-content-between"},s.a.createElement("span",null," FLAT DISCOUNT PIN "),W&&0===W.length&&s.a.createElement("span",null," ",s.a.createElement(E.a,{type:"primary",onClick:()=>{e.history.push("/pin/add/FLAT_DISCOUNT_PIN?redirect=dashboard")}},"Add Flat Discount Pin"))),style:{marginTop:"0rem"}},W&&0===W.length?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:16},"Please Add Pin"),s.a.createElement(p.a,{span:16},"\xa0"))):s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Title")),s.a.createElement(p.a,{span:16},W&&W[0]&&(null===(O=W[0])||void 0===O?void 0:O.title))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Status")),s.a.createElement(p.a,{span:16},W&&(W&&W[0]&&(null===(C=W[0])||void 0===C?void 0:C.is_published)?s.a.createElement("span",{style:{color:"green"}},"Publish"):s.a.createElement("span",{style:{color:"red"}},"UnPublish"))||"-")))),s.a.createElement(g.a,{title:s.a.createElement("div",{class:"d-flex justify-content-between"},s.a.createElement("span",null," LAST MINUTES PIN "),Y&&0===Y.length&&s.a.createElement("span",null," ",s.a.createElement(E.a,{type:"primary",onClick:()=>{e.history.push("/product/add?redirect=dashboard")}},"Add Last Minute Pin")," ")),style:{marginTop:"0rem"}},Y&&0===Y.length?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:16},"Please Add Pin"),s.a.createElement(p.a,{span:16},"\xa0"))):s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Title")),s.a.createElement(p.a,{span:16},Y&&Y[0]&&(null===(P=Y[0])||void 0===P?void 0:P.title))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Status")),s.a.createElement(p.a,{span:16},Y&&(Y&&Y[0]&&(null===(w=Y[0])||void 0===w?void 0:w.is_published)?s.a.createElement("span",{style:{color:"green"}},"Publish"):s.a.createElement("span",{style:{color:"red"}},"UnPublish"))||"-"))))),s.a.createElement(p.a,{className:"mb-5"}))),"ADMIN"!==D&&!V&&s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{type:"primary",className:"mb-4",onClick:()=>e.history.push("/store/add?verify=verify")},"Add Store"),s.a.createElement(d.a,{message:"Please Add Your Store",type:"error"}))):s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{gutter:15,className:"mobile_dashboard"},s.a.createElement(p.a,{xs:{span:12},sm:6,md:4},s.a.createElement(g.a,{className:"card_hover card-shadow ",onClick:()=>{e.history.push("/approve")}},s.a.createElement(u.a,{style:{marginBottom:"5px"}}),s.a.createElement(h.a,{title:"Pending Approvals",value:T&&(null===(I=T.Pending_Approval)||void 0===I?void 0:I.length)})),s.a.createElement("br",null)),s.a.createElement(p.a,{xs:{span:12},sm:6,md:4},s.a.createElement(g.a,{className:"card_hover card-shadow",onClick:()=>{e.history.push("/store-users")}},s.a.createElement(u.a,{style:{marginBottom:"5px"}}),s.a.createElement(h.a,{title:"Total Users",value:T&&T.GetTotalUsers})),s.a.createElement("br",null)),s.a.createElement(p.a,{xs:{span:12},sm:6,md:4},s.a.createElement(g.a,{className:"card_hover card-shadow",onClick:()=>{e.history.push("/stores")}},s.a.createElement(h.a,{title:"Total Stores",value:T&&T.Total_Store})),s.a.createElement("br",null)),s.a.createElement(p.a,{xs:{span:12},sm:6,md:4},s.a.createElement(g.a,{className:"card_hover card-shadow",onClick:()=>{e.history.push("/pins")}},s.a.createElement(h.a,{title:"Total Pins",value:T&&T.Total_Pins})),s.a.createElement("br",null)),s.a.createElement(p.a,{xs:{span:12},sm:6,md:4},s.a.createElement(g.a,{className:"card_hover card-shadow",onClick:()=>{e.history.push("/orders")}},s.a.createElement(h.a,{title:"Return Orders",value:T&&T.Total_Employee})),s.a.createElement("br",null))),"ADMIN"===D&&T&&T.Pending_Approval.map(t=>{var a,l;let r=`${null===t||void 0===t||null===(a=t.userInfo)||void 0===a?void 0:a.username} add a new store ${null===t||void 0===t||null===(l=t.storeInfo)||void 0===l?void 0:l.title} and request to approve this store`;return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{description:r,type:"error",className:"card_hover",onClick:()=>{e.history.push(`/store/view/${t.store_id}?redirect=approve`)}}))})))}),C=a(796),P=a(803),w=a(802),I=a(414),x=a(795);a(387),a(637);var T=Object(n.connect)(e=>{let{global:t}=e;return{global:t}})(e=>{const[t,a]=Object(l.useState)(!1),[r,n]=Object(l.useState)(0),[i,o]=Object(l.useState)([]),{dispatch:c}=(Object(l.useRef)(),e);Object(l.useEffect)(()=>{let e=!1;return()=>{e=!0}},[e]);return Object(l.useEffect)(()=>{let t=!1;return 0===e.resetVal.length&&o([]),()=>{t=!0}},[e.resetVal]),s.a.createElement(I.a,{key:1111,visible:e.visible,title:"Upload Image's",okText:"Upload",onCancel:()=>{a(!1),e.closeFun()},onOk:()=>{let t=[];i.map(e=>t.push({file:e.originFileObj,urls:e.thumbUrl})),a(!0),n(t.count),e.Extra&&(t.Extra=e.Extra),e.returnImg(t),e.closeFun(),o([]),n(0),a(!1)},okButtonProps:{disabled:t}},s.a.createElement(x.a,{customRequest:e=>{let{file:t,onSuccess:a}=e;setTimeout(()=>{a("ok")},0)},listType:"picture-card",fileList:i,showUploadList:{showPreviewIcon:!1},onChange:e=>{let{fileList:t}=e;o(t)},onPreview:async e=>{let t=e.url;t||(t=await new Promise(t=>{const a=new FileReader;a.readAsDataURL(e.originFileObj),a.onload=()=>t(a.result)}));const a=new Image;a.src=t;window.open(t).document.write(a.outerHTML)}},i.length<1&&"+ Upload"))}),N=a(808),D=a(27),j=a.n(D);var A=Object(n.connect)(e=>{let{account:t,loading:a}=e;return{account:t,loading:a}})(e=>{const[t,a]=Object(l.useState)(0),[r,n]=Object(l.useState)(0),[i,o]=Object(l.useState)([]),[m,d]=Object(l.useState)(!1),[h,y]=Object(l.useState)(""),[b,f]=Object(l.useState)(""),[v,S]=Object(l.useState)({}),{dispatch:_}=(Object(l.useState)(localStorage.getItem("role")),e),[O]=C.a.useForm(),[x,D]=Object(l.useState)(""),[A,F]=Object(l.useState)(!1);let k=JSON.parse(localStorage.getItem("user"));const[L,B]=Object(l.useState)(""),[M,V]=Object(l.useState)(!1),[q,U]=Object(l.useState)(!1);Object(l.useEffect)(()=>{let e=localStorage.getItem("isMobileVerified");V("false"!=e&&0!=e)},[]);Object(l.useEffect)(()=>{let e=k.mobile;B(e);let t=!1;return setTimeout(()=>document.title="Setting",100),_({type:"account/clearAction"}),y(localStorage.getItem("userId")),R(localStorage.getItem("userId")),()=>{t=!0}},[_]);const R=e=>_({type:"account/getDetail",payload:{_id:e,profile_id:e}});Object(l.useEffect)(()=>{let l=!1,s=e.account.detail;if(!l&&s.count>r&&s.status){n(s.count);let t=e.account.detail?e.account.detail.profile:{},a=e.account.detail?e.account.detail.userLogin:{};var i,o,c;if(S(a),"SUBADMIN"===a.roles)f(null===t||void 0===t||null===(i=t.schoolDetail)||void 0===i?void 0:i.media),O.setFieldsValue({school_name:null===t||void 0===t||null===(o=t.schoolDetail)||void 0===o?void 0:o.school_name,address:null===t||void 0===t||null===(c=t.schoolDetail)||void 0===c?void 0:c.address});else f(a.avatar);console.log(t),O.setFieldsValue({name:a.username,email:a.email,mobile_number:t.mobile_number})}let m=e.account.edit;return!l&&m.count>t&&m.status?(a(m.count),R(h)):!l&&m.count>t&&!m.status&&a(m.count),()=>{l=!0}},[e.account]);return console.log("detailData","SUBADMIN"===(null===v||void 0===v?void 0:v.roles)),s.a.createElement("div",null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(g.a,{style:{width:"100%"},title:"Account",bodyStyle:{padding:"20px 20px"}},s.a.createElement(C.a,{name:"normal_login",form:O,className:"full-width-form",initialValues:{remember:!0},onFinish:t=>{let a={name:t.name,email:t.email,phone:t.mobile_number,school_name:t.school_name,address:t.address};console.log("onFinish",t);const l=(e=>{const t=new FormData;for(const a in e)t.append(a,e[a]);return i.length>0&&i[0].file&&t.append("file",i[0].file),t})(a);console.log("formData",l),_({type:"account/editItem",payload:l,history:e})},layout:"vertical"},s.a.createElement(u.a,{gutter:16},s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input your Name!"}]},s.a.createElement(P.a,{placeholder:"Name"}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{placeholder:"Email",disabled:!0}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{label:"Mobile Number"},s.a.createElement(u.a,{gutter:12},s.a.createElement(p.a,{xs:24,span:12},s.a.createElement(C.a.Item,{name:"mobile_number",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{disabled:!0,placeholder:"mobile_number"})))))),"SUBADMIN"===(null===v||void 0===v?void 0:v.roles)&&s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"school_name",label:"School Name",rules:[{required:!0,message:"Please input your school name!"}]},s.a.createElement(P.a,{placeholder:"Enter School Name"}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"address",label:"School Address",rules:[{required:!0,message:"Please input your school address!"}]},s.a.createElement(P.a,{placeholder:"Enter School Address"}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"thumbnail",label:s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null," School Logo ")," ")},i.length>0&&i.map((e,t)=>e.urls?s.a.createElement(w.a,{key:t,shape:"square",size:150,src:e.urls,style:{margin:5}}):s.a.createElement(w.a,{key:t,shape:"square",size:150,src:"http://52.66.85.165:4001/"+e.url,style:{margin:5}})),i.length>0?s.a.createElement("span",null,s.a.createElement("br",null),s.a.createElement(E.a,{onClick:()=>o([])},"Remove"),"\xa0\xa0"):"",0===i.length&&s.a.createElement(E.a,{onClick:()=>d(!0)}," Upload Logo "))))),s.a.createElement(C.a.Item,null,s.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button bg-success border-0"},"Update")))),s.a.createElement(I.a,{width:400,visible:q,title:"Verify Your Mobile",footer:null,onCancel:()=>{F(!1),U(!1)}},s.a.createElement("div",{style:{textAlign:"center",marginBottom:"1rem"}},"A OTP ( One Time Password ) has been sent to ",s.a.createElement("b",null,L)," . Please enter the OTP in the field below to verify."),s.a.createElement(C.a,{className:"login-form"},s.a.createElement(C.a.Item,{name:"otp",rules:[{required:!0,message:"Please input your Otp!"}]},s.a.createElement(P.a,{prefix:s.a.createElement(N.a,{className:"site-form-item-icon"}),onChange:e=>{D(e.target.value)},placeholder:"OTP Enter Here!"})),s.a.createElement(C.a.Item,null,s.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:()=>(async()=>{let e={otp:x,mobile:L};const t=await j.a.post("http://52.66.85.165:4001/is-mobile/verified",e);!0===t.data.status?(alert(t.data.message),localStorage.setItem("isMobileVerified",!0),U(!1),V(!0)):alert(t.data.message)})()}," Verify ")))),m&&s.a.createElement(T,{visible:m,closeFun:()=>d(!1),returnImg:e=>{o(e)},resetVal:i,limit:5-i.length,aspect:.75}))}),F=a(798),k=a(299),L=a(789),B=a(794),M=a(424),V=a(421),q=a(297),U=a(195),R=a(196);a(656);Object(n.connect)(e=>{let{global:t}=e;return{global:t}})(e=>{const[t,a]=Object(l.useState)(!1),[r,n]=Object(l.useState)(0),[i,o]=Object(l.useState)([]),{dispatch:c}=(Object(l.useRef)(),e);Object(l.useEffect)(()=>{let e=!1;return()=>{e=!0}},[e]);return Object(l.useEffect)(()=>{let t=!1;return e.resetVal&&0===e.resetVal.length&&o([]),()=>{t=!0}},[e.resetVal]),Object(l.useEffect)(()=>{let t=!1,l=e.global.uploadsingle;return!t&&0>r&&(l.files.length>0||"done"===l.status)?(n(0),a(!1),o([]),e.returnImg({urls:l.files,file:l.file})):!t&&0>r&&"done"!==l.status&&(a(!1),n(0)),()=>{t=!0}},[e.global.uploadsingle]),s.a.createElement(I.a,{visible:e.visible,title:"Upload Image's",okText:"Upload",onCancel:()=>{a(!1),e.closeFun()},onOk:()=>{a(!0);let e=[];i.map(t=>e.push({image:t.originFileObj,view:t.thumbUrl})),c({type:"global/uploadFileSingle",payload:e})},okButtonProps:{disabled:t}},s.a.createElement(x.a,{customRequest:e=>{let{file:t,onSuccess:a}=e;setTimeout(()=>{a("ok")},0)},listType:"picture-card",fileList:i,onChange:e=>{let{fileList:t}=e;o(t)},onPreview:async e=>{let t=e.url;t||(t=await new Promise(t=>{const a=new FileReader;a.readAsDataURL(e.originFileObj),a.onload=()=>t(a.result)}));const a=new Image;a.src=t;window.open(t).document.write(a.outerHTML)}},i.length<(e.limit||1)&&"+ Upload"))}),a(400),a(43),a(298),a(401),a(753),a(754);const{Text:W}=F.a;a(756),a(19);var z=a(53),Y=(a(757),a(403)),$=a.n(Y),K=a(404);const{Text:J}=F.a,{TextArea:H}=P.a,{RangePicker:G}=((new Date).getTime(),q.a),Z={labelCol:{xs:{span:24},sm:{span:24}}};var Q=Object(n.connect)(e=>{let{pages:t,global:a,loading:l}=e;return{pages:t,global:a}})(e=>{const[t]=C.a.useForm(),{dispatch:a}=e,[r,n]=Object(l.useState)(""),[i,o]=Object(l.useState)(""),[c,m]=Object(l.useState)(0);Object(l.useEffect)(()=>{let a=!1;return window.scroll(0,0),e.match.params.id?d(e.match.params.id):t.resetFields(),()=>{a=!0}},[a]);const d=t=>{e.dispatch({type:"pages/pagesDetail",payload:t})};Object(l.useEffect)(()=>{let l=!1;if(e.pages.add&&(a({type:"pages/clearAction"}),e.history.push("/pages")),e.pages.edit&&(a({type:"pages/clearAction"}),e.history.push("/pages")),e.pages&&e.pages.detail&&e.pages.detail.status){let a=e.pages.detail.data[0];o(a._id),t.setFieldsValue({title:a.title,description:a.description,isActive:a.isActive})}return()=>{l=!0}},[e.pages]);return s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/pages")}),e.detail?"Edit Page":"Add Page"),style:{marginTop:"0"}},s.a.createElement(C.a,Object.assign({},Z,{form:t,name:"loc_info",layout:"vertical",onFinish:t=>{e.match.params.id?(t._id=i,a({type:"pages/EditPages",payload:t})):a({type:"pages/AddPages",payload:t})},className:"innerFields"}),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:12},s.a.createElement(C.a.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{placeholder:"Title"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{label:"Description",name:"description",valuePropName:"data",getValueFromEvent:(e,t)=>t.getData(),rules:[{required:!0,message:"Field required!"}]},s.a.createElement(K.CKEditor,{editor:$.a,config:{ckfinder:{uploadUrl:"http://52.66.85.165:4001/pageckeditor"}}})))),s.a.createElement(C.a.Item,{name:"isActive",valuePropName:"checked"},s.a.createElement(U.a,null,"isActive")),s.a.createElement(C.a.Item,{className:"mb-0"},s.a.createElement(E.a,{onClick:()=>{t.resetFields(),e.history.push("/pages")}},"Cancel"),"\xa0\xa0",s.a.createElement(E.a,{type:"primary",className:"btn-w25 btn-primary-light",onClick:()=>t.submit()},"Save"))))}),X=a(804);const ee=e=>{const t=new FormData;for(let a in e)t.append(a,e[a]);return t},te=e=>["",null,void 0].includes(e);const ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2?arguments[2]:void 0;const l=[{required:!0,message:"This field is required!"},{max:t,message:`${e} must not be greater than ${t} characters.`},{whitespace:!0,message:"blank spaces are not allowed"}];return a&&l.push({required:!0,message:"A value must be entered",pattern:new RegExp(/^[0-9]+$/)}),l},le=e=>{var t;let a=null===(t=e[0])||void 0===t?void 0:t.split("/")[1].split(";")[0];return Object.values(e).map((e,t)=>e.startsWith("http://52.66.85.165:4001")?e:se(e,"image_"+t+"."+a))},se=(e,t)=>{for(var a=e.split(","),l=a[0].match(/:(.*?);/)[1],s=atob(a[1]),r=s.length,n=new Uint8Array(r);r--;)n[r]=s.charCodeAt(r);return new File([n],t,{type:l})},{Search:re}=P.a,{Text:ne}=F.a,{TabPane:ie}=k.a;class oe extends s.a.Component{constructor(e){super(e),this.ListFun=()=>{this.props.dispatch({type:"pages/pagesList",payload:{}})},this.ShowSizeChange=(e,t)=>this.setState({limit:t},()=>this.ListFun()),this.switchFun=e=>this.setState({inactive:e},()=>this.ListFun()),this.ChangeOrder=e=>this.setState({sortBy:"asc"===this.state.sortBy?"desc":"asc"},()=>this.ListFun()),this.searchVal=e=>{this.state.searchText=e;const t=this.props.pages.list.filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()));this.setState({listData:t})},this.createCat=e=>{e&&this.ListFun(),this.setState({detail:"",addModel:!1})},this.deletePages=e=>{this.props.dispatch({type:"pages/deletePages",payload:e})},this.state={limit:25,current:1,sortBy:"asc",addModel:!1,inactive:!1,searchText:"",loader:!1,detail:"",count:0,Addcount:0,listData:[]},setTimeout(()=>document.title="Page List",100),this.isUpdate=!1}componentDidMount(){this.ListFun()}getSnapshotBeforeUpdate(e,t){return this.props.pages.delete?(this.props.dispatch({type:"pages/clearAction"}),this.ListFun(),!0):null}componentDidUpdate(e,t,a){}render(){const{inactive:e,limit:t,searchText:a,addModel:l,detail:r}=this.state,{pages:n}=this.props;""==this.state.searchText&&(this.state.listData=n.list?n.list:[]);const i=[{title:s.a.createElement("strong",null,"Title"),dataIndex:"title"},{title:s.a.createElement("strong",null,"isActive"),dataIndex:"isActive",render:(e,t)=>s.a.createElement("span",null,!0===e?"Active":"Deactive")},{title:s.a.createElement("strong",null,"Action"),align:"center",render:(e,t)=>s.a.createElement("div",{onClick:e=>e.stopPropagation()},s.a.createElement(E.a,{type:"default",className:"edit_btn",onClick:()=>{this.props.history.push("/pages/edit/"+t.slug)}},s.a.createElement(M.a,null)),s.a.createElement(L.a,{title:"Are you sure delete this page?",onConfirm:e=>{this.deletePages(t.slug),e.stopPropagation()},okText:"Yes",cancelText:"No"},s.a.createElement(E.a,{type:"danger"},s.a.createElement(V.a,null))))}];return s.a.createElement("div",null,s.a.createElement(u.a,{className:"TopActionBar",gutter:[16,0],justify:"space-between",align:"middle"},s.a.createElement(p.a,null,s.a.createElement(re,{placeholder:"Search...",onChange:e=>this.searchVal(e.target.value),value:a})),s.a.createElement(p.a,null,s.a.createElement(E.a,{type:"primary",onClick:()=>this.props.history.push("/pages/add")},"Add"))),s.a.createElement("div",{className:"innerContainer"},s.a.createElement(g.a,{style:{marginTop:"0"},bodyStyle:{padding:"0 15px 15px"}},s.a.createElement(B.a,{columns:i,dataSource:this.state.listData,rowKey:e=>e._id,loading:this.props.loading.global,onRow:(e,t)=>({}),pagination:{position:["bottomLeft"],showTotal:(e,t)=>s.a.createElement(ne,{type:"secondary"},`Showing ${t[0]}-${t[1]} of ${e}`),showSizeChanger:!0,responsive:!0,onShowSizeChange:(e,t)=>this.ShowSizeChange(e,t),pageSizeOptions:["10","25","50","100","250","500"]}}))))}}var ce=Object(n.connect)(e=>{let{pages:t,loading:a}=e;return{pages:t,loading:a}})(oe),me=a(243),de=a(194);const ue={labelCol:{xs:{span:24},sm:{span:24}}};var pe=Object(n.connect)(e=>{let{}=e;return{}})(e=>{var t,a,r;const[n]=C.a.useForm(),{dispatch:i}=e,[o,c]=Object(l.useState)([]),[m,d]=Object(l.useState)(0),[u,p]=Object(l.useState)(0),[g,h]=Object(l.useState)(!1);Object(l.useEffect)(()=>{let e=!1;return()=>{e=!0}},[i]),Object(l.useEffect)(()=>{let t=!1,a=e.detail;return e.detail?n.setFieldsValue({option:a.option,value:a.value}):n.resetFields(),()=>{t=!0}},[e.visible]);const y=()=>{e.detail||n.resetFields(),e.closeModel()};return s.a.createElement(I.a,{visible:e.visible,title:e.detail?"Edit Setting":"Add Setting",onCancel:y,footer:s.a.createElement(l.Fragment,null,s.a.createElement(E.a,{onClick:y},"Cancel"),s.a.createElement(E.a,{type:"primary",disabled:g,className:"btn-w25 btn-primary-light",onClick:()=>n.submit()},e.detail?"Edit Setting":"Add Setting"))},s.a.createElement(C.a,Object.assign({},ue,{form:n,name:"loc_info",layout:"vertical",onFinish:async t=>{if(h(!0),e.detail){t.id=e.detail._id;await j.a.post(`http://52.66.85.165:4001/api/update/${t.id}/setting`,t);e.returnData(t)}else{await j.a.post("http://52.66.85.165:4001/api/create/setting",t);e.returnData(t)}h(!1)},className:"innerFields"}),s.a.createElement(C.a.Item,{name:"option",rules:[{required:!0,message:"This field is required!"}]},s.a.createElement(P.a,{placeholder:"Option",disabled:!!e.detail})),"PUBLIC_WEB_UNDER_MAINTENANCE"===(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.option)||"SELLER_WEB_UNDER_MAINTENANCE"===(null===e||void 0===e||null===(a=e.detail)||void 0===a?void 0:a.option)?s.a.createElement(C.a.Item,{name:"value"},s.a.createElement(de.a,{style:{width:"100%"},defaultValue:null===e||void 0===e||null===(r=e.detail)||void 0===r?void 0:r.value},s.a.createElement(de.a.Option,{value:"Yes"},"Yes"),s.a.createElement(de.a.Option,{value:"No"},"No"))):s.a.createElement(C.a.Item,{name:"value",rules:[{required:!0,message:"This field is required!"}]},s.a.createElement(P.a,{placeholder:"Value"}))))});const{Search:ge}=P.a,{Text:he}=F.a;class Ee extends s.a.Component{constructor(e){super(e),this.ListFun=async()=>{Object(me.a)(localStorage.getItem("token"));const e=await j.a.post("http://52.66.85.165:4001/api/list/setting");this.setState({listData:e.data.settings})},this.ShowSizeChange=(e,t)=>this.setState({limit:t},()=>this.ListFun()),this.switchFun=e=>this.setState({inactive:e},()=>this.ListFun()),this.ChangeOrder=e=>this.setState({sortBy:"asc"===this.state.sortBy?"desc":"asc"},()=>this.ListFun()),this.paginationFun=e=>this.setState({current:e.current},()=>this.ListFun()),this.searchVal=e=>{this.state.searchText=e;const t=this.props.blogsCategory.list.result.filter(t=>t.category_name.toLowerCase().includes(e.toLowerCase()));this.setState({listData:t})},this.createCat=e=>{this.ListFun(),this.setState({addModel:!1})},this.deleteCat=e=>{this.props.dispatch({type:"blogsCategory/deleteblogsCategory",payload:{id:e}})},this.state={count:0,Addcount:0,limit:25,current:1,searchText:"",loader:!1,detail:"",addModel:!1,listData:[],data:[],pagination:{current:1,pageSize:10},loading:!1,sortBy:"asc",inactive:!1},setTimeout(()=>document.title="Setting List",100)}componentDidMount(){this.ListFun()}componentDidUpdate(e,t,a){a&&this.ListFun()}render(){const{loading:e,addModel:t,detail:a,searchText:l}=this.state,r=[{title:s.a.createElement("strong",null,"Option"),dataIndex:"option"},{title:s.a.createElement("strong",null,"Value"),dataIndex:"value"},{title:s.a.createElement("strong",null,"Action"),width:100,align:"center",render:(e,t)=>s.a.createElement("div",{onClick:e=>e.stopPropagation()},console.log("val",e)," ",s.a.createElement(E.a,{type:"primary",onClick:()=>this.setState({addModel:!0,detail:e})}," Edit "))}];return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,null,s.a.createElement(u.a,{style:{marginBottom:"0.625rem"},className:"TopActionBar",gutter:[16,0],justify:"space-between",align:"middle"},s.a.createElement(p.a,null,s.a.createElement(ge,{placeholder:"Search...",loading:this.props.submitting,onChange:e=>this.searchVal(e.target.value),value:l})),s.a.createElement(p.a,null,s.a.createElement(E.a,{type:"primary",onClick:()=>this.setState({addModel:!0})},"Add"))),s.a.createElement(B.a,{columns:r,loading:this.props.loading.global,rowKey:e=>e._id,dataSource:this.state.listData,onChange:this.paginationFun,onRow:(e,t)=>({onClick:t=>this.setState({addModel:!0,detail:e})}),pagination:{position:["bottomLeft"],showTotal:(e,t)=>s.a.createElement(he,{type:"secondary"},`Showing ${t[0]}-${t[1]} of ${e}`),showSizeChanger:!0,responsive:!0,onShowSizeChange:(e,t)=>this.ShowSizeChange(e,t),pageSizeOptions:["10","25","50","100","250","500"]}})),s.a.createElement(pe,{visible:t,returnData:this.createCat,closeModel:()=>this.setState({addModel:!1,detail:""}),detail:a}))}}var ye=Object(n.connect)(e=>{let{loading:t}=e;return{loading:t}})(Ee),be=a(54);a(762);const{Text:fe}=F.a;var ve=Object(n.connect)(e=>{let{loading:t}=e;return{}})(e=>{const[t]=C.a.useForm(),[a,r]=Object(l.useState)(0),[n,i]=Object(l.useState)(!1),[o,c]=Object(l.useState)(!1),[m,d]=Object(l.useState)(!1),[u,p]=Object(l.useState)(!1),[g,h]=Object(l.useState)(!1),[y,b]=Object(l.useState)(!1),[f,v]=Object(l.useState)(!1),[S,_]=Object(l.useState)(!1),[O,w]=Object(l.useState)(!1),[I,x]=Object(l.useState)(!1),T=Object(l.useRef)(),{dispatch:N}=e;Object(l.useEffect)(()=>{let e=!1;return()=>{e=!0}},[N]);const D=s.a.createElement(l.Fragment,null,s.a.createElement("h4",null,"Password Requirements"),s.a.createElement("div",{className:"subcontent"},s.a.createElement("p",{className:m?"active":""},"8-16 Characters"),s.a.createElement("p",{className:u?"active":""},"1 Uppercase Letter"),s.a.createElement("p",{className:g?"active":""},"1 Lowercase Letter"),s.a.createElement("p",{className:y?"active":""},"1 Number"),s.a.createElement("p",{className:f?"active":""},"1 Special Character"))),j=I?s.a.createElement("i",{className:"far fa-check",style:{color:"rgba(30, 202, 183, 1)"}}):s.a.createElement("i",null);return s.a.createElement(l.Fragment,null,o,s.a.createElement(C.a,{layout:"vertical",form:t,name:"resetpass",className:"login-form",onFinish:t=>{console.log(),delete t.Cpassword,I&&x(!1),S&&_(!1),O&&w(!1),e.successCall(t),console.log(I),console.log("working")}},!e.hideOldPass&&s.a.createElement(C.a.Item,{name:"oldPassword",label:"CURRENT PASSWORD",rules:[{required:!0,message:"Please confirm your password!"}]},s.a.createElement(P.a,{type:"password",className:"hasLeftPrefix",prefix:s.a.createElement("i",{className:"fas fa-key",name:"key"}),maxLength:"16",placeholder:"Current Password"})),s.a.createElement(be.a,{placement:"right",title:D,trigger:"focus",overlayClassName:"intooltip",visible:S},s.a.createElement(C.a.Item,{name:"password",label:"NEW PASSWORD",rules:[{required:!0,message:"This field is required."},{validator:async(e,t)=>await(e=>{var t=e;let a=/^(?=\S*[A-Z])/g,l=/^(?=\S*\d)/g,s=/^(?=\S*[a-z])/g,r=/[^\w\s]/g.test(t);if(void 0!==e){let n=l.test(t)&&a.test(t)&&s.test(t)&&r&&e.length>7&&e.length<17;return d(e.length>7&&e.length<17),p(a.test(t)),h(s.test(t)),b(l.test(t)),v(r),n||""===e?(_(!1),void(""!==e&&x(!0))):(_(!0),x(!1),Promise.reject("Please enter valid password!"))}return x(!1),_(!0)})(t)}]},s.a.createElement(P.a,{type:n?"text":"password",className:(I?"hasEyeIcon":"")+" hasLeftPrefix",prefix:s.a.createElement("i",{className:"fas fa-key",name:"key"}),placeholder:"Password",maxLength:"16",suffix:j,onFocus:()=>_(!0),onBlur:()=>_(!1)}))),s.a.createElement(C.a.Item,{name:"Cpassword",label:"CONFIRM PASSWORD",dependencies:["password"],rules:[{required:!0,message:"Please confirm your password!"},e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a?a&&t("password")===a?(t("password")===a&&w(!0),Promise.resolve()):(w(!1),Promise.reject("Passwords not match!")):Promise.reject("")}}]},s.a.createElement(P.a,{type:n?"text":"password",className:"hasLeftPrefix hasEyeIcon",prefix:s.a.createElement("i",{className:"fas fa-key",name:"key"}),maxLength:"16",placeholder:"Confirm Password"})),s.a.createElement(C.a.Item,{style:{textAlign:"right",margin:0}},e.cancelBtn&&s.a.createElement(E.a,{onClick:a=>{I&&x(!1),S&&_(!1),O&&w(!1),t.resetFields(),e.skip()}},"Cancel"),"\xa0",s.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"btn-w25",ref:T},e.buttonText?e.buttonText:"Set Password"))))}),Se=a(10),_e=a(166),Oe=a(70),Ce=a(422);const{Text:Pe}=F.a,{TextArea:we}=P.a,Ie={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},xe={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};Object(n.connect)(e=>{let{setting:t,loading:a}=e;return{setting:t,loading:a}})(e=>{const[t]=C.a.useForm(),[a,r]=Object(l.useState)([]),[n,i]=Object(l.useState)([]),[o,c]=Object(l.useState)([]),[m,d]=Object(l.useState)({}),[u,p]=Object(l.useState)(0),[h,y]=Object(l.useState)(0),[b,f]=Object(l.useState)(0),[v,S]=Object(l.useState)(!1),[_,O]=Object(l.useState)(!1),[x,D]=Object(l.useState)(!1),[j,A]=Object(l.useState)(""),[F,k]=Object(l.useState)(!1),[L,B]=Object(l.useState)(!1),[M,V]=Object(l.useState)(),[q,U]=Object(l.useState)("ADMIN"===localStorage.getItem("role")),[W,z]=Object(l.useState)({}),{dispatch:Y}=(Object(l.useRef)(),e);Object(l.useEffect)(()=>{let a=!1;return window.scroll(0,0),e.match.params.id?$():(t.resetFields(),r([]),i([])),()=>{a=!0}},[Y]);const $=()=>{Y(q?{type:"setting/getBussinessDataById",payload:{_id:e.match.params.id}}:{type:"setting/getBussinessDataById",payload:{}})};Object(l.useEffect)(()=>{let a=!1,l=e.setting.getSingleBussines,s=l.data;return s&&(t.setFieldsValue({acNumber:s.acNumber,address:s.address,bemail:s.bemail,branch:s.branch,gstno:s.gstno,idno:s.idno,ifsc:s.ifsc,images:s.images,panNumber:s.panNumber,phone:s.phone,storeName:s.storeName,typeSeller:s.typeSeller}),r(null===s||void 0===s?void 0:s.images),i(s.FSI?s.FSI:"")),d(s),!a&&e.match.params.id&&l&&l.status&&l.data?c(l.data):a||!l||l.status||(c([]),t.resetFields()),()=>{a=!0}},[e.setting.getSingleBussines]);Object(l.useEffect)(()=>{let e=!1;return()=>{e=!0}},[Y]),Object(l.useEffect)(()=>{let t=!1,a=e.setting.create;!t&&a.count>u&&a.status?(p(a.count),O(!1),e.history.push("/setting")):!t&&a.count>u&&!a.status&&(O(!1),p(a.count));let l=e.setting.update;!t&&l&&l.count>h&&l.status?(y(l.count),O(!1),e.history.push("/setting")):t||!l||l.status||y(l.count);let s=e.setting.approve;return!t&&s&&s.status&&s.count>b&&(f(s.count),O(!1),Y({type:"setting/approveReset"}),e.history.push("/approve")),()=>{t=!0}},[e.setting]);const K=e=>{V(e),B(!0)};return s.a.createElement(l.Fragment,null,s.a.createElement(g.a,{style:{width:"100%"},title:s.a.createElement("span",null,s.a.createElement(R.a,null)," Business Verification Form"),bodyStyle:{padding:"0 20px 20px"}},s.a.createElement(C.a,Object.assign({},Ie,{form:t,name:"verifyForm",onFinish:t=>{if(t.images=a,0===a.length)return Se.b.error("GOVT ID's required!");e.match.params.id?(t._id=e.match.params.id,Y({type:"setting/updateItem",payload:t})):Y({type:"setting/createVerify",payload:t})},style:{maxWidth:930,margin:"0 auto !important"}}),s.a.createElement(C.a.Item,{name:"storeName",label:"STORE NAME",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{placeholder:"Store Name",disabled:q})),s.a.createElement(C.a.Item,{name:"bemail",label:"EMAIL",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{placeholder:"Email",disabled:q})),s.a.createElement(C.a.Item,{name:"phone",label:"PHONE",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{placeholder:"Phone",disabled:q})),s.a.createElement(C.a.Item,{name:"address",label:"BUSINESS ADDRESS",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{placeholder:"Business Address",disabled:q})),s.a.createElement(C.a.Item,{name:"panNumber",label:"PAN NUMBER",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{placeholder:"Pan Number",disabled:q})),s.a.createElement(C.a.Item,{name:"gstno",label:"GST NUMBER",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{placeholder:"GST Number",disabled:q})),s.a.createElement(C.a.Item,{name:"idno",label:"GOVT ID",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{placeholder:"Govt Id Type",disabled:q},s.a.createElement(de.a.Option,{value:"Aadhar Card"},"Aadhar Card"),s.a.createElement(de.a.Option,{value:"Voter ID"},"Voter ID"),s.a.createElement(de.a.Option,{value:"Driving Licence"},"Driving Licence"))),s.a.createElement(C.a.Item,{name:"fsaino",label:"FSAAI NUMBER"},s.a.createElement(P.a,{placeholder:"FSAAI Number",disabled:q})),s.a.createElement(C.a.Item,{name:"typeSeller",label:"TYPE OF SELLER",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{placeholder:"Type of Seller"},s.a.createElement(de.a.Option,{value:"Vendor or 3rd party vendor"},"Vendor or 3rd party vendor"),s.a.createElement(de.a.Option,{value:"Seller"},"Seller"),s.a.createElement(de.a.Option,{value:"Manufacturer"},"Manufacturer"),s.a.createElement(de.a.Option,{value:"Brand owner"},"Brand owner"))),s.a.createElement(C.a.Item,{name:"acNumber",label:"BANK ACCOUNT NUMBER",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{placeholder:"Bank Account Number",disabled:q})),s.a.createElement(C.a.Item,{name:"ifsc",label:"IFSC CODE",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{placeholder:"IFSC Code",disabled:q})),s.a.createElement(C.a.Item,{name:"branch",label:"BANK BRANCH NAME",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{placeholder:"Bank Branch Name",disabled:q})),s.a.createElement(C.a.Item,{name:"images",label:s.a.createElement("span",null,s.a.createElement("span",{style:{color:"#ff4d4f"}},"* "),"GOVT ID's"),rules:[{required:!1,message:"Field required!"}]},a.length>0&&a.map((e,t)=>s.a.createElement(w.a,{key:t,shape:"square",size:150,src:"http://52.66.85.165:4001/"+e.file,onClick:()=>K("http://52.66.85.165:4001/"+e.file),style:{margin:5}})),s.a.createElement("br",null)),s.a.createElement(C.a.Item,{name:"images",label:s.a.createElement("span",null,s.a.createElement("span",{style:{color:"#ff4d4f"}},"* "),"FSAAI DOC ")},n.file?s.a.createElement(w.a,{key:"FASSAI1456",shape:"square",size:150,src:"http://52.66.85.165:4001/"+n.file,onClick:()=>K("http://52.66.85.165:4001/"+n.file),style:{margin:5}}):"",s.a.createElement("br",null)),s.a.createElement(C.a.Item,xe,s.a.createElement(E.a,{onClick:a=>{t.resetFields(),r([]),i([]),q?e.history.push("/approve"):e.history.push("/setting")}},"Cancel")," \xa0",m&&q?s.a.createElement(l.Fragment,null,s.a.createElement(E.a,{type:"primary",onClick:()=>{return e=m.loginid?m.loginid._id:"",Y({type:"setting/approveBuss",payload:{user_id:e,isBussinessVerified:!0,note:"congratulations Choovoo Barber  team will contact you shortly"}}),void z({RejectionMessage:"",selectedUsers:0,isBussinessVerified:!1,modelVisible:!1});var e},disabled:m.loginid?m.loginid.isBussinessVerified:""},s.a.createElement(_e.a,null)," Accept")," \xa0",s.a.createElement(E.a,{type:"danger",onClick:()=>{return e=m.loginid?m.loginid._id:"",void z({selectedUsers:e,isBussinessVerified:!1,modelVisible:!0});var e},disabled:m.loginid?!m.loginid.isBussinessVerified:""},s.a.createElement(Oe.a,null)," Reject")):"")),s.a.createElement(T,{visible:F,closeFun:()=>k(!1),returnImg:e=>(e=>{r(e),t.setFieldsValue({images:[]})})(e),resetVal:a,aspect:.75})),s.a.createElement(I.a,{title:"Write Some Note Here!",visible:W.modelVisible,onOk:()=>{if(!W.RejectionMessage||0==W.RejectionMessage.length){let e=W;e.RejectionMessage="Your request is not approved as we could not verify this details. Please reach out to our team or share the time convenient to you. We will get in touch",z(e)}let e={user_id:W.selectedUsers,isBussinessVerified:W.isBussinessVerified,note:W.RejectionMessage};Y({type:"setting/approveBuss",payload:e}),z({RejectionMessage:"",selectedUsers:0,isBussinessVerified:!1,modelVisible:!1})},onCancel:()=>{z({RejectionMessage:"",selectedUsers:0,isBussinessVerified:!1,modelVisible:!1})}},s.a.createElement(P.a,{size:"large",placeholder:"Note",onChange:e=>(e=>{let t=W;t.RejectionMessage=e.target.value,z(t)})(e),prefix:s.a.createElement(N.a,null)}),s.a.createElement("br",null),s.a.createElement("span",{style:{color:"red"}},s.a.createElement("small",null,j||""))),s.a.createElement(I.a,{width:1e3,visible:L,title:null,footer:null,onCancel:()=>{B(!1)}},s.a.createElement(Ce.a,{style:{fontSize:"48px",cursor:"pointer"},onClick:()=>{fetch(M).then(e=>{e.arrayBuffer().then((function(e){const t=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.href=t,a.setAttribute("download","image.png"),document.body.appendChild(a),a.click()}))}).catch(e=>{console.log(e)})}}),s.a.createElement("img",{alt:"example",style:{width:"100%"},src:M})))});const{TabPane:Te}=k.a;var Ne=Object(n.connect)(e=>{let{setting:t,auth:a,loading:l}=e;return{setting:t,auth:a,loading:l}})(e=>{const[t,a]=Object(l.useState)(0),[r,n]=Object(l.useState)("tab1"),[i,o]=Object(l.useState)({}),[m,d]=Object(l.useState)([]),u=localStorage.getItem("role"),p=localStorage.getItem("userId"),{dispatch:h}=e;Object(l.useEffect)(()=>{let e=!1;return"SELLER"===u&&E(),setTimeout(()=>document.title="Setting",100),h({type:"setting/clearAction"}),()=>{e=!0}},[h]),Object(l.useEffect)(()=>{let e=!1;return console.log(u),()=>{e=!0}},[]);const E=()=>h({type:"account/getDetail",payload:{_id:p,profile_id:p}});Object(l.useEffect)(()=>{let t=!1,a=e.setting.getBuss;return!t&&a&&a.status&&a.data?(o(a),d(a.data)):t||!a||a.status||o({}),()=>{t=!0}},[e.setting.getBuss]);return Object(l.useEffect)(()=>{let l=!1,s=e.setting.resetp;return!l&&s.count>t&&s.status&&(a(s.count),e.history.push("/")),()=>{l=!0}},[e.setting.resetp]),s.a.createElement("div",null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(g.a,{style:{width:"100%"},title:"SETTING",bodyStyle:{padding:"0 20px 20px"}},s.a.createElement(k.a,{defaultActiveKey:"1",onChange:e=>{n(e)}},s.a.createElement(Te,{tab:"Change Password",key:"1"},s.a.createElement(ve,Object.assign({},e,{successCall:e=>(e=>{console.log("setting",e),h({type:"setting/changePassword",payload:e})})(e),cancelBtn:!0,skip:()=>console.log("skip")}))))))}),De=(a(294),a(408)),je=a.n(De);const{Search:Ae}=P.a,{Text:Fe}=F.a;class ke extends s.a.Component{constructor(e){super(e),this.ListFun=()=>{Object(me.a)(localStorage.getItem("token"));this.state.current,this.state.limit,this.state.inactive,this.state.searchText,this.state.sortBy;localStorage.setItem("newsSearch",JSON.stringify(this.state));let e={page:this.state.current-1,limit:this.state.limit,inactive:this.state.inactive,searchText:this.state.searchText,sortBy:this.state.sortBy};this.props.dispatch({type:"plans/getStripePaymentList",payload:e})},this.ShowSizeChange=(e,t)=>this.setState({limit:t},()=>this.ListFun()),this.switchFun=e=>this.setState({inactive:e},()=>this.ListFun()),this.ChangeOrder=e=>this.setState({sortBy:"asc"===this.state.sortBy?"desc":"asc"},()=>this.ListFun()),this.paginationFun=e=>this.setState({current:e.current},()=>this.ListFun()),this.searchVal=e=>{this.state.searchText=e;const t=this.props.plans.list.data.filter(t=>t.subject_name.toLowerCase().includes(e.toLowerCase()));this.setState({listData:t})},this.state={count:0,Addcount:0,limit:25,current:1,searchText:"",loader:!1,detail:"",addModel:!1,listData:[],data:[],pagination:{current:1,pageSize:10},loading:!1,sortBy:"asc",inactive:!1},setTimeout(()=>document.title="Subject List",100)}componentDidMount(){this.ListFun()}render(){var e;const{loading:t,addModel:a,detail:l,searchText:r}=this.state,{plans:n}=this.props;let i=null===n||void 0===n||null===(e=n.payment_list)||void 0===e?void 0:e.stripePayments;console.log("plans ---",i);""==this.state.searchText&&(this.state.listData=n.list?n.list.data:[]);const o=[{title:s.a.createElement("strong",null,"Payment ID"),dataIndex:"_id"},{title:s.a.createElement("strong",null,"Email"),dataIndex:"email"},{title:s.a.createElement("strong",null,"User ID"),dataIndex:"user_id"},{title:s.a.createElement("strong",null,"Payment Intent ID"),dataIndex:"payment_intent_id"},{title:s.a.createElement("strong",null,"Payment Status"),dataIndex:"payment_status",render:(e,t)=>"SUCCESS"===t.payment_status?s.a.createElement("span",{style:{color:"green"}}," ",t.payment_status," "):"FAILED"===t.payment_status?s.a.createElement("span",{style:{color:"red"}}," ",t.payment_status," "):s.a.createElement("span",null," ",t.payment_status," ")},{title:s.a.createElement("strong",null,"Client Secret"),dataIndex:"client_secret"},{title:s.a.createElement("strong",null,"Created Date"),dataIndex:"created_at",render:(e,t)=>t.created_at?s.a.createElement(je.a,{format:"MM- DD-YYYY"},t.created_at):"-"}];return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,null,s.a.createElement(u.a,{style:{marginBottom:"0.625rem"},className:"TopActionBar",gutter:[16,0],justify:"space-between",align:"middle"},s.a.createElement(p.a,null,s.a.createElement(Ae,{placeholder:"Search...",loading:this.props.submitting,onChange:e=>this.searchVal(e.target.value),value:r})),s.a.createElement(p.a,null,s.a.createElement(E.a,{type:"primary",onClick:()=>this.setState({addModel:!0})},"Add"))),s.a.createElement(B.a,{scroll:{x:400},columns:o,loading:this.props.loading.global,rowKey:e=>e._id,dataSource:i,onChange:this.paginationFun,onRow:(e,t)=>({onClick:t=>this.setState({addModel:!0,detail:e})}),pagination:{position:["bottomLeft"],showTotal:(e,t)=>s.a.createElement(Fe,{type:"secondary"},`Showing ${t[0]}-${t[1]} of ${e}`),showSizeChanger:!0,responsive:!0,onShowSizeChange:(e,t)=>this.ShowSizeChange(e,t),pageSizeOptions:["10","25","50","100","250","500"]}})))}}var Le=Object(n.connect)(e=>{let{plans:t,loading:a}=e;return{plans:t,loading:a}})(ke),Be=a(252);const{Search:Me}=P.a,{Text:Ve}=F.a;class qe extends s.a.Component{constructor(e){super(e),this.ListFun=()=>{let e={limit:this.state.limit,page:this.state.current,sortBy:this.state.sortBy};this.props.dispatch({type:"stores/listData",payload:e})},this.ShowSizeChange=(e,t)=>{this.setState({limit:t,current:e-1},()=>this.ListFun())},this.searchVal=e=>{this.state.searchText=e;const t=this.props.stores.list.filter(t=>JSON.stringify(t).toLowerCase().includes(e.toLowerCase()));this.setState({listData:t})},this.deleteItem=async e=>{let t={_id:e};!0===(await this.props.dispatch({type:"stores/delete",payload:t})).status&&"ADMIN"!==localStorage.getItem("role")&&this.props.history.push("/")},this.handleDeactiveUser=async e=>{let t=this.state.listData;console.log("list",t);let a=t.map(t=>(t._id===e&&(t.status=!t.status),t));this.setState({listData:a}),await j.a.post("http://52.66.85.165:4001/api/store/status",{id:e})},this.state={limit:10,current:0,sortBy:"asc",searchText:"",loader:!1,count:0,listData:[],isAdmin:!1},setTimeout(()=>document.title="Store List",100)}componentDidMount(){this.ListFun(),"ADMIN"===localStorage.getItem("role")&&this.setState({isAdmin:!0})}componentDidUpdate(e,t,a){a&&this.ListFun()}render(){const{location:e}=this.props;e.pathname.split("/").filter(e=>e)[0].toUpperCase();const{searchText:t}=this.state,{stores:a}=this.props,l=null===a||void 0===a?void 0:a.count;""==this.state.searchText&&(this.state.listData=a?a.list:[]);const r=[{title:s.a.createElement("strong",null,"Store Image"),dataIndex:"images",cursor:"pointer",width:150,render:(e,t)=>{var a;return console.log("\ud83d\ude80 ~ file: list.js:118 ~ PinList ~ render ~ val:",e),s.a.createElement(w.a,{shape:"square",size:60,src:""+(e&&(null===(a=e[0])||void 0===a?void 0:a.url)),style:{margin:5}})}},{title:s.a.createElement("strong",null,"Store Name"),dataIndex:"title",sorter:(e,t)=>e.name.localeCompare(t.name)},{title:s.a.createElement("strong",null,"Store Address"),dataIndex:"address"},{title:s.a.createElement("strong",null,"State"),dataIndex:"state"},{title:s.a.createElement("strong",null,"city"),dataIndex:"city"},{title:s.a.createElement("strong",{className:"time_table_text"},"Start Time"),dataIndex:"open_time",render:(e,t)=>s.a.createElement("span",{className:"time_table_text"},b()(e).format("hh:mm a"))},{title:s.a.createElement("strong",{className:"time_table_text"},"End Time"),dataIndex:"close_time",render:(e,t)=>s.a.createElement("span",{className:"time_table_text"},b()(e).format("hh:mm a"))},{title:s.a.createElement("strong",null," Status "),dataIndex:"status",render:(e,t)=>s.a.createElement("div",null,s.a.createElement(L.a,{title:`Are you sure you want to ${t.status?"Deactivate":"Activate"} this store?`,onConfirm:e=>{this.handleDeactiveUser(t._id)},okText:"Yes",cancelText:"No"},s.a.createElement(E.a,{type:"default",className:t.status?"bg-success":"bg-danger"}," ",t.status&&t.status?"Activated":"Deactivated","  ")))},{title:s.a.createElement("strong",null,"Action"),width:150,render:(e,t)=>s.a.createElement("div",null,s.a.createElement(E.a,{className:"eye_btn",type:"default",onClick:()=>{this.props.history.push("/store/view/"+t._id)}},s.a.createElement(Be.a,null)),"\xa0",!this.state.isAdmin&&s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{className:"edit_btn",type:"default",onClick:()=>{sessionStorage.setItem("storesData",JSON.stringify(t)),this.props.history.push("/store/edit/"+t._id)}},s.a.createElement(M.a,null)),"\xa0"),s.a.createElement(s.a.Fragment,null,s.a.createElement(L.a,{title:"Are you sure delete this store?",onConfirm:e=>{this.deleteItem(t._id)},okText:"Yes",cancelText:"No"},s.a.createElement(E.a,{type:"danger",className:"mt-2"},s.a.createElement(V.a,null)))))}];return s.a.createElement("div",null,s.a.createElement(u.a,{className:"TopActionBar",gutter:[16,0],justify:"space-between",align:"middle"},s.a.createElement(p.a,null,this.state.isAdmin&&s.a.createElement(Me,{placeholder:"Search...",onChange:e=>this.searchVal(e.target.value),value:t,loading:this.props.submitting})),s.a.createElement(p.a,null,s.a.createElement(s.a.Fragment,null,0===this.state.listData.length&&s.a.createElement(E.a,{type:"primary",onClick:()=>this.props.history.push("/store/add")},"Add")))),console.log({count:l}),s.a.createElement("div",{className:"innerContainer"},s.a.createElement(g.a,{style:{marginTop:"0"},bodyStyle:{padding:"0 15px 15px"}},s.a.createElement(B.a,{columns:r,dataSource:this.state.listData,loading:this.props.loading.global,rowKey:e=>e._id,pagination:this.state.isAdmin&&{position:["bottomLeft"],showTotal:(e,t)=>s.a.createElement(Ve,{type:"secondary"},`Showing ${t[0]}-${t[1]} of ${e}`),showSizeChanger:!0,responsive:!0,total:l,onShowSizeChange:(e,t)=>this.ShowSizeChange(e,t),pageSizeOptions:["10","25","50","100","250","500"]}}))))}}var Ue=Object(n.connect)(e=>{let{stores:t,loading:a}=e;return{stores:t,loading:a}})(qe),Re=a(791),We=a(419),ze=a(809),Ye=a(34),$e=a(245),Ke=a(800),Je=a(823);const He=[{key:"sunday",label:"S"},{key:"monday",label:"M"},{key:"tuesday",label:"T"},{key:"wednesday",label:"W"},{key:"thursday",label:"T"},{key:"friday",label:"F"},{key:"saturday",label:"S"}],Ge=Object($e.a)(e=>({grouped:{margin:e.spacing(2),padding:e.spacing(0,1),"&:not(:first-child)":{border:"1px solid",borderColor:"#692B7C",borderRadius:"50%"},"&:first-child":{border:"1px solid",borderColor:"#692B7C",borderRadius:"50%"}}}))(Je.a),Ze=Object($e.a)({root:{color:"#692B7C","&$selected":{color:"white",background:"#692B7C"},"&:hover":{borderColor:"#BA9BC3",background:"#BA9BC3"},"&:hover$selected":{borderColor:"#BA9BC3",background:"#BA9BC3"},minWidth:32,maxWidth:32,height:32,textTransform:"unset",fontSize:"0.75rem"},selected:{}})(Ke.a);var Qe=e=>{let{handleWeekDays:t,days:a}=e;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ge,{size:"small","arial-label":"Days of the week",value:a,onChange:t},He.map((e,t)=>s.a.createElement(Ze,{key:e.key,value:t,"aria-label":e.key},e.label))))};const Xe={labelCol:{xs:{span:24},sm:{span:24}}},{Option:et}=de.a,{TextArea:tt}=P.a,{RangePicker:at}=Re.a;var lt=Object(n.connect)(e=>{let{stores:t,loading:a}=e;return{stores:t,loading:a}})(e=>{const[t]=C.a.useForm(),a=e.location.search.substr(8);console.log("\ud83d\ude80 ~ file: addEdit.jsx:32 ~ StoreAddEdit ~ isVerify:",a);let r=void 0===e.match.params.id;const{dispatch:n}=e,[i,o]=Object(l.useState)([]),[m,d]=Object(l.useState)(!1),[h,y]=Object(l.useState)({}),[v,_]=Object(l.useState)(),[O,w]=Object(l.useState)(!0),[I,x]=Object(l.useState)({lat:26.896593,lng:75.770676}),[T,N]=Object(l.useState)([1,2,3,4,5,6]),D=Object(l.useRef)();Object(l.useEffect)(()=>{if(r);else{let e=JSON.parse(sessionStorage.getItem("storesData"));if(console.log("\ud83d\ude80 ~ file: addEdit.jsx:57 ~ useEffect ~ stores:",e.cuisine),e.open_time&&(e.open_time=b()(e.open_time)),e.close_time&&(e.close_time=b()(e.close_time)),e.visiting_days){let t=e.visiting_days;const a=[];for(let e=0;e<t.length;e++)a.push(parseInt(t[e]));N(a)}else N([]);t.setFieldsValue({cuisine:Number[e.cuisine]});for(let l in e)t.setFieldsValue({[l]:e[l]});console.log(e),x({lat:e.latitude,lng:e.longitude});let a=""+e.images[0].url;y([a])}},[]),Object(l.useEffect)(()=>{let t=!1;return console.log("props",e),()=>{t=!0}},[n]);const A=Object(l.useCallback)(e=>{_(e)},[]),F=async(e,a)=>{console.log("fetching location name"),S.a.setApiKey(f),S.a.setLanguage("en"),S.a.setLocationType("ROOFTOP"),S.a.enableDebug();try{let l=await S.a.fromLatLng(e,a);if(console.log({response:l}),l){const e=l.results[0].formatted_address;return console.log("address",e),t.setFieldsValue({address:e}),!0}}catch(l){return console.log("error",l),alert("Location Name not found!"),!1}S.a.setLanguage("en")};return s.a.createElement(s.a.Fragment,null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>{"verify"===a?e.history.push("/"):e.history.push("/stores")}})," ",r?"Add Store":"Edit Store"),style:{marginTop:"0"}},s.a.createElement(C.a,Object.assign({},Xe,{form:t,name:"picture",layout:"vertical",onFinish:async t=>{if("Error"===(await j.a.get("https://api.postalpincode.in/pincode/"+t.postal)).data[0].Status)return void We.a.error({message:"This pincode is not a available"});if(w(!0),!O)return void We.a.error({message:"This pincode is not a available"});if(!h.length>0&&0===i.length)return Se.b.error("please upload store image");t.latitude=I.lat,t.longitude=I.lng,t.visiting_days=T,i[0]&&(t.store_image=i[0]),console.log("val",t);const l=ee(t);let s;e.match.params.id?(l.append("_id",e.match.params.id),s=await n({type:"stores/edit",payload:l})):s=await n({type:"stores/add",payload:l}),s.status&&("verify"===a?e.history.push("/"):e.history.push("/stores"))},className:"innerFields"}),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:6,md:6},s.a.createElement(C.a.Item,{label:s.a.createElement("span",null,s.a.createElement("span",{style:{color:"red"}},"*"),"Store Images")},s.a.createElement(z.a,{images:h,setImages:async e=>{let t=await le(e);y(e),o([...t])},allowCrop:!1,theme:"light",max:1,cropConfig:{minWidth:10,maxWidth:2e3}})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"visiting_days",label:"Visiting Days"},s.a.createElement(Qe,{days:T,handleWeekDays:(e,t)=>{N(t)}}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"title",label:"Store Title",rules:ae("Store Title",15)},s.a.createElement(P.a,{placeholder:"Store Title"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"cuisine",label:"Select Store Cuisine",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please Store Cuisine",onChange:e=>{console.log("selected "+e)}},[{value:0,day:"Indian"},{value:1,day:"Chinese"},{value:2,day:"Italian"},{value:3,day:"American"},{value:4,day:"German"}].map((e,t)=>s.a.createElement(et,{key:t,value:e.day,label:e.day},s.a.createElement("div",{className:"demo-option-label-item"},e.day))))))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"open_time",label:"Store Open Time",rules:[{required:!0,message:"Please input your Open Time!"}]},s.a.createElement(Re.a,{showNow:!1,style:{width:"100%"},use12Hours:!0,format:"h:mm a",onChange:(e,a)=>{t.setFieldsValue({open_time:e})}}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"close_time",label:"Store Close Time",rules:[{required:!0},e=>{let{getFieldValue:t}=e;return{validator(e,a){if(!a)return Promise.reject("Please input your Close Time!");var l=b()(t("open_time")._d,"h:mm:ss a"),s=b()(a._d,"h:mm:ss a");return l.isBefore(s)?Promise.resolve():Promise.reject("close time must be greater than open time")}}}]},s.a.createElement(Re.a,{showNow:!1,style:{width:"100%"},use12Hours:!0,format:"h:mm a",onChange:(e,a)=>{t.setFieldsValue({close_time:e})}})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"description",label:"Store Description",rules:ae("Description",2e3)},s.a.createElement(tt,{rows:4,placeholder:"Store Description"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"postal",label:"Postal",onChange:e=>{(async e=>{let a=e.target.value;if(t.setFieldsValue({city:"",state:""}),6===a.length){const e=await j.a.get("https://api.postalpincode.in/pincode/"+a);if(console.log(e.data[0].Status),"Error"===e.data[0].Status?w(!1):w(!0),null!=e.data[0].PostOffice&&void 0!=e.data[0].PostOffice&&""!=e.data[0].PostOffice){let a=e.data[0].PostOffice[0];t.setFieldsValue({city:a.District,state:a.State})}else t.setFieldsValue({city:"",state:""})}})(e)},rules:[{required:!0,message:"Numeric Value Required"},{max:6,message:"Postal Code must be 6 digits"}]},s.a.createElement(P.a,{placeholder:"Postal",type:"number"}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"state",label:"State",rules:[{required:!0,message:"Field required!"},{max:20,message:"State must not be greater than 20 characters."}]},s.a.createElement(P.a,{placeholder:"State"}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"city",label:"City",rules:[{required:!0,message:"Field required!"},{max:20,message:"City must not be greater than 20 characters."}]},s.a.createElement(P.a,{placeholder:"City"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"store_category",label:"Select Store Category",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{allowClear:!0,style:{width:"100%"},placeholder:"Please Store Category"},[{value:0,category:"Restaurants"},{value:1,category:"Bars & Pubs"},{value:2,category:"Bakery"},{value:3,category:"Cafe"},{value:4,category:"Sweets"}].map((e,t)=>s.a.createElement(et,{key:t,value:e.category,label:e.category},s.a.createElement("div",{className:"demo-option-label-item"},e.category))))))),s.a.createElement(p.a,{sm:12,md:12,style:!0},s.a.createElement(Ye.c,{googleMapsApiKey:f,libraries:["places"]},s.a.createElement(Ye.a,{onLoad:A,onPlaceChanged:()=>{if(console.log("autocomplete"),console.log(v.getPlace().formatted_address),!te(v)){const e={lat:v.getPlace().geometry.location.lat(),lng:v.getPlace().geometry.location.lng()};t.setFieldsValue({location:v.getPlace().formatted_address}),x(e)}},bounds:!0,onUnmount:!0},s.a.createElement(C.a.Item,{name:"address",label:"Store Address",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{ref:D,prefix:s.a.createElement(ze.a,null),placeholder:"Store Address ",type:"text"}))))),s.a.createElement(u.a,{gutter:15,className:"",style:{height:"500px",width:"100%"}},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(Ye.c,{googleMapsApiKey:f,libraries:["places"]},s.a.createElement(Ye.b,{center:I,zoom:15,mapContainerStyle:{width:"50%",height:"100%"}},s.a.createElement(Ye.d,{position:I,draggable:!0,onDragEnd:e=>(async e=>{const t=e.latLng.lat(),a=e.latLng.lng(),l={lat:t,lng:a};let s=await F(t,a);console.log({result:s}),s&&x(l)})(e)}))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(C.a.Item,{className:"mb-0"},s.a.createElement(E.a,{onClick:()=>{t.resetFields(),"verify"===a?e.history.push("/"):e.history.push("/stores")}},"Cancel"),"\xa0\xa0",s.a.createElement(E.a,{type:"primary",disabled:m,className:"btn-w25 btn-primary-light",onClick:()=>t.submit()},"Save")))))}),st=a(807);const rt={labelCol:{xs:{span:24},sm:{span:24}}},{Option:nt}=de.a,{TextArea:it}=P.a,{RangePicker:ot}=Re.a;var ct=Object(n.connect)(e=>{let{stores:t,loading:a}=e;return{stores:t,loading:a}})(e=>{const[t]=C.a.useForm(),a=e.location.search.substr(8);console.log("\ud83d\ude80 ~ file: addEdit.jsx:32 ~ StoreAddEdit ~ isVerify:",a);let r=void 0===e.match.params.id;const{dispatch:n}=e,[i,o]=Object(l.useState)([]),[m,d]=Object(l.useState)(!1),[h,y]=Object(l.useState)({}),[v,_]=Object(l.useState)(),[O,w]=Object(l.useState)(!0),[I,x]=Object(l.useState)({lat:26.896593,lng:75.770676}),[T,N]=Object(l.useState)([1,2,3,4,5,6]),D=Object(l.useRef)();Object(l.useEffect)(()=>{if(r)t.setFieldsValue({status:!0});else{let e=JSON.parse(sessionStorage.getItem("storesData"));if(console.log("\ud83d\ude80 ~ file: addEdit.jsx:57 ~ useEffect ~ stores:",e.cuisine),e.open_time&&(e.open_time=b()(e.open_time)),e.close_time&&(e.close_time=b()(e.close_time)),e.visiting_days){let t=e.visiting_days;const a=[];for(let e=0;e<t.length;e++)a.push(parseInt(t[e]));N(a)}else N([]);t.setFieldsValue({cuisine:Number[e.cuisine]});for(let l in e)t.setFieldsValue({[l]:e[l]});console.log(e),x({lat:e.latitude,lng:e.longitude});let a=""+e.images[0].url;y([a])}},[]),Object(l.useEffect)(()=>{let t=!1;return console.log("props",e),()=>{t=!0}},[n]);const A=Object(l.useCallback)(e=>{_(e)},[]),F=async(e,a)=>{console.log("fetching location name"),S.a.setApiKey(f),S.a.setLanguage("en"),S.a.setLocationType("ROOFTOP"),S.a.enableDebug();try{let l=await S.a.fromLatLng(e,a);if(console.log({response:l}),l){const e=l.results[0].formatted_address;return console.log("address",e),t.setFieldsValue({address:e}),!0}}catch(l){return console.log("error",l),alert("Location Name not found!"),!1}S.a.setLanguage("en")};return s.a.createElement(s.a.Fragment,null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>{"verify"===a?e.history.push("/"):e.history.push("/store-users")}})," ",r?"Add Store":"Edit Store"),style:{marginTop:"0"}},s.a.createElement(C.a,Object.assign({},rt,{form:t,name:"picture",layout:"vertical",onFinish:async t=>{if("Error"===(await j.a.get("https://api.postalpincode.in/pincode/"+t.postal)).data[0].Status)return void We.a.error({message:"This pincode is not a available"});if(w(!0),!O)return void We.a.error({message:"This pincode is not a available"});if(!h.length>0&&0===i.length)return Se.b.error("please upload store image");t.latitude=I.lat,t.longitude=I.lng,t.visiting_days=T,i[0]&&(t.store_image=i[0]),t.user_id=e.match.params.user_id;const l=ee(t);let s;e.match.params.id?(l.append("_id",e.match.params.id),s=await n({type:"stores/editAdmin",payload:l})):s=await n({type:"stores/addAdmin",payload:l}),s.status&&("verify"===a?e.history.push("/"):e.history.push("/store-users"))},className:"innerFields"}),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:6,md:6},s.a.createElement(C.a.Item,{label:s.a.createElement("span",null,s.a.createElement("span",{style:{color:"red"}},"*"),"Store Images")},s.a.createElement(z.a,{images:h,setImages:async e=>{let t=await le(e);y(e),o([...t])},allowCrop:!1,theme:"light",max:1,cropConfig:{minWidth:10,maxWidth:2e3}})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"visiting_days",label:"Visiting Days"},s.a.createElement(Qe,{days:T,handleWeekDays:(e,t)=>{N(t)}}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"title",label:"Store Title",rules:ae("Store Title",15)},s.a.createElement(P.a,{placeholder:"Store Title"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"cuisine",label:"Select Store Cuisine",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please Store Cuisine",onChange:e=>{console.log("selected "+e)}},[{value:0,day:"Indian"},{value:1,day:"Chinese"},{value:2,day:"Italian"},{value:3,day:"American"},{value:4,day:"German"}].map((e,t)=>s.a.createElement(nt,{key:t,value:e.day,label:e.day},s.a.createElement("div",{className:"demo-option-label-item"},e.day))))))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"open_time",label:"Store Open Time",rules:[{required:!0,message:"Please input your Open Time!"}]},s.a.createElement(Re.a,{showNow:!1,style:{width:"100%"},use12Hours:!0,format:"h:mm a",onChange:(e,a)=>{t.setFieldsValue({open_time:e})}}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"close_time",label:"Store Close Time",rules:[{required:!0},e=>{let{getFieldValue:t}=e;return{validator(e,a){if(!a)return Promise.reject("Please input your Close Time!");var l=b()(t("open_time")._d,"h:mm:ss a"),s=b()(a._d,"h:mm:ss a");return l.isBefore(s)?Promise.resolve():Promise.reject("close time must be greater than open time")}}}]},s.a.createElement(Re.a,{showNow:!1,style:{width:"100%"},use12Hours:!0,format:"h:mm a",onChange:(e,a)=>{t.setFieldsValue({close_time:e})}})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"description",label:"Store Description",rules:ae("Description",2e3)},s.a.createElement(it,{rows:4,placeholder:"Store Description"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"postal",label:"Postal",onChange:e=>{(async e=>{let a=e.target.value;if(t.setFieldsValue({city:"",state:""}),6===a.length){const e=await j.a.get("https://api.postalpincode.in/pincode/"+a);if(console.log(e.data[0].Status),"Error"===e.data[0].Status?w(!1):w(!0),null!=e.data[0].PostOffice&&void 0!=e.data[0].PostOffice&&""!=e.data[0].PostOffice){let a=e.data[0].PostOffice[0];t.setFieldsValue({city:a.District,state:a.State})}else t.setFieldsValue({city:"",state:""})}})(e)},rules:[{required:!0,message:"Numeric Value Required"},{max:6,message:"Postal Code must be 6 digits"}]},s.a.createElement(P.a,{placeholder:"Postal",type:"number"}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"state",label:"State",rules:[{required:!0,message:"Field required!"},{max:20,message:"State must not be greater than 20 characters."}]},s.a.createElement(P.a,{placeholder:"State"}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"city",label:"City",rules:[{required:!0,message:"Field required!"},{max:20,message:"City must not be greater than 20 characters."}]},s.a.createElement(P.a,{placeholder:"City"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"store_category",label:"Select Store Category",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{allowClear:!0,style:{width:"100%"},placeholder:"Please Store Category"},[{value:0,category:"Restaurants"},{value:1,category:"Bars & Pubs"},{value:2,category:"Bakery"},{value:3,category:"Cafe"},{value:4,category:"Sweets"}].map((e,t)=>s.a.createElement(nt,{key:t,value:e.category,label:e.category},s.a.createElement("div",{className:"demo-option-label-item"},e.category))))))),s.a.createElement(p.a,{sm:12,md:12,style:!0},s.a.createElement(Ye.c,{googleMapsApiKey:f,libraries:["places"]},s.a.createElement(Ye.a,{onLoad:A,onPlaceChanged:()=>{if(console.log("autocomplete"),console.log(v.getPlace().formatted_address),!te(v)){const e={lat:v.getPlace().geometry.location.lat(),lng:v.getPlace().geometry.location.lng()};t.setFieldsValue({location:v.getPlace().formatted_address}),x(e)}},bounds:!0,onUnmount:!0},s.a.createElement(C.a.Item,{name:"address",label:"Store Address",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{ref:D,prefix:s.a.createElement(ze.a,null),placeholder:"Store Address ",type:"text"}))))),s.a.createElement(u.a,{gutter:15,className:"",style:{height:"500px",width:"100%"}},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(Ye.c,{googleMapsApiKey:f,libraries:["places"]},s.a.createElement(Ye.b,{center:I,zoom:15,mapContainerStyle:{width:"50%",height:"100%"}},s.a.createElement(Ye.d,{position:I,draggable:!0,onDragEnd:e=>(async e=>{const t=e.latLng.lat(),a=e.latLng.lng(),l={lat:t,lng:a};let s=await F(t,a);console.log({result:s}),s&&x(l)})(e)}))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"status",valuePropName:"checked"},s.a.createElement(st.a,{checkedChildren:"Publish",unCheckedChildren:"UnPublish"})))),s.a.createElement(C.a.Item,{className:"mb-0"},s.a.createElement(E.a,{onClick:()=>{t.resetFields(),"verify"===a?e.history.push("/"):e.history.push("/store-users")}},"Cancel"),"\xa0\xa0",s.a.createElement(E.a,{type:"primary",disabled:m,className:"btn-w25 btn-primary-light",onClick:()=>t.submit()},"Save")))))});var mt=Object(n.connect)(e=>{let{stores:t}=e;return{stores:t}})(e=>{var t,a,r,n,i,o;const{stores:c}=e,{detail:m}=c,d="?redirect=approve"===e.location.search;let h={lat:26.896592,lng:75.770674};m&&(console.log("\ud83d\ude80 ~ file: view.jsx:20 ~ StoreView ~ latLng:",h,null===m||void 0===m?void 0:m.latitude,null===m||void 0===m?void 0:m.longitude),h={lat:null===m||void 0===m?void 0:m.latitude,lng:null===m||void 0===m?void 0:m.longitude}),console.log("\ud83d\ude80 ~ file: view.jsx:20 ~ StoreView ~ latLng:",h,null===m||void 0===m?void 0:m.latitude,null===m||void 0===m?void 0:m.longitude),Object(l.useEffect)(()=>{E(e.match.params.id)},[]);const E=t=>{e.dispatch({type:"stores/getDetail",payload:{id:t}})};return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>{d?e.history.push("/approve"):e.history.push("/stores")}})," Store Detail "),style:{marginTop:"0"}},s.a.createElement("div",{style:{display:"flex",justifyContent:"left",padding:"20px 10px"}},s.a.createElement(w.a,{shape:"square",size:160,src:(null===c||void 0===c||null===(t=c.detail)||void 0===t?void 0:t.images)&&(null===c||void 0===c||null===(a=c.detail)||void 0===a||null===(r=a.images[0])||void 0===r?void 0:r.url),style:{marginBottom:"2px"}})),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Email")),s.a.createElement(p.a,{span:16},m&&(null===m||void 0===m||null===(n=m.user_id)||void 0===n?void 0:n.email))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Mobile Number")),s.a.createElement(p.a,{span:16},m&&(null===m||void 0===m||null===(i=m.user_id)||void 0===i?void 0:i.mobile_number))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Name")),s.a.createElement(p.a,{span:16},m&&(null===m||void 0===m?void 0:m.title))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Cuisine")),s.a.createElement(p.a,{span:16},m&&(null===m||void 0===m||null===(o=m.cuisine)||void 0===o?void 0:o.map(e=>s.a.createElement(s.a.Fragment,null,e," "))))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Category")),s.a.createElement(p.a,{span:16},m&&(null===m||void 0===m?void 0:m.store_category))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Open Time")),s.a.createElement(p.a,{span:16},m&&b()(null===m||void 0===m?void 0:m.open_time).format("hh:mm a"))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Close Time")),s.a.createElement(p.a,{span:16},m&&b()(null===m||void 0===m?void 0:m.close_time).format("hh:mm a"))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"State")),s.a.createElement(p.a,{span:16},m&&(null===m||void 0===m?void 0:m.state))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"City")),s.a.createElement(p.a,{span:16},m&&(null===m||void 0===m?void 0:m.city))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Postal")),s.a.createElement(p.a,{span:16},m&&(null===m||void 0===m?void 0:m.postal))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Address")),s.a.createElement(p.a,{span:16},m&&(null===m||void 0===m?void 0:m.address))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Description")),s.a.createElement(p.a,{span:16},m&&(null===m||void 0===m?void 0:m.description))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Created At")),s.a.createElement(p.a,{span:16},m&&(null===m||void 0===m?void 0:m.created_at))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Status")),s.a.createElement(p.a,{span:16},m&&((null===m||void 0===m?void 0:m.status)?s.a.createElement("span",{style:{color:"green"}},"Publish"):s.a.createElement("span",{style:{color:"red"}},"UnPublish"))||"-")),s.a.createElement(u.a,{gutter:15,className:"",style:{height:"500px",width:"100%"}},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(Ye.c,{googleMapsApiKey:f,libraries:["places"]},s.a.createElement(Ye.b,{center:h,zoom:15,mapContainerStyle:{width:"50%",height:"100%"}},s.a.createElement(Ye.d,{position:h})))))))}),dt=a(246);const ut=Object(dt.a)("http://52.66.85.165:4001"),{Search:pt}=P.a,{Text:gt}=F.a;class ht extends s.a.Component{constructor(e){super(e),this.ListFun=()=>{let e={limit:this.state.limit,page:this.state.current,sortBy:this.state.sortBy};this.props.dispatch({type:"pins/listData",payload:e})},this.ShowSizeChange=(e,t)=>{this.setState({limit:t,current:e-1},()=>this.ListFun())},this.searchVal=e=>{this.state.searchText=e;const t=this.props.pins.list.filter(t=>JSON.stringify(t).toLowerCase().includes(e.toLowerCase()));this.setState({listData:t})},this.deleteItem=e=>{let t={_id:e};this.props.dispatch({type:"pins/delete",payload:t})},this.handleDeactiveUser=async e=>{let t=this.state.listData;console.log("list",t);let a=t.map(t=>(t._id===e&&(t.is_published=!t.is_published),t));this.setState({listData:a}),await j.a.post("http://52.66.85.165:4001/api/pin/status",{id:e})},this.state={limit:10,current:0,sortBy:"asc",searchText:"",loader:!1,count:0,listData:[],isAdmin:!1},setTimeout(()=>document.title="Pin List",100)}componentDidMount(){ut.on("show_pins",e=>{console.log("\ud83d\ude80 ~ list",e)}),this.ListFun(),"ADMIN"===localStorage.getItem("role")&&this.setState({isAdmin:!0})}componentDidUpdate(e,t,a){a&&this.ListFun()}render(){const{location:e}=this.props;e.pathname.split("/").filter(e=>e)[0].toUpperCase();const{searchText:t}=this.state,{pins:a}=this.props,l=null===a||void 0===a?void 0:a.count;""==this.state.searchText&&(this.state.listData=a?a.list:[]);const r=[{title:s.a.createElement("strong",null," Store Name "),dataIndex:"storenInfo",render:(e,t)=>e.title},{title:s.a.createElement("strong",null," Store Address "),dataIndex:"storenInfo",render:(e,t)=>e.address},{title:s.a.createElement("strong",null,"Pin Name"),dataIndex:"title",sorter:(e,t)=>e.title.localeCompare(t.title)},{title:s.a.createElement("strong",null,"Pin Category"),dataIndex:"categories"},{title:s.a.createElement("strong",null,"Pin Status "),dataIndex:"is_published",render:(e,t)=>s.a.createElement("div",null,s.a.createElement(L.a,{title:`Are you sure you want to ${t.is_published?"UnPublish":"Publish"} this pin?`,onConfirm:e=>{this.handleDeactiveUser(t._id)},okText:"Yes",cancelText:"No"},s.a.createElement(E.a,{type:"default",className:t.is_published?"bg-success":"bg-danger"}," ",t.is_published&&t.is_published?"Published":"UnPublished","  ")))},{title:s.a.createElement("strong",null,"Action"),width:150,render:(e,t)=>s.a.createElement("div",null,s.a.createElement(E.a,{className:"eye_btn",type:"default",onClick:()=>{this.props.history.push("/pin/view/"+t._id)}},s.a.createElement(Be.a,null)),"\xa0",!this.state.isAdmin&&s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{className:"edit_btn",type:"default",onClick:()=>{sessionStorage.setItem("pinsData",JSON.stringify(t)),this.props.history.push("/pin/edit/"+t._id+"/"+t.categories)}},s.a.createElement(M.a,null)),"\xa0",s.a.createElement(L.a,{title:"Are you sure delete this pin?",onConfirm:e=>{this.deleteItem(t._id)},okText:"Yes",cancelText:"No"},s.a.createElement(E.a,{type:"danger",className:"mt-2"},s.a.createElement(V.a,null)))))}];return s.a.createElement("div",null,s.a.createElement(u.a,{className:"TopActionBar",gutter:[16,0],justify:"space-between",align:"middle"},s.a.createElement(p.a,null,this.state.isAdmin&&s.a.createElement(pt,{placeholder:"Search...",onChange:e=>this.searchVal(e.target.value),value:t,loading:this.props.submitting})),s.a.createElement(p.a,null,s.a.createElement(s.a.Fragment,null,this.state.listData&&!this.state.listData.find(e=>"FLAT_DISCOUNT_PIN"===e.categories)&&!this.state.isAdmin&&s.a.createElement(E.a,{type:"primary",onClick:()=>{this.props.history.push("/pin/add/FLAT_DISCOUNT_PIN")}},"Add Flat Discount Pin")))),console.log({count:l}),s.a.createElement("div",{className:"innerContainer"},s.a.createElement(g.a,{style:{marginTop:"0"},bodyStyle:{padding:"0 15px 15px"}},s.a.createElement(B.a,{columns:r,dataSource:this.state.listData,loading:this.props.loading.global,rowKey:e=>e._id,pagination:this.state.isAdmin&&{position:["bottomLeft"],showTotal:(e,t)=>s.a.createElement(gt,{type:"secondary"},`Showing ${t[0]}-${t[1]} of ${e}`),showSizeChanger:!0,responsive:!0,total:l,onShowSizeChange:(e,t)=>this.ShowSizeChange(e,t),pageSizeOptions:["10","25","50","100","250","500"]}}))))}}var Et=Object(n.connect)(e=>{let{pins:t,loading:a}=e;return{pins:t,loading:a}})(ht),yt=a(799);a(386);Object($e.a)(e=>({grouped:{margin:e.spacing(2),padding:e.spacing(0,1),"&:not(:first-child)":{border:"1px solid",borderColor:"#692B7C",borderRadius:"50%"},"&:first-child":{border:"1px solid",borderColor:"#692B7C",borderRadius:"50%"}}}))(Je.a),Object($e.a)({root:{color:"#692B7C","&$selected":{color:"white",background:"#692B7C"},"&:hover":{borderColor:"#BA9BC3",background:"#BA9BC3"},"&:hover$selected":{borderColor:"#BA9BC3",background:"#BA9BC3"},minWidth:32,maxWidth:32,height:32,textTransform:"unset",fontSize:"0.75rem"},selected:{}})(Ke.a);const bt=Object(dt.a)("http://52.66.85.165:4001"),ft={labelCol:{xs:{span:24},sm:{span:24}}},{Option:vt}=de.a,{TextArea:St}=P.a,{RangePicker:_t}=Re.a;var Ot=Object(n.connect)(e=>{let{pins:t,loading:a}=e;return{pins:t,loading:a}})(e=>{console.log("\ud83d\ude80 ~ file: addEdit.jsx:394 ~ PinAddEdit ~ props:",e);const t=e.match.params.category,a="?redirect=dashboard"===e.location.search,[r]=C.a.useForm();let n=void 0===e.match.params.id;const{dispatch:i}=e,[o,m]=Object(l.useState)([]),[d,h]=Object(l.useState)(!1),[y,b]=Object(l.useState)({}),[f,v]=Object(l.useState)(),[S,_]=Object(l.useState)({lat:26.896593,lng:75.770676}),[O,w]=Object(l.useState)([1,2,3,4,5,6]);Object(l.useEffect)(()=>{bt.on("show_pins",e=>{console.log("\ud83d\ude80 ~ addEdit",e)})},[]),Object(l.useEffect)(()=>{if(n);else{let e=JSON.parse(sessionStorage.getItem("pinsData"));for(let t in e)r.setFieldsValue({[t]:e[t]})}},[]),Object(l.useEffect)(()=>{let t=!1;return console.log("props",e),()=>{t=!0}},[i]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>{a?e.history.push("/"):e.history.push("/pins")}})," ",n?"Add pins":"Edit pins"),style:{marginTop:"0"}},s.a.createElement(C.a,Object.assign({},ft,{form:r,name:"picture",layout:"vertical",onFinish:async l=>{let s;l.categories=t,e.match.params.id?(l._id=e.match.params.id,s=await i({type:"pins/edit",payload:l})):s=await i({type:"pins/add",payload:l}),s.status&&(a?e.history.push("/"):e.history.push("/pins"))},className:"innerFields"}),"LAST_MINUTE_PIN"===t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"title",label:"Title",rules:ae("Title",15)},s.a.createElement(P.a,{placeholder:"Title"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"description",label:"Description",rules:ae("Description",2e3)},s.a.createElement(St,{rows:4,placeholder:"Description"}))))),"FLAT_DISCOUNT_PIN"===t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"title",label:"Title",rules:ae("Title",20)},s.a.createElement(P.a,{placeholder:"Title"}))),s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"discount_amount",label:"Pin Discount(%)",rules:[{required:!0,message:"This field is required."},e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a?"PERCENT"===t("discount_unit")&&a>99?Promise.reject("Pin Discount Value can not be greater than 99%"):Promise.resolve():Promise.reject("")}}]},s.a.createElement(yt.a,{placeholder:"Pin Discount"}))),s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"description",label:"Description",rules:ae("Description",2e3)},s.a.createElement(St,{rows:4,placeholder:"Description"}))))),s.a.createElement(C.a.Item,{className:"mb-0"},s.a.createElement(E.a,{onClick:()=>{r.resetFields(),a?e.history.push("/"):e.history.push("/pins")}},"Cancel"),"\xa0\xa0",s.a.createElement(E.a,{type:"primary",disabled:d,className:"btn-w25 btn-primary-light",onClick:()=>r.submit()},"Save")))))});const Ct={labelCol:{xs:{span:24},sm:{span:24}}},{Option:Pt}=de.a,{TextArea:wt}=P.a,{RangePicker:It}=Re.a;var xt=Object(n.connect)(e=>{let{pins:t,loading:a}=e;return{pins:t,loading:a}})(e=>{const t=e.match.params.category,[a]=C.a.useForm();let r=void 0===e.match.params.id;const{dispatch:n}=e,[i,o]=Object(l.useState)([]),[m,d]=Object(l.useState)(!1),[h,y]=Object(l.useState)({}),[b,f]=Object(l.useState)(),[v,S]=Object(l.useState)({lat:26.896593,lng:75.770676}),[_,O]=Object(l.useState)([1,2,3,4,5,6]),w=[{key:0,value:"AMOUNT"},{key:1,value:"PERCENT"}];Object(l.useRef)();Object(l.useEffect)(()=>{if(r);else{let e=JSON.parse(sessionStorage.getItem("pinsData"));for(let t in e)a.setFieldsValue({[t]:e[t]})}},[]),Object(l.useEffect)(()=>{let t=!1;return console.log("props",e),()=>{t=!0}},[n]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/store-users")})," ",r?"Add pins":"Edit pins"),style:{marginTop:"0"}},s.a.createElement(C.a,Object.assign({},Ct,{form:a,name:"picture",layout:"vertical",onFinish:async a=>{let l;a.categories=t,a.user_id=e.match.params.user_id,e.match.params.id?(a._id=e.match.params.id,l=await n({type:"pins/editAdmin",payload:a})):l=await n({type:"pins/addAdmin",payload:a}),l.status&&e.history.push("/store-users")},className:"innerFields"}),"LAST_MINUTE_PIN"===t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"title",label:"Title",rules:ae("Title",15)},s.a.createElement(P.a,{placeholder:"Title"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"discount_unit",label:"Pin Discount Unit",rules:[{required:!0,message:"This field is required!"}]},s.a.createElement(de.a,{placeholder:"Select Discount Unit"},w&&w.map((e,t)=>s.a.createElement(de.a.Option,{key:t,value:e.value},e.value)))))),s.a.createElement(u.a,{gutter:15}),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"min_transaction_value",label:"Pin Min Transaction Value",rules:[{required:!0,message:"This field is required."},e=>{let{getFieldValue:t}=e;return{validator:(e,t)=>t?t>999999?Promise.reject("Pin Min Transaction Value can not be greater than 999999"):Promise.resolve():Promise.reject("")}}]},s.a.createElement(yt.a,{type:"number",placeholder:"Pin Min Transaction Value"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"discount_amount",label:"Pin Discount",rules:[{required:!0,message:"This field is required."},e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a?"PERCENT"===t("discount_unit")&&a>100?Promise.reject("Pin Discount Value can not be greater than 99%"):a&&"AMOUNT"===t("discount_unit")&&a&&t("min_transaction_value")<a&&t("min_transaction_value")<a?Promise.reject("Pin Discount Value can not be Pin Min Transaction Value"):Promise.resolve():Promise.reject("")}}]},s.a.createElement(yt.a,{placeholder:"Pin Discount"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"max_discount_value",label:"Pin Max Discount Value",rules:[{required:!0,message:"This field is required."},e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a?"PERCENT"===t("discount_unit")&&t("min_transaction_value")<a?Promise.reject("Pin Max Discount Value can not be Pin Min Transaction Value"):a&&"AMOUNT"===t("discount_unit")&&a&&t("discount_amount")<a&&t("discount_amount")<a?Promise.reject("Pin Max Discount Value can not be Pin Discount"):Promise.resolve():Promise.reject("")}}]},s.a.createElement(yt.a,{type:"number",placeholder:"Pin Max Discount Value"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"description",label:"Description",rules:ae("Description",2e3)},s.a.createElement(wt,{rows:4,placeholder:"Description"}))))),"FLAT_DISCOUNT_PIN"===t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"title",label:"Title",rules:ae("Title",20)},s.a.createElement(P.a,{placeholder:"Title"}))),s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"discount_amount",label:"Pin Discount(%)",rules:[{required:!0,message:"This field is required."},e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a?"PERCENT"===t("discount_unit")&&a>99?Promise.reject("Pin Discount Value can not be greater than 99%"):Promise.resolve():Promise.reject("")}}]},s.a.createElement(yt.a,{placeholder:"Pin Discount"}))),s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"description",label:"Description",rules:ae("Description",2e3)},s.a.createElement(wt,{rows:4,placeholder:"Description"}))))),s.a.createElement(C.a.Item,{className:"mb-0"},s.a.createElement(E.a,{onClick:()=>{a.resetFields(),e.history.push("/store-users")}},"Cancel"),"\xa0\xa0",s.a.createElement(E.a,{type:"primary",disabled:m,className:"btn-w25 btn-primary-light",onClick:()=>a.submit()},"Save")))))});var Tt=Object(n.connect)(e=>{let{pins:t}=e;return{pins:t}})(e=>{let{pins:t}=e,{detail:a}=t,r=[];a&&t.product&&(r=t.product),Object(l.useEffect)(()=>{n(e.match.params.id)},[]);const n=a=>{e.dispatch({type:"pins/getDetail",payload:{id:a}}),console.log("pinsuseEffect",t)},i=[{title:s.a.createElement("strong",null,"Product Image"),dataIndex:"images",cursor:"pointer",width:150,render:(e,t)=>{var a;return console.log("\ud83d\ude80 ~ file: list.js:118 ~ PinList ~ render ~ val:",e),s.a.createElement(w.a,{shape:"square",size:60,src:""+(e&&(null===(a=e[0])||void 0===a?void 0:a.url)),style:{margin:5}})}},{title:s.a.createElement("strong",null,"Product Title"),dataIndex:"title",sorter:(e,t)=>e.title.localeCompare(t.title)},{title:s.a.createElement("strong",null,"Product Price"),dataIndex:"price"},{title:s.a.createElement("strong",null,"Discount Amount"),dataIndex:"discount_amount"},{title:s.a.createElement("strong",null,"Product Quantity"),dataIndex:"number_of_pieces"},{title:s.a.createElement("strong",null," Status "),dataIndex:"is_published",render:(e,t)=>s.a.createElement("div",null,s.a.createElement("div",{className:t.is_published?"text-success":"text-danger"}," ",t.is_published&&t.is_published?"Published":"UnPublished","  "))}];return s.a.createElement(s.a.Fragment,null,a&&"LAST_MINUTE_PIN"===a.categories?s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/pins")})," Pin Detail "),style:{marginTop:"0"}},s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Titles")),s.a.createElement(p.a,{span:16},a&&a.title)),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Category")),s.a.createElement(p.a,{span:16},a&&a.categories||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Pin Discount Unit")),s.a.createElement(p.a,{span:16},a&&a.discount_unit||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Status")),s.a.createElement(p.a,{span:16},a&&(a.is_published?s.a.createElement("span",{style:{color:"green"}},"Publish"):s.a.createElement("span",{style:{color:"red"}},"UnPublish"))||"-"))),s.a.createElement(g.a,{style:{marginTop:"0"},bodyStyle:{padding:"0 15px 15px"}},s.a.createElement(B.a,{columns:i,dataSource:r,rowKey:e=>e._id}))):s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/pins")})," Pin Detail "),style:{marginTop:"0"}},s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Title")),s.a.createElement(p.a,{span:16},a&&a.title)),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Category")),s.a.createElement(p.a,{span:16},a&&a.categories||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Pin Discount")),s.a.createElement(p.a,{span:16},a&&a.discount_amount||"-","%")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Status")),s.a.createElement(p.a,{span:16},a&&(a.is_published?s.a.createElement("span",{style:{color:"green"}},"Publish"):s.a.createElement("span",{style:{color:"red"}},"UnPublish"))||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Description")),s.a.createElement(p.a,{span:16},a&&a.description||"-"))))});const Nt={labelCol:{xs:{span:24},sm:{span:24}}};var Dt=Object(n.connect)(e=>{let{products:t,global:a,loading:l}=e;return{products:t,global:a,loading:l}})(e=>{const[t]=C.a.useForm(),{dispatch:a}=e,[r,n]=Object(l.useState)([]),[i,o]=Object(l.useState)(0),[c,m]=Object(l.useState)(0),[d,u]=Object(l.useState)(!1);Object(l.useEffect)(()=>{let e=!1;return()=>{e=!0}},[a]),Object(l.useEffect)(()=>{let a=!1,l=e.detail;return e.detail?t.setFieldsValue({title:l.title,is_published:l.is_published}):t.resetFields(),()=>{a=!0}},[e.visible]),Object(l.useEffect)(()=>{let t=!1,{products:a}=e;return n(a.list?a.list.data:[]),()=>{t=!0}},[e.products.list]);const p=()=>{e.detail||t.resetFields(),e.closeModel()};return s.a.createElement(I.a,{visible:e.visible,title:e.detail?"Edit Pin":"Add Pin",onCancel:p,footer:s.a.createElement(l.Fragment,null,s.a.createElement(E.a,{onClick:p},"Cancel"),s.a.createElement(E.a,{type:"primary",disabled:d,className:"btn-w25 btn-primary-light",onClick:()=>t.submit()},e.detail?"Edit Pin":"Add Pin"))},s.a.createElement(C.a,Object.assign({},Nt,{form:t,name:"loc_info",layout:"vertical",onFinish:async l=>{if(u(!0),e.detail){l._id=e.detail._id,l.productPin=!0;let s={};e.user_id?(l.user_id=e.user_id,l.categories="FLAT_DISCOUNT_PIN",s=await a({type:"pins/editAdmin",payload:l})):s=await a({type:"pins/edit",payload:l}),u(!1),s.status&&(t.resetFields(),e.closeModel(),e.returnData("success"))}},className:"innerFields"}),s.a.createElement(C.a.Item,{name:"title",rules:[{required:!0,message:"This field is required!"},{max:15,message:"Pin must not be greater than 15 characters."}]},s.a.createElement(P.a,{placeholder:"Enter Pin "})),s.a.createElement(C.a.Item,{name:"is_published",valuePropName:"checked"},s.a.createElement(st.a,{checkedChildren:"Publish",unCheckedChildren:"UnPublish"}))))});const{Search:jt}=P.a,{Text:At}=F.a;class Ft extends s.a.Component{constructor(e){super(e),this.ListFun=()=>{let e={limit:this.state.limit,page:this.state.current,sortBy:this.state.sortBy};this.props.match.params.user_id&&(e.user_id=this.props.match.params.user_id),this.props.dispatch({type:"products/listData",payload:e})},this.ShowSizeChange=(e,t)=>{this.setState({limit:t,current:e-1},()=>this.ListFun())},this.updatePin=e=>{console.log(e),e&&this.ListFun(),this.setState({pin_detail:{},addModel:!1})},this.searchVal=e=>{this.state.searchText=e;const t=this.props.products.list.filter(t=>JSON.stringify(t).toLowerCase().includes(e.toLowerCase()));this.setState({listData:t})},this.deleteItem=e=>{let t={_id:e};this.props.dispatch({type:"products/delete",payload:t})},this.handleDeactiveUser=async e=>{let t=this.state.listData;console.log("list",t);let a=t.map(t=>(t._id===e&&(t.is_published=!t.is_published),t));this.setState({listData:a}),await j.a.post("http://52.66.85.165:4001/api/product/status",{id:e})},this.state={limit:10,current:0,sortBy:"asc",searchText:"",addModel:!1,loader:!1,count:0,listData:[],isAdmin:!1,pin_detail:{}},setTimeout(()=>document.title="Store List",100)}componentDidMount(){this.ListFun(),"ADMIN"===localStorage.getItem("role")&&this.setState({isAdmin:!0})}componentDidUpdate(e,t,a){a&&this.ListFun()}render(){var e,t,a,l;const{location:r}=this.props;let n=null===this||void 0===this||null===(e=this.props)||void 0===e||null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.user_id;console.log("\ud83d\ude80 ~ file: list.js:100 ~ ProductList ~ render ~ user_id:",n);r.pathname.split("/").filter(e=>e)[0].toUpperCase();const{searchText:i,isAdmin:o}=this.state,{products:c}=this.props,m=null===c||void 0===c?void 0:c.count;""==this.state.searchText&&(this.state.listData=c?c.list:[]),this.state.pin_detail=null===c||void 0===c?void 0:c.pin_detail,console.log("\ud83d\ude80 ~ file: list.js:92 ~ ProductList ~ render ~ products?.pin_detail:",null===c||void 0===c?void 0:c.pin_detail);const d=[{title:s.a.createElement("strong",null,"Product Image"),dataIndex:"images",cursor:"pointer",width:150,render:(e,t)=>{var a;return console.log("\ud83d\ude80 ~ file: list.js:118 ~ PinList ~ render ~ val:",e),s.a.createElement(w.a,{shape:"square",size:60,src:""+(e&&(null===(a=e[0])||void 0===a?void 0:a.url)),style:{margin:5}})}},{title:s.a.createElement("strong",null,"Product Title"),dataIndex:"title",sorter:(e,t)=>e.title.localeCompare(t.title)},{title:s.a.createElement("strong",null,"Product Price"),dataIndex:"price"},{title:s.a.createElement("strong",null,"Discount Amount"),dataIndex:"discount_amount"},{title:s.a.createElement("strong",null,"Product Quantity"),dataIndex:"number_of_pieces"},{title:s.a.createElement("strong",null,"Product Unit"),dataIndex:"item_unit",render:(e,t)=>s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,t.price,"\u20b9/",s.a.createElement("strong",null,e)))},{title:s.a.createElement("strong",null," Status "),dataIndex:"is_published",render:(e,t)=>s.a.createElement("div",null,s.a.createElement(L.a,{title:`Are you sure you want to ${t.is_published?"UnPublish":"Publish"} this product?`,onConfirm:e=>{this.handleDeactiveUser(t._id)},okText:"Yes",cancelText:"No"},s.a.createElement(E.a,{type:"default",className:t.is_published?"bg-success":"bg-danger"}," ",t.is_published&&t.is_published?"Published":"UnPublished","  ")))},{title:s.a.createElement("strong",null,"Action"),width:150,render:(e,t)=>s.a.createElement("div",null,s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{className:"edit_btn",type:"default",onClick:()=>{sessionStorage.setItem("productsData",JSON.stringify(t)),o?this.props.history.push(`/product/edit/${t._id}/${n}`):this.props.history.push("/product/edit/"+t._id)}},s.a.createElement(M.a,null)),"\xa0"),s.a.createElement(s.a.Fragment,null,s.a.createElement(L.a,{title:"Are you sure delete this product?",onConfirm:e=>{this.deleteItem(t._id)},okText:"Yes",cancelText:"No"},s.a.createElement(E.a,{type:"danger",className:"mt-2"},s.a.createElement(V.a,null)))))}];return s.a.createElement("div",null,this.state.pin_detail&&s.a.createElement(g.a,{className:"mb-3",title:s.a.createElement("div",{class:"d-flex justify-content-between"},s.a.createElement("span",null," LAST MINUTES PIN "),s.a.createElement("span",null," ",s.a.createElement(E.a,{type:"primary",onClick:()=>this.setState({addModel:!0})},"Edit Pin"))),style:{marginTop:"0rem"}},s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Title")),s.a.createElement(p.a,{span:16},this.state.pin_detail&&(null===(l=this.state.pin_detail)||void 0===l?void 0:l.title))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Status")),s.a.createElement(p.a,{span:16},this.state.pin_detail&&(this.state.pin_detail.is_published?s.a.createElement("span",{style:{color:"green"}},"Publish"):s.a.createElement("span",{style:{color:"red"}},"UnPublish"))||"-")))),s.a.createElement(u.a,{className:"TopActionBar",gutter:[16,0],justify:"space-between",align:"middle"},s.a.createElement(p.a,null,s.a.createElement(jt,{placeholder:"Search...",onChange:e=>this.searchVal(e.target.value),value:i,loading:this.props.submitting})),s.a.createElement(p.a,null,s.a.createElement(s.a.Fragment,null,0!==this.state.listData.length||this.state.pin_detail?s.a.createElement(E.a,{type:"primary",onClick:()=>{o?this.props.history.push(`/product/add/${n}?redirect=lastMinute`):this.props.history.push("/product/add?redirect=lastMinute")}},"Add Last Minute Product"):s.a.createElement(E.a,{type:"primary",onClick:()=>{o?(console.log("admin"),this.props.history.push(`/product/add/${n}?redirect=lastMinute`)):this.props.history.push("/product/add?redirect=lastMinute")}},"Add Last Minute Pin")))),console.log({count:m}),s.a.createElement("div",{className:"innerContainer"},s.a.createElement(g.a,{style:{marginTop:"0"},bodyStyle:{padding:"0 15px 15px"}},s.a.createElement(B.a,{columns:d,dataSource:this.state.listData,loading:this.props.loading.global,rowKey:e=>e._id,pagination:{position:["bottomLeft"],showTotal:(e,t)=>s.a.createElement(At,{type:"secondary"},`Showing ${t[0]}-${t[1]} of ${e}`),showSizeChanger:!0,responsive:!0,total:m,onShowSizeChange:(e,t)=>this.ShowSizeChange(e,t),pageSizeOptions:["10","25","50","100","250","500"]}}))),s.a.createElement(Dt,{visible:this.state.addModel,returnData:this.updatePin,closeModel:()=>this.setState({addModel:!1,pin_detail:{}}),detail:this.state.pin_detail,user_id:this.props.match.params.user_id}))}}var kt=Object(n.connect)(e=>{let{products:t,loading:a}=e;return{products:t,loading:a}})(Ft);Object($e.a)(e=>({grouped:{margin:e.spacing(2),padding:e.spacing(0,1),"&:not(:first-child)":{border:"1px solid",borderColor:"#692B7C",borderRadius:"50%"},"&:first-child":{border:"1px solid",borderColor:"#692B7C",borderRadius:"50%"}}}))(Je.a),Object($e.a)({root:{color:"#692B7C","&$selected":{color:"white",background:"#692B7C"},"&:hover":{borderColor:"#BA9BC3",background:"#BA9BC3"},"&:hover$selected":{borderColor:"#BA9BC3",background:"#BA9BC3"},minWidth:32,maxWidth:32,height:32,textTransform:"unset",fontSize:"0.75rem"},selected:{}})(Ke.a);const Lt={labelCol:{xs:{span:24},sm:{span:24}}},{Option:Bt}=de.a,{TextArea:Mt}=P.a,{RangePicker:Vt}=Re.a;var qt=Object(n.connect)(e=>{let{products:t,loading:a}=e;return{products:t,loading:a}})(e=>{const[t]=C.a.useForm();let a=void 0===e.match.params.id;const r="?redirect=lastMinute"===e.location.search;let n=e.match.params.user_id;const{dispatch:i}=e,[o,m]=Object(l.useState)([]),[d,h]=Object(l.useState)(!1),[y,f]=Object(l.useState)({}),[v,S]=Object(l.useState)(),[_,O]=Object(l.useState)(!0),[w,I]=Object(l.useState)(!1);let x="/products";n&&(x="/products/"+n),console.log(x);const[T,N]=Object(l.useState)({lat:26.896593,lng:75.770676}),[D,j]=Object(l.useState)([1,2,3,4,5,6]);Object(l.useEffect)(()=>{if(a)t.setFieldsValue({is_published:!0});else{let e=JSON.parse(sessionStorage.getItem("productsData"));if(console.log("\ud83d\ude80 ~ file: addEdit.jsx:57 ~ useEffect ~ products:",e.cuisine),e.open_time&&(e.open_time=b()(e.open_time)),e.close_time&&(e.close_time=b()(e.close_time)),e.visiting_days){let t=e.visiting_days;const a=[];for(let e=0;e<t.length;e++)a.push(parseInt(t[e]));j(a)}else j([]);for(let l in e)t.setFieldsValue({[l]:e[l]});let a=""+e.images[0].url;f([a])}},[]),Object(l.useEffect)(()=>{let t=!1;return console.log("props",e),()=>{t=!0,I(!1)}},[i]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push(x)})," ",a?"Add Last Mintute Product":"Edit Last Mintute Product"),style:{marginTop:"0"}},s.a.createElement(C.a,Object.assign({},Lt,{form:t,name:"picture",layout:"vertical",onFinish:async a=>{if(!y.length>0&&0===o.length)return Se.b.error("please upload product image");o[0]&&(a.product_image=o[0]);const l=ee(a);let s,n=e.match.params.user_id;if(n&&l.append("user_id",n),e.match.params.id?(l.append("_id",e.match.params.id),s=await i({type:"products/edit",payload:l})):s=await i({type:"products/add",payload:l}),s.status){if(r)return e.history.push(x);w?(window.scrollTo({top:0,behavior:"smooth"}),t.resetFields(["price","discount_amount","number_of_pieces","description","is_published","title","item_unit"]),f({}),m([])):e.history.push(x)}},className:"innerFields"}),!r&&a&&s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"pin_title",label:"Pin Title",rules:ae("Pin Title",15)},s.a.createElement(P.a,{placeholder:"Pin Title"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:6,md:6},s.a.createElement(C.a.Item,{label:s.a.createElement("span",null,s.a.createElement("span",{style:{color:"red"}},"*"),"Product Images")},s.a.createElement(z.a,{images:y,setImages:async e=>{let t=await le(e);f(e),m([...t])},allowCrop:!1,theme:"light",max:1,cropConfig:{minWidth:10,maxWidth:2e3}})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"title",label:"Product Name",rules:ae("Product Name")},s.a.createElement(P.a,{placeholder:"Product Name"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"item_unit",label:"Select Product Unit",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{allowClear:!0,style:{width:"100%"},placeholder:"Please Product Unit"},[{key:0,value:"KILO_GRAM"},{key:1,value:"PCS"},{key:2,value:"GRAM"},{key:3,value:"PACKET"},{key:4,value:"BOTTLE"},{key:5,value:"POUCH"},{key:6,value:"FEET"},{key:7,value:"CENTI_METER"},{key:8,value:"MILI_METER"},{key:9,value:"QUINTAL"},{key:10,value:"TON"},{key:11,value:"SEAT"}].map((e,t)=>s.a.createElement(Bt,{key:t,value:e.value,label:e.value},s.a.createElement("div",{className:"demo-option-label-item"},e.value))))))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"price",label:"Product Price",rules:[{required:!0,message:"This field is required."},e=>{let{getFieldValue:t}=e;return{validator:(e,t)=>t?t>999999?Promise.reject("Product Price can not be greater than 999999"):Promise.resolve():Promise.reject("")}}]},s.a.createElement(yt.a,{type:"number",placeholder:"Product Price"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"discount_amount",label:"Product Discount Price",rules:[{required:!0,message:"This field is required."},e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a?a&&t("price")<a&&t("price")<a?Promise.reject("Product Discount Value can not be Product Price Value"):Promise.resolve():Promise.reject("")}}]},s.a.createElement(yt.a,{placeholder:"Pin Discount"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"number_of_pieces",label:"Quantity",rules:[{required:!0,message:"This field is required."},e=>{let{getFieldValue:t}=e;return{validator:(e,t)=>t?t>999999?Promise.reject("Quantity can not be greater than 999999"):Promise.resolve():Promise.reject("")}}]},s.a.createElement(yt.a,{type:"number",placeholder:"Product Quantity"}))),s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"description",label:"Product Description",rules:ae("Product Description",2e3)},s.a.createElement(Mt,{rows:4,placeholder:"Product Description"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"is_published",valuePropName:"checked"},s.a.createElement(st.a,{checkedChildren:"Publish",unCheckedChildren:"UnPublish"})))),!r&&a&&s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(E.a,{shape:"round",className:"mb-4 bg-primary",onClick:()=>{I(!0),t.submit()}},"Add More Product"))),s.a.createElement(C.a.Item,{className:"mb-0"},s.a.createElement(E.a,{onClick:()=>{t.resetFields(),e.history.push(x)}},"Cancel"),"\xa0\xa0",s.a.createElement(E.a,{type:"primary",disabled:d,className:"btn-w25 btn-primary-light",onClick:()=>{I(!1),t.submit()}},"Save")))))});const Ut={labelCol:{xs:{span:24},sm:{span:24}}},{Option:Rt}=de.a,{TextArea:Wt}=P.a,{RangePicker:zt}=Re.a;var Yt=Object(n.connect)(e=>{let{products:t,loading:a}=e;return{products:t,loading:a}})(e=>{const[t]=C.a.useForm();let a=void 0===e.match.params.id;const r="?redirect=lastMinute"===e.location.search,{dispatch:n}=e,[i,o]=Object(l.useState)([]),[m,d]=Object(l.useState)(!1),[h,y]=Object(l.useState)({}),[f,v]=Object(l.useState)(),[S,_]=Object(l.useState)(!0),[O,w]=Object(l.useState)(!1),[I,x]=Object(l.useState)({lat:26.896593,lng:75.770676}),[T,N]=Object(l.useState)([1,2,3,4,5,6]);Object(l.useEffect)(()=>{if(a)t.setFieldsValue({is_published:!0});else{let e=JSON.parse(sessionStorage.getItem("productsData"));if(console.log("\ud83d\ude80 ~ file: addEdit.jsx:57 ~ useEffect ~ products:",e.cuisine),e.open_time&&(e.open_time=b()(e.open_time)),e.close_time&&(e.close_time=b()(e.close_time)),e.visiting_days){let t=e.visiting_days;const a=[];for(let e=0;e<t.length;e++)a.push(parseInt(t[e]));N(a)}else N([]);for(let l in e)t.setFieldsValue({[l]:e[l]});let a=""+e.images[0].url;y([a])}},[]),Object(l.useEffect)(()=>{let t=!1;return console.log("props",e),()=>{t=!0,w(!1)}},[n]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/store-users")})," ",a?"Add Last Mintute Product":"Edit Last Mintute Product"),style:{marginTop:"0"}},s.a.createElement(C.a,Object.assign({},Ut,{form:t,name:"picture",layout:"vertical",onFinish:async a=>{if(!h.length>0&&0===i.length)return Se.b.error("please upload product image");i[0]&&(a.product_image=i[0]);const l=ee(a);let s;if(l.append("user_id",e.match.params.user_id),e.match.params.id?(l.append("_id",e.match.params.id),s=await n({type:"products/editAdmin",payload:l})):s=await n({type:"products/addAdmin",payload:l}),s.status){if(r)return e.history.push("/store-users");O?(window.scrollTo({top:0,behavior:"smooth"}),t.resetFields(["price","discount_amount","number_of_pieces","description","is_published","title","item_unit"]),y({}),o([])):e.history.push("/store-users")}},className:"innerFields"}),!r&&a&&s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"pin_title",label:"Pin Title",rules:ae("Pin Title",15)},s.a.createElement(P.a,{placeholder:"Pin Title"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:6,md:6},s.a.createElement(C.a.Item,{label:s.a.createElement("span",null,s.a.createElement("span",{style:{color:"red"}},"*"),"Product Images")},s.a.createElement(z.a,{images:h,setImages:async e=>{let t=await le(e);y(e),o([...t])},allowCrop:!1,theme:"light",max:1,cropConfig:{minWidth:10,maxWidth:2e3}})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"title",label:"Product Name",rules:ae("Product Name")},s.a.createElement(P.a,{placeholder:"Product Name"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"item_unit",label:"Select Product Unit",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{allowClear:!0,style:{width:"100%"},placeholder:"Please Product Unit"},[{key:0,value:"KILO_GRAM"},{key:1,value:"PCS"},{key:2,value:"GRAM"},{key:3,value:"PACKET"},{key:4,value:"BOTTLE"},{key:5,value:"POUCH"},{key:6,value:"FEET"},{key:7,value:"CENTI_METER"},{key:8,value:"MILI_METER"},{key:9,value:"QUINTAL"},{key:10,value:"TON"},{key:11,value:"SEAT"}].map((e,t)=>s.a.createElement(Rt,{key:t,value:e.value,label:e.value},s.a.createElement("div",{className:"demo-option-label-item"},e.value))))))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"price",label:"Product Price",rules:[{required:!0,message:"This field is required."},e=>{let{getFieldValue:t}=e;return{validator:(e,t)=>t?t>999999?Promise.reject("Product Price can not be greater than 999999"):Promise.resolve():Promise.reject("")}}]},s.a.createElement(yt.a,{type:"number",placeholder:"Product Price"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"discount_amount",label:"Product Discount Price",rules:[{required:!0,message:"This field is required."},e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a?a&&t("price")<a&&t("price")<a?Promise.reject("Product Discount Value can not be Product Price Value"):Promise.resolve():Promise.reject("")}}]},s.a.createElement(yt.a,{placeholder:"Pin Discount"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"number_of_pieces",label:"Quantity",rules:[{required:!0,message:"This field is required."},e=>{let{getFieldValue:t}=e;return{validator:(e,t)=>t?t>999999?Promise.reject("Quantity can not be greater than 999999"):Promise.resolve():Promise.reject("")}}]},s.a.createElement(yt.a,{type:"number",placeholder:"Product Quantity"}))),s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"description",label:"Product Description",rules:ae("Product Description",2e3)},s.a.createElement(Wt,{rows:4,placeholder:"Product Description"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"is_published",valuePropName:"checked"},s.a.createElement(st.a,{checkedChildren:"Publish",unCheckedChildren:"UnPublish"})))),!r&&a&&s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(E.a,{shape:"round",className:"mb-4 bg-primary",onClick:()=>{w(!0),t.submit()}},"Add More Product"))),s.a.createElement(C.a.Item,{className:"mb-0"},s.a.createElement(E.a,{onClick:()=>{t.resetFields(),e.history.push("/store-users")}},"Cancel"),"\xa0\xa0",s.a.createElement(E.a,{type:"primary",disabled:m,className:"btn-w25 btn-primary-light",onClick:()=>{w(!1),t.submit()}},"Save")))))});var $t=Object(n.connect)(e=>{let{church:t}=e;return{church:t}})(e=>{const{church:t}=e;console.log("props ::="),console.log(t),Object(l.useEffect)(()=>{a(e.match.params.id)},[]);const a=t=>{e.dispatch({type:"church/getDetail",payload:{id:t}})};const r=Object(l.useMemo)(()=>function(e){const t=[];if(!te(e)&&Object.keys(e).length>0)for(let a in e){let l=e[a];a=a.replaceAll("_"," "),"string"===typeof l&&t.push(s.a.createElement(X.b.Item,{label:a},l))}return t}(t.detail),[t.detail]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/church")})," Church Detail"),style:{marginTop:"0"}},s.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:"20px 10px"}},s.a.createElement(w.a,{shape:"round",size:160,src:null===t||void 0===t?void 0:t.detail.church_image,style:{marginBottom:"2px"}})),s.a.createElement(X.b,{size:"middle",bordered:!0},r),s.a.createElement("h3",{style:{marginTop:"20px"}}," Members "),s.a.createElement(B.a,{locale:{emptyText:"No Members found"},dataSource:t.churchMembers,columns:[{title:"id",dataIndex:"id"},{title:"Name",dataIndex:"first_name"},{title:"Email",dataIndex:"email"},{title:"Mobile Number",dataIndex:"mobile_no"}]}),";"))}),Kt=a(420);const{Search:Jt}=P.a,{Text:Ht}=F.a;class Gt extends s.a.Component{constructor(e){super(e),this.ListFun=()=>{this.state.current,this.state.limit,this.state.inactive,this.state.searchText,this.state.sortBy;localStorage.setItem("serviceSearch",JSON.stringify(this.state));let e=localStorage.getItem("userId"),t={limit:this.state.limit,role:"STORE",user_id:e};this.props.dispatch({type:"users/getList",payload:t})},this.ShowSizeChange=(e,t)=>this.setState({limit:t},()=>this.ListFun()),this.switchFun=e=>this.setState({inactive:e},()=>this.ListFun()),this.ChangeOrder=e=>this.setState({sortBy:"asc"===this.state.sortBy?"desc":"asc"},()=>this.ListFun()),this.paginationFun=e=>this.setState({current:e.current},()=>this.ListFun()),this.searchVal=e=>{this.setState({searchText:e});const t=this.props.users.list.data.filter(t=>t.username.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase()));this.setState({listData:t})},this.deleteItem=e=>{let t={_id:e};this.props.dispatch({type:"users/deleteItem",payload:t})},this.handleDeactiveUser=async e=>{let t=this.state.listData.map(t=>(t._id===e&&(t.user_status=!t.user_status),t));this.setState({listData:t}),await j.a.post("http://52.66.85.165:4001/api/user/status",{id:e})},this.state={limit:10,current:1,sortBy:"asc",addModel:!1,inactive:!1,searchText:"",loader:!1,detail:"",count:0,listData:[]},setTimeout(()=>document.title="Store User List",100)}componentDidMount(){this.ListFun()}handleChange(e,t){let a={val:e,_id:t._id};this.props.dispatch({type:"users/updateLunchHall",payload:a}),this.ListFun()}getSnapshotBeforeUpdate(e,t){let a=this.props.users.del;return a.count>this.state.count&&a.status?(this.setState({count:a.count,btndis:!1}),!0):(a.count>this.state.count&&!a.status&&this.setState({count:a.count,btndis:!1}),null)}componentDidUpdate(e,t,a){a&&this.ListFun()}render(){var e;const{searchText:t}=this.state,{users:a,lunches:l}=this.props;null===l||void 0===l||null===(e=l.list)||void 0===e||e.data;""===this.state.searchText&&(this.state.listData=a.list?a.list.data:[]);const r=[{title:s.a.createElement(be.a,{title:"Sort"},s.a.createElement("strong",{className:"primary-text cursor",onClick:this.ChangeOrder},"User Name ",s.a.createElement("i",{className:" fal fa-sm "+("asc"===this.state.sortBy?"fa-long-arrow-up":"fa-long-arrow-down")}))),dataIndex:"username",render:(e,t)=>s.a.createElement("div",{className:t.isActive?"":"danger-text"},e)},{title:s.a.createElement("strong",null,"Store Name"),dataIndex:"StoreData",render:(e,t)=>(null===e||void 0===e?void 0:e.title)?null===e||void 0===e?void 0:e.title:"--"},{title:s.a.createElement("strong",null,"Email"),dataIndex:"email"},{title:s.a.createElement("strong",null,"Mobile Number"),dataIndex:"mobile_number"},{title:s.a.createElement("strong",null,"Email Verified"),dataIndex:"isEmailVerified",render:(e,t)=>e?"Yes":"No"},{title:s.a.createElement("strong",null,"Status"),dataIndex:"user_status",render:(e,t)=>s.a.createElement(L.a,{title:`Are you sure you want to ${t.user_status?"Deactivate":"Activate"} this user?`,onConfirm:e=>{this.handleDeactiveUser(t._id)},okText:"Yes",cancelText:"No"},s.a.createElement(E.a,{type:"default",className:t.user_status?"bg-success":"bg-danger"},t.user_status&&t.user_status?"Activated":"Deactivated"))},{title:s.a.createElement("strong",null,"Action"),width:150,render:(e,t)=>s.a.createElement("div",null,s.a.createElement(E.a.Group,null,s.a.createElement(be.a,{title:"Edit User"},s.a.createElement(E.a,{className:"submitbutton_edit",type:"default",onClick:()=>this.props.history.push("/store-user/edit/"+t._id)},s.a.createElement(M.a,null))),t.isStoreAdd?s.a.createElement(be.a,{title:"Edit Store"},s.a.createElement(E.a,{className:"submitbutton_edit",type:"default",onClick:()=>{sessionStorage.setItem("storesData",JSON.stringify(t.StoreData)),this.props.history.push("/admin/store/edit/"+t.StoreData._id+"/"+t._id)}},s.a.createElement(M.a,null))):s.a.createElement(be.a,{title:"Add Store"},s.a.createElement(E.a,{className:"submitbutton",type:"default",onClick:()=>this.props.history.push("/admin/store/add/"+t._id)},s.a.createElement(Kt.a,null))),t.isLastPinAdd?s.a.createElement(be.a,{title:"Edit Last Minute Pin"},s.a.createElement(E.a,{className:"submitbutton_edit",type:"default",onClick:()=>{this.props.history.push("/products/"+t._id)}},s.a.createElement(M.a,null))):s.a.createElement(be.a,{title:"Add Last Minute Pin"},s.a.createElement(E.a,{className:"submitbutton",type:"default",onClick:()=>{this.props.history.push(`/product/admin/add/${t._id}/LAST_MINUTE_PIN`)}},s.a.createElement(Kt.a,null))),t.isDiscountPinAdd?s.a.createElement(be.a,{title:"Edit Discount Pin"},s.a.createElement(E.a,{className:"submitbutton_edit",type:"default",onClick:()=>{sessionStorage.setItem("pinsData",JSON.stringify(t.DiscountPinData)),this.props.history.push(`/pin/admin/edit/${t.DiscountPinData._id}/${t._id}/FLAT_DISCOUNT_PIN`)}},s.a.createElement(M.a,null))):s.a.createElement(be.a,{title:"Add Discount Pin"},s.a.createElement(E.a,{className:"submitbutton",type:"default",onClick:()=>{this.props.history.push(`/pin/admin/add/${t._id}/FLAT_DISCOUNT_PIN`)}},s.a.createElement(Kt.a,null)))))}];return s.a.createElement("div",null,s.a.createElement(u.a,{className:"TopActionBar",gutter:[16,0],justify:"space-between",align:"middle"},s.a.createElement(p.a,null,s.a.createElement(Jt,{placeholder:"Search...",onChange:e=>this.searchVal(e.target.value),value:t,loading:this.props.submitting})),s.a.createElement(p.a,null,s.a.createElement(E.a,{type:"primary",onClick:()=>this.props.history.push("/store-user/add")},"Create New Retailer"))),s.a.createElement("div",{className:"innerContainer"},s.a.createElement(g.a,{style:{marginTop:"0"},bodyStyle:{padding:"0 15px 15px"}},s.a.createElement(B.a,{columns:r,dataSource:this.state.listData,loading:this.props.loading.global,onChange:this.paginationFun,rowKey:e=>e._id,pagination:{position:["bottomLeft"],showTotal:(e,t)=>s.a.createElement(Ht,{type:"secondary"},`Showing ${t[0]}-${t[1]} of ${e}`),showSizeChanger:!0,responsive:!0,onShowSizeChange:(e,t)=>this.ShowSizeChange(e,t),pageSizeOptions:["10","25","50","100","250","500"]}}))))}}var Zt=Object(n.connect)(e=>{let{users:t,lunches:a,loading:l}=e;return{users:t,loading:l,lunches:a}})(Gt),Qt=a(810),Xt=a(811),ea=a(812),ta=a(813),aa=a(423);const la={labelCol:{xs:{span:24},sm:{span:24}}};var sa=Object(n.connect)(e=>{let{users:t,global:a,roles:l}=e;return{users:t,global:a,roles:l}})(e=>{var t,a,r;const[n]=C.a.useForm();let i=void 0===e.match.params.id;const{dispatch:o}=e,[c,m]=Object(l.useState)([]),[d,h]=Object(l.useState)(0),[y,b]=Object(l.useState)(0),[f,v]=Object(l.useState)(!1),[S,_]=Object(l.useState)({}),[O,w]=Object(l.useState)(!1),I=()=>{w(!O)};let x=[];var T,N;(null===e||void 0===e||null===(t=e.roles)||void 0===t||null===(a=t.list)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.length)>0&&(x=null===e||void 0===e||null===(T=e.roles)||void 0===T||null===(N=T.list)||void 0===N?void 0:N.data);Object(l.useEffect)(()=>{let t=!1;return window.scroll(0,0),e.match.params.id?D(e.match.params.id):n.resetFields(),()=>{t=!0}},[o]),Object(l.useEffect)(()=>{let e=!1;return()=>{e=!0}},[e.users]);const D=t=>{e.dispatch({type:"users/getDetail",payload:{_id:t,profile_id:t}})};Object(l.useEffect)(()=>{let t=!1,a=e.users.add;!t&&a.count>d&&a&&a.status?(e.dispatch({type:"users/clearAction"}),v(!1),j(),e.history.push("/store-users")):!t&&a.count>d&&a&&!a.status&&(v(!1),h(a.count));let l=e.users.edit;if(!t&&l.count>y&&l.status?(e.dispatch({type:"users/clearAction"}),b(l.count),v(!1),j(),e.history.push("/store-users")):!t&&l.count>y&&!l.status&&(v(!1),b(l.count)),e.match.params.id){let a=e.users.detail;if(!t&&a&&a.status){let e=a.userLogin;n.setFieldsValue({username:e.username,email:e.email,mobile_number:e.mobile_number})}else t||!a||a.status||v(!1)}return()=>{t=!0}},[e.users]);const j=()=>{n.resetFields(),e.history.push("/store-users")};return s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/store-users")})," ",i?"Add":"Edit"),style:{marginTop:"0"}},s.a.createElement(C.a,Object.assign({},la,{form:n,name:"loc_info",layout:"vertical",onFinish:t=>{e.match.params.id?(t._id=e.match.params.id,o({type:"users/addStoreUser",payload:t})):o({type:"users/editStoreUser",payload:t})},className:"innerFields"}),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{flex:"auto"},s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"username",label:"Name",rules:[{required:!0,message:"This field is required!"},{max:25,message:"Name must not be greater than 25 characters."}]},s.a.createElement(P.a,{placeholder:"Name"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your Email!"},{type:"email",message:"The input is not valid E-mail!"}]},i?s.a.createElement(P.a,{prefix:s.a.createElement(Qt.a,{className:"site-form-item-icon"}),placeholder:"Email"}):s.a.createElement(P.a,{disabled:!0,prefix:s.a.createElement(Qt.a,{className:"site-form-item-icon"}),placeholder:"Email"})))))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{flex:"auto"},s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"mobile_number",label:"Mobile Number",rules:[{required:!0,message:"Please input your Mobile Number!"},{pattern:/^[0-9]+$/,message:"Need to enter number"},{len:10,message:"Mobile number should be 10 digits long."}]},i?s.a.createElement(P.a,{type:"tel",prefix:s.a.createElement(Xt.a,{className:"site-form-item-icon"}),placeholder:"Mobile Number"}):s.a.createElement(P.a,{type:"tel",disabled:!0,prefix:s.a.createElement(Xt.a,{className:"site-form-item-icon"}),placeholder:"Mobile Number"}))),i&&s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your Password!"},{pattern:/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,message:"Minimum eight characters, at least one letter, one number and one special character:"}]},s.a.createElement(P.a,{prefix:s.a.createElement(ea.a,{className:"site-form-item-icon"}),type:O?"text":"password",placeholder:"Password",suffix:O?s.a.createElement(ta.a,{onClick:I}):s.a.createElement(aa.a,{onClick:I})})))))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{flex:"auto"},s.a.createElement(u.a,{gutter:15}))),s.a.createElement(C.a.Item,{className:"mb-0"},s.a.createElement(E.a,{onClick:j},"Cancel"),"\xa0\xa0",s.a.createElement(E.a,{type:"primary",disabled:f,className:"btn-w25 btn-primary-light",onClick:()=>n.submit()},"Save"))))}),ra=a(71);a(768);const{Text:na}=F.a,{TextArea:ia}=P.a,{RangePicker:oa}=((new Date).getTime(),q.a);var ca=Object(n.connect)(e=>{let{users:t,global:a,loading:l}=e;return{users:t,global:a}})(e=>{var t,a,r;const[n]=C.a.useForm(),{dispatch:i,category:o}=e,[c,m]=Object(l.useState)(!1),[d,u]=Object(l.useState)({}),[p,h]=Object(l.useState)(),[E,y]=Object(l.useState)(""),[f,v]=Object(l.useState)(!1),[S,_]=Object(l.useState)(!1),[O,P]=Object(l.useState)(""),[I,x]=Object(l.useState)(""),[T,N]=Object(l.useState)(0),[D,j]=Object(l.useState)(0),[A,F]=Object(l.useState)(0),[k,L]=Object(l.useState)(!1);Object(l.useEffect)(()=>{let t=!1;return window.scroll(0,0),e.match&&e.match.params.id?(h(e.match.params.id),B(e.match.params.id)):(n.resetFields(),y("")),()=>{t=!0}},[i]);const B=t=>{e.dispatch({type:"users/getDetail",payload:{_id:t,profile_id:t}})};Object(l.useEffect)(()=>{let t=!1,a=e.users.edit;if(!t&&a.count>D&&a.status?(j(a.count),L(!1),y(""),M()):!t&&a.count>D&&!a.status&&(L(!1),j(a.count)),e.match&&e.match.params.id){let a=e.users.detail;if(console.log("detail : ",a),!t&&a&&a.status){F(a.count);let e=a.profile;u({...e,username:e.username,email:e.email,mobile_number:e.mobile_number,isEmailVerified:e.isEmailVerified,isMobileVerified:e.isMobileVerified,roles:e.roles}),n.setFieldsValue({dob:b()(new Date(e.dob),"YYYY/MM/DD"),email:e.email,gender:e.gender,name:e.name,phone:e.phone,photo:e.photo}),y(e.photo)}else t||!a||a.status||(L(!1),F(a.count))}return()=>{t=!0}},[e.users]);const M=()=>{n.resetFields(),y(""),e.history.push("/employees")};S&&ra.a;return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/employees")})," User Details"),style:{marginTop:"0"}},s.a.createElement(w.a,{shape:"round",size:160,src:d.avatar,style:{marginBottom:"2px"}}),s.a.createElement(X.b,{size:"middle",bordered:!0},s.a.createElement(X.b.Item,{label:"Name"},d.username),s.a.createElement(X.b.Item,{label:"Employee Type"},null===d||void 0===d?void 0:d.employee_type),s.a.createElement(X.b.Item,{label:"Email"},d.email),s.a.createElement(X.b.Item,{label:"Is Email Verified"},d.isEmailVerified?"true":"false"),s.a.createElement(X.b.Item,{label:"Role"},d.roles),s.a.createElement(X.b.Item,{label:"Profile Created On"},b()(d.create).format("YYYY/MM/DD")),console.log("detail.rolesdetail.roles",d),s.a.createElement(X.b.Item,{label:"DOB"},d.dob),s.a.createElement(X.b.Item,{label:"Mobile No"},d.mobile_number))),s.a.createElement(g.a,{title:s.a.createElement("span",null," School Details"),style:{marginTop:"30px"}},s.a.createElement(X.b,{size:"middle",bordered:!0},s.a.createElement(X.b.Item,{label:"School Name"},null===(t=d.schoolDetail)||void 0===t?void 0:t.school_name),s.a.createElement("br",null),s.a.createElement(X.b.Item,{label:"School Address"},null===(a=d.schoolDetail)||void 0===a?void 0:a.address)),s.a.createElement(w.a,{shape:"square",size:160,src:null===(r=d.schoolDetail)||void 0===r?void 0:r.media,style:{marginBottom:"2px"}})))});const{Search:ma}=P.a,{Text:da}=F.a,{Option:ua}=de.a;class pa extends s.a.Component{constructor(e){super(e),this.ListFun=()=>{this.state.current,this.state.limit,this.state.inactive,this.state.searchText,this.state.sortBy;localStorage.setItem("serviceSearch",JSON.stringify(this.state));let e=localStorage.getItem("userId"),t={limit:this.state.limit,role:"USER",user_id:e};this.props.dispatch({type:"users/getList",payload:t})},this.ShowSizeChange=(e,t)=>this.setState({limit:t},()=>this.ListFun()),this.switchFun=e=>this.setState({inactive:e},()=>this.ListFun()),this.ChangeOrder=e=>this.setState({sortBy:"asc"===this.state.sortBy?"desc":"asc"},()=>this.ListFun()),this.paginationFun=e=>this.setState({current:e.current},()=>this.ListFun()),this.searchVal=e=>{this.state.searchText=e;const t=this.props.users.list.data.filter(t=>t.username.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase()));this.setState({listData:t})},this.deleteItem=e=>{let t={_id:e};this.props.dispatch({type:"users/deleteItem",payload:t})},this.handleDeactiveUser=async e=>{let t=this.state.listData.map(t=>(t._id===e&&(t.user_status=!t.user_status),t));this.setState({listData:t}),await j.a.post("http://52.66.85.165:4001/api/user/status",{id:e})},this.state={limit:10,current:1,sortBy:"asc",addModel:!1,inactive:!1,searchText:"",loader:!1,detail:"",count:0,listData:[]},setTimeout(()=>document.title="Customer List",100)}componentDidMount(){this.ListFun()}handleChange(e,t){let a={val:e,_id:t._id};this.props.dispatch({type:"users/updateLunchHall",payload:a}),this.ListFun()}getSnapshotBeforeUpdate(e,t){let a=this.props.users.del;return a.count>this.state.count&&a.status?(this.setState({count:a.count,btndis:!1}),!0):(a.count>this.state.count&&!a.status&&this.setState({count:a.count,btndis:!1}),null)}componentDidUpdate(e,t,a){a&&this.ListFun()}render(){var e;const{searchText:t}=this.state,{users:a,lunches:l}=this.props;null===l||void 0===l||null===(e=l.list)||void 0===e||e.data;""==this.state.searchText&&(this.state.listData=a.list?a.list.data:[]);const r=[{title:s.a.createElement("strong",{className:"primary-text cursor",onClick:this.ChangeOrder},"User Name ",s.a.createElement("i",{className:" fal fa-sm "+("asc"===this.state.sortBy?"fa-long-arrow-up":"fa-long-arrow-down")})),dataIndex:"username",render:(e,t)=>s.a.createElement("div",{className:t.isActive?"":"danger-text"},e)},{title:s.a.createElement("strong",null,"Mobile Number"),dataIndex:"mobile_number"},{title:s.a.createElement("strong",null," Status "),dataIndex:"user_status",render:(e,t)=>s.a.createElement("div",null,s.a.createElement(L.a,{title:`Are you sure you want to ${t.user_status?"Deactivate":"Activate"} this user?`,onConfirm:e=>{this.handleDeactiveUser(t._id)},okText:"Yes",cancelText:"No"},s.a.createElement(E.a,{type:"default",className:t.user_status?"bg-success":"bg-danger"}," ",t.user_status&&t.user_status?"Activated":"Deactivated","  ")))},{title:s.a.createElement("strong",null,"Action"),width:150,render:(e,t)=>s.a.createElement("div",null,s.a.createElement(E.a,{className:"eye_btn",type:"default",onClick:()=>{this.props.history.push("/customer/view/"+t._id)}},s.a.createElement(Be.a,null)),"\xa0")}];return s.a.createElement("div",null,s.a.createElement(u.a,{className:"TopActionBar",gutter:[16,0],justify:"space-between",align:"middle"},s.a.createElement(p.a,null,s.a.createElement(ma,{placeholder:"Search...",onChange:e=>this.searchVal(e.target.value),value:t,loading:this.props.submitting}))),s.a.createElement("div",{className:"innerContainer"},s.a.createElement(g.a,{style:{marginTop:"0"},bodyStyle:{padding:"0 15px 15px"}},s.a.createElement(B.a,{columns:r,dataSource:this.state.listData,loading:this.props.loading.global,onChange:this.paginationFun,rowKey:e=>e._id,pagination:{position:["bottomLeft"],showTotal:(e,t)=>s.a.createElement(da,{type:"secondary"},`Showing ${t[0]}-${t[1]} of ${e}`),showSizeChanger:!0,responsive:!0,onShowSizeChange:(e,t)=>this.ShowSizeChange(e,t),pageSizeOptions:["10","25","50","100","250","500"]}}))))}}var ga=Object(n.connect)(e=>{let{users:t,lunches:a,loading:l}=e;return{users:t,loading:l,lunches:a}})(pa);const ha={labelCol:{xs:{span:24},sm:{span:24}}};var Ea=Object(n.connect)(e=>{let{users:t,global:a,roles:l}=e;return{users:t,global:a,roles:l}})(e=>{var t,a,r;const[n]=C.a.useForm();let i=void 0===e.match.params.id;const{dispatch:o}=e,[c,m]=Object(l.useState)([]),[d,h]=Object(l.useState)(0),[y,f]=Object(l.useState)(0),[v,S]=Object(l.useState)(!1),[_,O]=Object(l.useState)({});let w=[];var I,x;(null===e||void 0===e||null===(t=e.roles)||void 0===t||null===(a=t.list)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.length)>0&&(w=null===e||void 0===e||null===(I=e.roles)||void 0===I||null===(x=I.list)||void 0===x?void 0:x.data);Object(l.useEffect)(()=>{let t=!1;return window.scroll(0,0),e.match.params.id?T(e.match.params.id):n.resetFields(),()=>{t=!0}},[o]),Object(l.useEffect)(()=>{let e=!1;return()=>{e=!0}},[e.users]);const T=t=>{e.dispatch({type:"users/getDetail",payload:{_id:t,profile_id:t}})};Object(l.useEffect)(()=>{let t=!1,a=e.users.add;!t&&a.count>d&&a&&a.status?(e.dispatch({type:"users/clearAction"}),S(!1),N(),e.history.push("/store-users")):!t&&a.count>d&&a&&!a.status&&(S(!1),h(a.count));let l=e.users.edit;if(!t&&l.count>y&&l.status?(e.dispatch({type:"users/clearAction"}),f(l.count),S(!1),N(),e.history.push("/store-users")):!t&&l.count>y&&!l.status&&(S(!1),f(l.count)),e.match.params.id){let a=e.users.detail;if(!t&&a&&a.status){let e=a.userLogin;n.setFieldsValue({username:e.username,email:e.email,mobile_number:e.mobile_number,employee_type:e.employee_type,dob:b()(new Date(e.dob)||null,"MM/DD/YYYY")});let t=[{file:e.avatar}];console.log("images",t),O(t.map(e=>e.file)),m(t.map(e=>e.file))}else t||!a||a.status||S(!1)}return()=>{t=!0}},[e.users]);const N=()=>{n.resetFields(),e.history.push("/store-users")};return s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/store-users")})," ",i?"Add":"Edit"),style:{marginTop:"0"}},s.a.createElement(C.a,Object.assign({},ha,{form:n,name:"loc_info",layout:"vertical",onFinish:t=>{if(0===c.length)return Se.b.error("please upload profile image");t.avatar=c[0];const a=(e=>{let t=localStorage.getItem("userId");const a=new FormData;return a.append("avatar",e.avatar),a.append("dob",e.dob),a.append("email",e.email),a.append("employee_type",e.employee_type),a.append("mobile_number",e.mobile_number),a.append("username",e.username),a.append("user_id",t),a})(t);e.match.params.id?(a.append("_id",e.match.params.id),o({type:"users/editEmployee",payload:a})):o({type:"users/addEmployee",payload:a})},className:"innerFields"}),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:6,md:6},s.a.createElement(C.a.Item,{label:s.a.createElement("span",null,s.a.createElement("span",{style:{color:"red"}},"*"),"Profile Images")},s.a.createElement(z.a,{images:_,setImages:e=>{const t=Object.values(e).map((e,t)=>e.startsWith("http://52.66.85.165:4001")?e:((e,t)=>{for(var a=e.split(","),l=a[0].match(/:(.*?);/)[1],s=atob(a[1]),r=s.length,n=new Uint8Array(r);r--;)n[r]=s.charCodeAt(r);return new File([n],t,{type:l})})(e,"image_"+t));O(e),m([...t])},allowCrop:!1,theme:"light",max:1,cropConfig:{minWidth:10,maxWidth:2e3}})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{flex:"auto"},s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"username",label:"Employee Name",rules:[{required:!0,message:"This field is required!"},{max:25,message:"Employee Name must not be greater than 25 characters."}]},s.a.createElement(P.a,{placeholder:"Employee Name"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your Email!"},{type:"email",message:"The input is not valid E-mail!"}]},i?s.a.createElement(P.a,{prefix:s.a.createElement(Qt.a,{className:"site-form-item-icon"}),placeholder:"Email"}):s.a.createElement(P.a,{disabled:!0,prefix:s.a.createElement(Qt.a,{className:"site-form-item-icon"}),placeholder:"Email"})))))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{flex:"auto"},s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"mobile_number",label:"Mobile Number",rules:[{required:!0,message:"Please input your Mobile Number!"},{pattern:/^[0-9]+$/,message:"Need to enter number"},{len:10,message:"Mobile number should be 10 digits long."}]},i?s.a.createElement(P.a,{type:"tel",prefix:s.a.createElement(Xt.a,{className:"site-form-item-icon"}),placeholder:"Mobile Number"}):s.a.createElement(P.a,{type:"tel",disabled:!0,prefix:s.a.createElement(Xt.a,{className:"site-form-item-icon"}),placeholder:"Mobile Number"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"employee_type",label:"Employee Type",rules:[{required:!0,message:"This field is required!"}]},s.a.createElement(de.a,{placeholder:"Select Employee Type"},w&&w.map((e,t)=>s.a.createElement(de.a.Option,{key:t,value:e._id},e.roles)))))))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{flex:"auto"},s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"dob",label:"DOB",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(q.a,{disabledDate:e=>{let t=b()().format("MM/DD/YYYY");return e&&e>b()(t,"MM/DD/YYYY")},format:"MM/DD/YYYY"})))))),s.a.createElement(C.a.Item,{className:"mb-0"},s.a.createElement(E.a,{onClick:N},"Cancel"),"\xa0\xa0",s.a.createElement(E.a,{type:"primary",disabled:v,className:"btn-w25 btn-primary-light",onClick:()=>n.submit()},"Save"))))});var ya=Object(n.connect)(e=>{let{users:t,global:a,loading:l}=e;return{users:t,global:a}})(e=>{const[t]=C.a.useForm(),{dispatch:a,category:r}=e,[n,i]=Object(l.useState)({});Object(l.useEffect)(()=>{let a=!1;return window.scroll(0,0),e.match&&e.match.params.id?o(e.match.params.id):t.resetFields(),()=>{a=!0}},[a]);const o=t=>{e.dispatch({type:"users/getDetail",payload:{_id:t,profile_id:t}})};Object(l.useEffect)(()=>{let t=!1;if(e.match&&e.match.params.id){let a=e.users.detail;if(console.log("detail : ",a),!t&&a&&a.status){let e=a.profile;i({...e,username:e.username,email:e.email,mobile_number:e.mobile_number,isEmailVerified:e.isEmailVerified,isMobileVerified:e.isMobileVerified,roles:e.roles})}else!t&&a&&a.status}return()=>{t=!0}},[e.users]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/customers")})," User Details"),style:{marginTop:"0"}},s.a.createElement(w.a,{shape:"round",size:160,src:n.avatar,style:{marginBottom:"2px"}}),s.a.createElement(X.b,{size:"middle",bordered:!0},s.a.createElement(X.b.Item,{label:"Name"},n.username),s.a.createElement(X.b.Item,{label:"Email"},n.email),s.a.createElement(X.b.Item,{label:"Role"},n.roles),s.a.createElement(X.b.Item,{label:"Profile Created On"},b()(n.create).format("YYYY/MM/DD")),console.log("detail.rolesdetail.roles",n),s.a.createElement(X.b.Item,{label:"Mobile No"},n.mobile_number))))});const{Search:ba}=P.a,{Text:fa}=F.a;class va extends s.a.Component{constructor(e){super(e),this.ListFun=()=>{let e={limit:this.state.limit,page:this.state.current,sortBy:this.state.sortBy};this.props.dispatch({type:"stores/listApprove",payload:e})},this.ShowSizeChange=(e,t)=>{this.setState({limit:t,current:e-1},()=>this.ListFun())},this.searchVal=e=>{this.state.searchText=e;const t=this.props.stores.list.filter(t=>JSON.stringify(t).toLowerCase().includes(e.toLowerCase()));this.setState({listData:t})},this.deleteItem=e=>{let t={_id:e};this.props.dispatch({type:"stores/delete",payload:t})},this.handleDeactiveUser=async e=>{let t=this.state.listData.map(t=>(t.store_id===e&&(t.is_approve=!t.is_approve),t));this.setState({listData:t}),await j.a.post("http://52.66.85.165:4001/api/store-approve/status",{id:e})},this.state={limit:10,current:0,sortBy:"asc",searchText:"",loader:!1,count:0,listData:[],isAdmin:!1},setTimeout(()=>document.title="Approve List",100)}componentDidMount(){this.ListFun(),"ADMIN"===localStorage.getItem("role")&&this.setState({isAdmin:!0})}componentDidUpdate(e,t,a){a&&this.ListFun()}render(){const{location:e}=this.props;e.pathname.split("/").filter(e=>e)[0].toUpperCase();const{searchText:t}=this.state,{stores:a}=this.props,l=null===a||void 0===a?void 0:a.count;""==this.state.searchText&&(this.state.listData=a?a.list:[]);const r=[{title:s.a.createElement("strong",null,"Store Image"),dataIndex:"images",cursor:"pointer",width:150,render:(e,t)=>{var a;return s.a.createElement(w.a,{shape:"square",size:60,src:""+(e&&(null===(a=e[0])||void 0===a?void 0:a.url)),style:{margin:5}})}},{title:s.a.createElement("strong",null,"Email"),dataIndex:"email",sorter:(e,t)=>e.email.localeCompare(t.email)},{title:s.a.createElement("strong",null,"Phone"),dataIndex:"mobile_number"},{title:s.a.createElement("strong",null,"Store Name"),dataIndex:"title",sorter:(e,t)=>e.name.localeCompare(t.name)},{title:s.a.createElement("strong",null,"Store Address"),dataIndex:"address"},{title:s.a.createElement("strong",null,"Verified"),dataIndex:"is_approve",render:(e,t)=>s.a.createElement("div",{className:e?"text-success":"text-danger"},console.log(t,"is_approve"),1==e?"Approved":"Not Approved")},{title:s.a.createElement("strong",null,"Submited On"),dataIndex:"created_at",render:(e,t)=>b()(e).format("DD-MM-YYYY")},{title:s.a.createElement("strong",null,"Action"),width:150,render:(e,t)=>s.a.createElement("div",null,!t.is_approve&&s.a.createElement(s.a.Fragment,null,s.a.createElement(L.a,{title:"Do you want to approve this store?",onConfirm:e=>{this.handleDeactiveUser(t.store_id)},okText:"Yes",cancelText:"No"},s.a.createElement(E.a,{type:"default"}," ",s.a.createElement(_e.a,null)," ")),"\xa0"),s.a.createElement(E.a,{className:"eye_btn",type:"default",onClick:()=>{this.props.history.push("/store/view/"+t.store_id+"?redirect=approve")}},s.a.createElement(Be.a,null)))}];return s.a.createElement("div",null,s.a.createElement(u.a,{className:"TopActionBar",gutter:[16,0],justify:"space-between",align:"middle"},s.a.createElement(p.a,null,this.state.isAdmin&&s.a.createElement(ba,{placeholder:"Search...",onChange:e=>this.searchVal(e.target.value),value:t,loading:this.props.submitting})),s.a.createElement(p.a,null)),console.log({count:l}),s.a.createElement("div",{className:"innerContainer"},s.a.createElement(g.a,{style:{marginTop:"0"},bodyStyle:{padding:"0 15px 15px"}},s.a.createElement(B.a,{columns:r,dataSource:this.state.listData,loading:this.props.loading.global,rowKey:e=>e._id,pagination:this.state.isAdmin&&{position:["bottomLeft"],showTotal:(e,t)=>s.a.createElement(fa,{type:"secondary"},`Showing ${t[0]}-${t[1]} of ${e}`),showSizeChanger:!0,responsive:!0,total:l,onShowSizeChange:(e,t)=>this.ShowSizeChange(e,t),pageSizeOptions:["10","25","50","100","250","500"]}}))))}}var Sa=Object(n.connect)(e=>{let{stores:t,loading:a}=e;return{stores:t,loading:a}})(va);var _a=Object(n.connect)(e=>{let{stores:t}=e;return{stores:t}})(e=>{var t,a,r,n;const{stores:i}=e,{detail:o}=i;console.log("props ::="),console.log(i),Object(l.useEffect)(()=>{c(e.match.params.id)},[]);const c=t=>{e.dispatch({type:"stores/getDetail",payload:{id:t}})};return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/stores")})," Store Detail "),style:{marginTop:"0"}},s.a.createElement("div",{style:{display:"flex",justifyContent:"left",padding:"20px 10px"}},s.a.createElement(w.a,{shape:"square",size:160,src:(null===i||void 0===i||null===(t=i.detail)||void 0===t?void 0:t.images)&&(null===i||void 0===i||null===(a=i.detail)||void 0===a||null===(r=a.images[0])||void 0===r?void 0:r.url),style:{marginBottom:"2px"}})),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Name")),s.a.createElement(p.a,{span:16},o&&(null===o||void 0===o?void 0:o.title))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Cuisine")),s.a.createElement(p.a,{span:16},o&&(null===o||void 0===o||null===(n=o.cuisine)||void 0===n?void 0:n.map(e=>s.a.createElement(s.a.Fragment,null,e," "))))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Category")),s.a.createElement(p.a,{span:16},o&&(null===o||void 0===o?void 0:o.store_category))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Open Time")),s.a.createElement(p.a,{span:16},o&&b()(null===o||void 0===o?void 0:o.open_time).format("hh:mm a"))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Close Time")),s.a.createElement(p.a,{span:16},o&&b()(null===o||void 0===o?void 0:o.close_time).format("hh:mm a"))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"State")),s.a.createElement(p.a,{span:16},o&&(null===o||void 0===o?void 0:o.state))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"City")),s.a.createElement(p.a,{span:16},o&&(null===o||void 0===o?void 0:o.city))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Postal")),s.a.createElement(p.a,{span:16},o&&(null===o||void 0===o?void 0:o.postal))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Address")),s.a.createElement(p.a,{span:16},o&&(null===o||void 0===o?void 0:o.address))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Store Description")),s.a.createElement(p.a,{span:16},o&&(null===o||void 0===o?void 0:o.description))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Created At")),s.a.createElement(p.a,{span:16},o&&(null===o||void 0===o?void 0:o.created_at))),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Status")),s.a.createElement(p.a,{span:16},o&&((null===o||void 0===o?void 0:o.status)?s.a.createElement("span",{style:{color:"green"}},"Publish"):s.a.createElement("span",{style:{color:"red"}},"UnPublish"))||"-"))))});const{Search:Oa}=P.a,{Text:Ca}=F.a;class Pa extends s.a.Component{constructor(e){super(e),this.ListFun=()=>{let e={limit:this.state.limit,page:this.state.current,sortBy:this.state.sortBy};this.props.dispatch({type:"orders/listData",payload:e})},this.ShowSizeChange=(e,t)=>{this.setState({limit:t,current:e-1},()=>this.ListFun())},this.searchVal=e=>{this.state.searchText=e;const t=this.props.orders.list.filter(t=>JSON.stringify(t).toLowerCase().includes(e.toLowerCase()));this.setState({listData:t})},this.deleteItem=e=>{let t={_id:e};this.props.dispatch({type:"orders/delete",payload:t})},this.handleDeactiveUser=async e=>{let t=this.state.listData;console.log("list",t);let a=t.map(t=>(t._id===e&&(t.status=!t.status),t));this.setState({listData:a}),await j.a.post("http://52.66.85.165:4001/api/order/status",{id:e})},this.state={limit:10,current:0,sortBy:"asc",searchText:"",loader:!1,count:0,listData:[],isAdmin:!1},setTimeout(()=>document.title="Order List",100)}componentDidMount(){this.ListFun(),"ADMIN"===localStorage.getItem("role")&&this.setState({isAdmin:!0})}componentDidUpdate(e,t,a){a&&this.ListFun()}render(){const{location:e}=this.props;e.pathname.split("/").filter(e=>e)[0].toUpperCase();const{searchText:t}=this.state,{orders:a}=this.props,l=null===a||void 0===a?void 0:a.count;""==this.state.searchText&&(this.state.listData=a?a.list:[]);const r=[{title:s.a.createElement("strong",{className:""},"ID"),dataIndex:"_id",render:(e,t)=>s.a.createElement("span",{className:"text-primary"},t._id)},{title:s.a.createElement("strong",{className:""},"Customer ID"),dataIndex:"user_id",render:(e,t)=>s.a.createElement("span",{className:"time_table_text"},t.user_id)},{title:s.a.createElement("strong",{className:""},"Total Amount"),dataIndex:"total_amount",render:(e,t)=>s.a.createElement("span",{className:"time_table_text"},t.total_amount)},{title:s.a.createElement("strong",{className:""},"Payable Amount"),dataIndex:"payable_amount",render:(e,t)=>s.a.createElement("span",{className:"time_table_text"},t.payable_amount)},{title:s.a.createElement("strong",{className:""},"Discount Amount"),dataIndex:"discounted_amount",render:(e,t)=>s.a.createElement("span",{className:"time_table_text"},t.discounted_amount)},{title:s.a.createElement("strong",{className:""},"Payment Status"),dataIndex:"payment_status",render:(e,t)=>s.a.createElement("span",{className:"time_table_text"},t.payment_status)},{title:s.a.createElement("strong",{className:""},"Order Type"),dataIndex:"order_type",render:(e,t)=>s.a.createElement("span",{className:"time_table_text"},t.order_type)},{title:s.a.createElement("strong",{className:"time_table_text"},"Order Date"),dataIndex:"created_at",render:(e,t)=>s.a.createElement("span",{className:"time_table_text"},b()(e).format("DD/MM/YYYY","hh:mm a"))},{title:s.a.createElement("strong",null,"Action"),width:150,render:(e,t)=>s.a.createElement("div",null,s.a.createElement(E.a,{className:"eye_btn",type:"default",onClick:()=>{this.props.history.push("/order/view/"+t._id)}},s.a.createElement(Be.a,null)),"\xa0")}];return s.a.createElement("div",null,s.a.createElement(u.a,{className:"TopActionBar",gutter:[16,0],justify:"space-between",align:"middle"},s.a.createElement(p.a,null,s.a.createElement(Oa,{placeholder:"Search...",onChange:e=>this.searchVal(e.target.value),value:t,loading:this.props.submitting}))),s.a.createElement("div",{className:"innerContainer"},s.a.createElement(g.a,{style:{marginTop:"0"},bodyStyle:{padding:"0 15px 15px"}},s.a.createElement(B.a,{columns:r,dataSource:this.state.listData,loading:this.props.loading.global,rowKey:e=>e._id,pagination:{position:["bottomLeft"],showTotal:(e,t)=>s.a.createElement(Ca,{type:"secondary"},`Showing ${t[0]}-${t[1]} of ${e}`),showSizeChanger:!0,responsive:!0,total:l,onShowSizeChange:(e,t)=>this.ShowSizeChange(e,t),pageSizeOptions:["10","25","50","100","250","500"]}}))))}}var wa=Object(n.connect)(e=>{let{orders:t,loading:a}=e;return{orders:t,loading:a}})(Pa);const Ia=[{key:"sunday",label:"S"},{key:"monday",label:"M"},{key:"tuesday",label:"T"},{key:"wednesday",label:"W"},{key:"thursday",label:"T"},{key:"friday",label:"F"},{key:"saturday",label:"S"}],xa=Object($e.a)(e=>({grouped:{margin:e.spacing(2),padding:e.spacing(0,1),"&:not(:first-child)":{border:"1px solid",borderColor:"#692B7C",borderRadius:"50%"},"&:first-child":{border:"1px solid",borderColor:"#692B7C",borderRadius:"50%"}}}))(Je.a),Ta=Object($e.a)({root:{color:"#692B7C","&$selected":{color:"white",background:"#692B7C"},"&:hover":{borderColor:"#BA9BC3",background:"#BA9BC3"},"&:hover$selected":{borderColor:"#BA9BC3",background:"#BA9BC3"},minWidth:32,maxWidth:32,height:32,textTransform:"unset",fontSize:"0.75rem"},selected:{}})(Ke.a);var Na=e=>{let{handleWeekDays:t,days:a}=e;return s.a.createElement(s.a.Fragment,null,s.a.createElement(xa,{size:"small","arial-label":"Days of the week",value:a,onChange:t},Ia.map((e,t)=>s.a.createElement(Ta,{key:e.key,value:t,"aria-label":e.key},e.label))))};const Da={labelCol:{xs:{span:24},sm:{span:24}}},{Option:ja}=de.a,{TextArea:Aa}=P.a,{RangePicker:Fa}=Re.a;var ka=Object(n.connect)(e=>{let{orders:t,loading:a}=e;return{orders:t,loading:a}})(e=>{const[t]=C.a.useForm(),a=e.location.search.substr(8);console.log("\ud83d\ude80 ~ file: addEdit.jsx:32 ~ OrderAddEdit ~ isVerify:",a);let r=void 0===e.match.params.id;const{dispatch:n}=e,[i,o]=Object(l.useState)([]),[m,d]=Object(l.useState)(!1),[h,y]=Object(l.useState)({}),[v,_]=Object(l.useState)(),[O,w]=Object(l.useState)(!0),[I,x]=Object(l.useState)({lat:26.896593,lng:75.770676}),[T,N]=Object(l.useState)([1,2,3,4,5,6]),D=Object(l.useRef)();Object(l.useEffect)(()=>{if(r);else{let e=JSON.parse(sessionStorage.getItem("ordersData"));if(console.log("\ud83d\ude80 ~ file: addEdit.jsx:57 ~ useEffect ~ orders:",e.cuisine),e.open_time&&(e.open_time=b()(e.open_time)),e.close_time&&(e.close_time=b()(e.close_time)),e.visiting_days){let t=e.visiting_days;const a=[];for(let e=0;e<t.length;e++)a.push(parseInt(t[e]));N(a)}else N([]);t.setFieldsValue({cuisine:Number[e.cuisine]});for(let l in e)t.setFieldsValue({[l]:e[l]});console.log(e),x({lat:e.latitude,lng:e.longitude});let a=""+e.images[0].url;y([a])}},[]),Object(l.useEffect)(()=>{let t=!1;return console.log("props",e),()=>{t=!0}},[n]);const A=Object(l.useCallback)(e=>{_(e)},[]),F=async(e,a)=>{console.log("fetching location name"),S.a.setApiKey(f),S.a.setLanguage("en"),S.a.setLocationType("ROOFTOP"),S.a.enableDebug();try{let l=await S.a.fromLatLng(e,a);if(console.log({response:l}),l){const e=l.results[0].formatted_address;return console.log("address",e),t.setFieldsValue({address:e}),!0}}catch(l){return console.log("error",l),alert("Location Name not found!"),!1}S.a.setLanguage("en")};return s.a.createElement(s.a.Fragment,null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>{"verify"===a?e.history.push("/"):e.history.push("/orders")}})," ",r?"Add Store":"Edit Store"),style:{marginTop:"0"}},s.a.createElement(C.a,Object.assign({},Da,{form:t,name:"picture",layout:"vertical",onFinish:async t=>{if("Error"===(await j.a.get("https://api.postalpincode.in/pincode/"+t.postal)).data[0].Status)return void We.a.error({message:"This pincode is not a available"});if(w(!0),!O)return void We.a.error({message:"This pincode is not a available"});if(!h.length>0&&0===i.length)return Se.b.error("please upload store image");t.latitude=I.lat,t.longitude=I.lng,t.visiting_days=T,i[0]&&(t.store_image=i[0]),console.log("val",t);const l=ee(t);let s;e.match.params.id?(l.append("_id",e.match.params.id),s=await n({type:"orders/edit",payload:l})):s=await n({type:"orders/add",payload:l}),s.status&&("verify"===a?e.history.push("/"):e.history.push("/orders"))},className:"innerFields"}),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:6,md:6},s.a.createElement(C.a.Item,{label:s.a.createElement("span",null,s.a.createElement("span",{style:{color:"red"}},"*"),"Store Images")},s.a.createElement(z.a,{images:h,setImages:async e=>{let t=await le(e);y(e),o([...t])},allowCrop:!1,theme:"light",max:1,cropConfig:{minWidth:10,maxWidth:2e3}})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"visiting_days",label:"Visiting Days"},s.a.createElement(Na,{days:T,handleWeekDays:(e,t)=>{N(t)}}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"title",label:"Store Title",rules:ae("Store Title",15)},s.a.createElement(P.a,{placeholder:"Store Title"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"cuisine",label:"Select Store Cuisine",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please Store Cuisine",onChange:e=>{console.log("selected "+e)}},[{value:0,day:"Indian"},{value:1,day:"Chinese"},{value:2,day:"Italian"},{value:3,day:"American"},{value:4,day:"German"}].map((e,t)=>s.a.createElement(ja,{key:t,value:e.day,label:e.day},s.a.createElement("div",{className:"demo-option-label-item"},e.day))))))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"open_time",label:"Store Open Time",rules:[{required:!0,message:"Please input your Open Time!"}]},s.a.createElement(Re.a,{showNow:!1,style:{width:"100%"},use12Hours:!0,format:"h:mm a",onChange:(e,a)=>{t.setFieldsValue({open_time:e})}}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"close_time",label:"Store Close Time",rules:[{required:!0},e=>{let{getFieldValue:t}=e;return{validator(e,a){if(!a)return Promise.reject("Please input your Close Time!");var l=b()(t("open_time")._d,"h:mm:ss a"),s=b()(a._d,"h:mm:ss a");return l.isBefore(s)?Promise.resolve():Promise.reject("close time must be greater than open time")}}}]},s.a.createElement(Re.a,{showNow:!1,style:{width:"100%"},use12Hours:!0,format:"h:mm a",onChange:(e,a)=>{t.setFieldsValue({close_time:e})}})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"description",label:"Store Description",rules:ae("Description",2e3)},s.a.createElement(Aa,{rows:4,placeholder:"Store Description"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"postal",label:"Postal",onChange:e=>{(async e=>{let a=e.target.value;if(t.setFieldsValue({city:"",state:""}),6===a.length){const e=await j.a.get("https://api.postalpincode.in/pincode/"+a);if(console.log(e.data[0].Status),"Error"===e.data[0].Status?w(!1):w(!0),null!=e.data[0].PostOffice&&void 0!=e.data[0].PostOffice&&""!=e.data[0].PostOffice){let a=e.data[0].PostOffice[0];t.setFieldsValue({city:a.District,state:a.State})}else t.setFieldsValue({city:"",state:""})}})(e)},rules:[{required:!0,message:"Numeric Value Required"},{max:6,message:"Postal Code must be 6 digits"}]},s.a.createElement(P.a,{placeholder:"Postal",type:"number"}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"state",label:"State",rules:[{required:!0,message:"Field required!"},{max:20,message:"State must not be greater than 20 characters."}]},s.a.createElement(P.a,{placeholder:"State"}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"city",label:"City",rules:[{required:!0,message:"Field required!"},{max:20,message:"City must not be greater than 20 characters."}]},s.a.createElement(P.a,{placeholder:"City"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"store_category",label:"Select Store Category",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{allowClear:!0,style:{width:"100%"},placeholder:"Please Store Category"},[{value:0,category:"Restaurants"},{value:1,category:"Bars & Pubs"},{value:2,category:"Bakery"},{value:3,category:"Cafe"},{value:4,category:"Sweets"}].map((e,t)=>s.a.createElement(ja,{key:t,value:e.category,label:e.category},s.a.createElement("div",{className:"demo-option-label-item"},e.category))))))),s.a.createElement(p.a,{sm:12,md:12,style:!0},s.a.createElement(Ye.c,{googleMapsApiKey:f,libraries:["places"]},s.a.createElement(Ye.a,{onLoad:A,onPlaceChanged:()=>{if(console.log("autocomplete"),console.log(v.getPlace().formatted_address),!te(v)){const e={lat:v.getPlace().geometry.location.lat(),lng:v.getPlace().geometry.location.lng()};t.setFieldsValue({location:v.getPlace().formatted_address}),x(e)}},bounds:!0,onUnmount:!0},s.a.createElement(C.a.Item,{name:"address",label:"Store Address",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{ref:D,prefix:s.a.createElement(ze.a,null),placeholder:"Store Address ",type:"text"}))))),s.a.createElement(u.a,{gutter:15,className:"",style:{height:"500px",width:"100%"}},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(Ye.c,{googleMapsApiKey:f,libraries:["places"]},s.a.createElement(Ye.b,{center:I,zoom:15,mapContainerStyle:{width:"50%",height:"100%"}},s.a.createElement(Ye.d,{position:I,draggable:!0,onDragEnd:e=>(async e=>{const t=e.latLng.lat(),a=e.latLng.lng(),l={lat:t,lng:a};let s=await F(t,a);console.log({result:s}),s&&x(l)})(e)}))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(C.a.Item,{className:"mb-0"},s.a.createElement(E.a,{onClick:()=>{t.resetFields(),"verify"===a?e.history.push("/"):e.history.push("/orders")}},"Cancel"),"\xa0\xa0",s.a.createElement(E.a,{type:"primary",disabled:m,className:"btn-w25 btn-primary-light",onClick:()=>t.submit()},"Save")))))});const La={labelCol:{xs:{span:24},sm:{span:24}}},{Option:Ba}=de.a,{TextArea:Ma}=P.a,{RangePicker:Va}=Re.a;var qa=Object(n.connect)(e=>{let{orders:t,loading:a}=e;return{orders:t,loading:a}})(e=>{const[t]=C.a.useForm(),a=e.location.search.substr(8);console.log("\ud83d\ude80 ~ file: addEdit.jsx:32 ~ OrderAddEdit ~ isVerify:",a);let r=void 0===e.match.params.id;const{dispatch:n}=e,[i,o]=Object(l.useState)([]),[m,d]=Object(l.useState)(!1),[h,y]=Object(l.useState)({}),[v,_]=Object(l.useState)(),[O,w]=Object(l.useState)(!0),[I,x]=Object(l.useState)({lat:26.896593,lng:75.770676}),[T,N]=Object(l.useState)([1,2,3,4,5,6]),D=Object(l.useRef)();Object(l.useEffect)(()=>{if(r)t.setFieldsValue({status:!0});else{let e=JSON.parse(sessionStorage.getItem("ordersData"));if(console.log("\ud83d\ude80 ~ file: addEdit.jsx:57 ~ useEffect ~ orders:",e.cuisine),e.open_time&&(e.open_time=b()(e.open_time)),e.close_time&&(e.close_time=b()(e.close_time)),e.visiting_days){let t=e.visiting_days;const a=[];for(let e=0;e<t.length;e++)a.push(parseInt(t[e]));N(a)}else N([]);t.setFieldsValue({cuisine:Number[e.cuisine]});for(let l in e)t.setFieldsValue({[l]:e[l]});console.log(e),x({lat:e.latitude,lng:e.longitude});let a=""+e.images[0].url;y([a])}},[]),Object(l.useEffect)(()=>{let t=!1;return console.log("props",e),()=>{t=!0}},[n]);const A=Object(l.useCallback)(e=>{_(e)},[]),F=async(e,a)=>{console.log("fetching location name"),S.a.setApiKey(f),S.a.setLanguage("en"),S.a.setLocationType("ROOFTOP"),S.a.enableDebug();try{let l=await S.a.fromLatLng(e,a);if(console.log({response:l}),l){const e=l.results[0].formatted_address;return console.log("address",e),t.setFieldsValue({address:e}),!0}}catch(l){return console.log("error",l),alert("Location Name not found!"),!1}S.a.setLanguage("en")};return s.a.createElement(s.a.Fragment,null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>{"verify"===a?e.history.push("/"):e.history.push("/store-users")}})," ",r?"Add Store":"Edit Store"),style:{marginTop:"0"}},s.a.createElement(C.a,Object.assign({},La,{form:t,name:"picture",layout:"vertical",onFinish:async t=>{if("Error"===(await j.a.get("https://api.postalpincode.in/pincode/"+t.postal)).data[0].Status)return void We.a.error({message:"This pincode is not a available"});if(w(!0),!O)return void We.a.error({message:"This pincode is not a available"});if(!h.length>0&&0===i.length)return Se.b.error("please upload store image");t.latitude=I.lat,t.longitude=I.lng,t.visiting_days=T,i[0]&&(t.store_image=i[0]),t.user_id=e.match.params.user_id;const l=ee(t);let s;e.match.params.id?(l.append("_id",e.match.params.id),s=await n({type:"orders/editAdmin",payload:l})):s=await n({type:"orders/addAdmin",payload:l}),s.status&&("verify"===a?e.history.push("/"):e.history.push("/store-users"))},className:"innerFields"}),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:6,md:6},s.a.createElement(C.a.Item,{label:s.a.createElement("span",null,s.a.createElement("span",{style:{color:"red"}},"*"),"Store Images")},s.a.createElement(z.a,{images:h,setImages:async e=>{let t=await le(e);y(e),o([...t])},allowCrop:!1,theme:"light",max:1,cropConfig:{minWidth:10,maxWidth:2e3}})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"visiting_days",label:"Visiting Days"},s.a.createElement(Na,{days:T,handleWeekDays:(e,t)=>{N(t)}}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"title",label:"Store Title",rules:ae("Store Title",15)},s.a.createElement(P.a,{placeholder:"Store Title"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"cuisine",label:"Select Store Cuisine",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please Store Cuisine",onChange:e=>{console.log("selected "+e)}},[{value:0,day:"Indian"},{value:1,day:"Chinese"},{value:2,day:"Italian"},{value:3,day:"American"},{value:4,day:"German"}].map((e,t)=>s.a.createElement(Ba,{key:t,value:e.day,label:e.day},s.a.createElement("div",{className:"demo-option-label-item"},e.day))))))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"open_time",label:"Store Open Time",rules:[{required:!0,message:"Please input your Open Time!"}]},s.a.createElement(Re.a,{showNow:!1,style:{width:"100%"},use12Hours:!0,format:"h:mm a",onChange:(e,a)=>{t.setFieldsValue({open_time:e})}}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"close_time",label:"Store Close Time",rules:[{required:!0},e=>{let{getFieldValue:t}=e;return{validator(e,a){if(!a)return Promise.reject("Please input your Close Time!");var l=b()(t("open_time")._d,"h:mm:ss a"),s=b()(a._d,"h:mm:ss a");return l.isBefore(s)?Promise.resolve():Promise.reject("close time must be greater than open time")}}}]},s.a.createElement(Re.a,{showNow:!1,style:{width:"100%"},use12Hours:!0,format:"h:mm a",onChange:(e,a)=>{t.setFieldsValue({close_time:e})}})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(C.a.Item,{name:"description",label:"Store Description",rules:ae("Description",2e3)},s.a.createElement(Ma,{rows:4,placeholder:"Store Description"})))),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"postal",label:"Postal",onChange:e=>{(async e=>{let a=e.target.value;if(t.setFieldsValue({city:"",state:""}),6===a.length){const e=await j.a.get("https://api.postalpincode.in/pincode/"+a);if(console.log(e.data[0].Status),"Error"===e.data[0].Status?w(!1):w(!0),null!=e.data[0].PostOffice&&void 0!=e.data[0].PostOffice&&""!=e.data[0].PostOffice){let a=e.data[0].PostOffice[0];t.setFieldsValue({city:a.District,state:a.State})}else t.setFieldsValue({city:"",state:""})}})(e)},rules:[{required:!0,message:"Numeric Value Required"},{max:6,message:"Postal Code must be 6 digits"}]},s.a.createElement(P.a,{placeholder:"Postal",type:"number"}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"state",label:"State",rules:[{required:!0,message:"Field required!"},{max:20,message:"State must not be greater than 20 characters."}]},s.a.createElement(P.a,{placeholder:"State"}))),s.a.createElement(p.a,{xs:24,sm:24,md:12},s.a.createElement(C.a.Item,{name:"city",label:"City",rules:[{required:!0,message:"Field required!"},{max:20,message:"City must not be greater than 20 characters."}]},s.a.createElement(P.a,{placeholder:"City"}))),s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"store_category",label:"Select Store Category",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(de.a,{allowClear:!0,style:{width:"100%"},placeholder:"Please Store Category"},[{value:0,category:"Restaurants"},{value:1,category:"Bars & Pubs"},{value:2,category:"Bakery"},{value:3,category:"Cafe"},{value:4,category:"Sweets"}].map((e,t)=>s.a.createElement(Ba,{key:t,value:e.category,label:e.category},s.a.createElement("div",{className:"demo-option-label-item"},e.category))))))),s.a.createElement(p.a,{sm:12,md:12,style:!0},s.a.createElement(Ye.c,{googleMapsApiKey:f,libraries:["places"]},s.a.createElement(Ye.a,{onLoad:A,onPlaceChanged:()=>{if(console.log("autocomplete"),console.log(v.getPlace().formatted_address),!te(v)){const e={lat:v.getPlace().geometry.location.lat(),lng:v.getPlace().geometry.location.lng()};t.setFieldsValue({location:v.getPlace().formatted_address}),x(e)}},bounds:!0,onUnmount:!0},s.a.createElement(C.a.Item,{name:"address",label:"Store Address",rules:[{required:!0,message:"Field required!"}]},s.a.createElement(P.a,{ref:D,prefix:s.a.createElement(ze.a,null),placeholder:"Store Address ",type:"text"}))))),s.a.createElement(u.a,{gutter:15,className:"",style:{height:"500px",width:"100%"}},s.a.createElement(p.a,{sm:24,md:24},s.a.createElement(Ye.c,{googleMapsApiKey:f,libraries:["places"]},s.a.createElement(Ye.b,{center:I,zoom:15,mapContainerStyle:{width:"50%",height:"100%"}},s.a.createElement(Ye.d,{position:I,draggable:!0,onDragEnd:e=>(async e=>{const t=e.latLng.lat(),a=e.latLng.lng(),l={lat:t,lng:a};let s=await F(t,a);console.log({result:s}),s&&x(l)})(e)}))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(u.a,{gutter:15},s.a.createElement(p.a,{sm:12,md:12},s.a.createElement(C.a.Item,{name:"status",valuePropName:"checked"},s.a.createElement(st.a,{checkedChildren:"Publish",unCheckedChildren:"UnPublish"})))),s.a.createElement(C.a.Item,{className:"mb-0"},s.a.createElement(E.a,{onClick:()=>{t.resetFields(),"verify"===a?e.history.push("/"):e.history.push("/store-users")}},"Cancel"),"\xa0\xa0",s.a.createElement(E.a,{type:"primary",disabled:m,className:"btn-w25 btn-primary-light",onClick:()=>t.submit()},"Save")))))});const Ua={labelCol:{xs:{span:24},sm:{span:24}}};var Ra=Object(n.connect)(e=>{let{orders:t,global:a,loading:l}=e;return{orders:t,global:a,loading:l}})(e=>{console.log("\ud83d\ude80 ~ file: VerifiedOTP.jsx:9 ~ VerifiedOTP ~ props:",e);const[t]=C.a.useForm(),{dispatch:a}=e,[r,n]=Object(l.useState)([]),[i,o]=Object(l.useState)(0),[c,m]=Object(l.useState)(0),[d,u]=Object(l.useState)(!1);Object(l.useEffect)(()=>{let e=!1;return()=>{e=!0}},[a,e.visible]);const p=()=>{e.detail||t.resetFields(),e.closeModel()};return s.a.createElement(I.a,{visible:e.visible,title:"Verify OTP",onCancel:p,footer:s.a.createElement(l.Fragment,null,s.a.createElement(E.a,{onClick:p},"Cancel"),s.a.createElement(E.a,{type:"primary",disabled:d,className:"btn-w25 btn-primary-light",onClick:()=>t.submit()},"Verify OTP"))},s.a.createElement(C.a,Object.assign({},Ua,{form:t,name:"loc_info",layout:"vertical",onFinish:async l=>{u(!0);let s={order_id:e.order_id,otp:l.otp},r=await a({type:"orders/verify",payload:s});u(!1),r.status&&(t.resetFields(),e.closeModel(),e.returnData("success"))},className:"innerFields"}),s.a.createElement(C.a.Item,{name:"otp",rules:[{required:!0,message:"This field is required!"}]},s.a.createElement(P.a,{placeholder:"Enter OTP "}))))});var Wa=Object(n.connect)(e=>{let{orders:t}=e;return{orders:t}})(e=>{let{orders:t}=e;const[a,r]=Object(l.useState)(!1);let{detail:n}=t,i=[];n&&t.product&&(i=t.product);Object(l.useEffect)(()=>{o(e.match.params.id)},[]);const o=t=>{e.dispatch({type:"orders/getDetail",payload:{id:t}})},c=[{title:s.a.createElement("strong",null,"Product Image"),dataIndex:"productDetail",render:(e,t)=>{var a;return s.a.createElement(w.a,{shape:"square",size:60,src:""+(e&&e.images&&(null===(a=e.images[0])||void 0===a?void 0:a.url)),style:{margin:5}})}},{title:s.a.createElement("strong",null,"Product Title"),dataIndex:"productDetail",render:(e,t)=>e.title},{title:s.a.createElement("strong",null,"Product Price"),dataIndex:"productDetail",render:(e,t)=>e.price},{title:s.a.createElement("strong",null,"Product Price"),dataIndex:"productDetail",render:(e,t)=>s.a.createElement("div",null,s.a.createElement("div",{className:e.is_published?"text-success":"text-danger"}," ",e.is_published&&e.is_published?"Published":"UnPublished","  "))},{title:s.a.createElement("strong",null,"Product Quantity"),dataIndex:"quantity"}];return s.a.createElement(s.a.Fragment,null,n&&"LAST_MINUTE_PIN"===n.order_type?s.a.createElement(s.a.Fragment,null,console.log("detailsddssdsdds",n),n&&"ORDER_RECEIVED"!==(null===n||void 0===n?void 0:n.status)?s.a.createElement(E.a,{className:"submitbutton_edit mb-3",type:"default",onClick:()=>r(!0)},"Verify OTP"):s.a.createElement("h1",null,"ORDER RECEVIED"),s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/orders")})," Order Detail : (Product) "),style:{marginTop:"0"}},s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Order ID")),s.a.createElement(p.a,{span:16},n&&n._id)),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Customer ID")),s.a.createElement(p.a,{span:16},n&&n.user_id||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Total Amount")),s.a.createElement(p.a,{span:16},n&&n.total_amount||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Payable Amount")),s.a.createElement(p.a,{span:16},n&&n.payable_amount||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Discount Amount")),s.a.createElement(p.a,{span:16},n&&n.discounted_amount||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Payment Status")),s.a.createElement(p.a,{span:16},n&&n.payment_status||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Order Date")),s.a.createElement(p.a,{span:16},n&&b()(n.created_at).format("DD/MM/YYYY","hh:mm a")||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Order Time")),s.a.createElement(p.a,{span:16},n&&b()(n.created_at).format("hh:mm a")||"-"))),s.a.createElement(g.a,{style:{marginTop:"0"},bodyStyle:{padding:"0 15px 15px"}},s.a.createElement(B.a,{columns:c,dataSource:n&&n.products&&n.products,rowKey:e=>e._id}))):s.a.createElement(g.a,{title:s.a.createElement("span",null,s.a.createElement(R.a,{onClick:()=>e.history.push("/orders")})," Order Detail : (Store)"),style:{marginTop:"0"}},s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Order ID")),s.a.createElement(p.a,{span:16},n&&n._id)),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Customer ID")),s.a.createElement(p.a,{span:16},n&&n.user_id||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Total Amount")),s.a.createElement(p.a,{span:16},n&&n.total_amount||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Payable Amount")),s.a.createElement(p.a,{span:16},n&&n.payable_amount||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Discount Amount")),s.a.createElement(p.a,{span:16},n&&n.discounted_amount||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Payment Status")),s.a.createElement(p.a,{span:16},n&&n.payment_status||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Order Date")),s.a.createElement(p.a,{span:16},n&&b()(n.created_at).format("DD/MM/YYYY","hh:mm a")||"-")),s.a.createElement(u.a,{style:{marginBottom:"0.625rem"}},s.a.createElement(p.a,{span:8},s.a.createElement("span",{style:{color:"#666",fontWeight:"700"}},"Order Time")),s.a.createElement(p.a,{span:16},n&&b()(n.created_at).format("hh:mm a")||"-"))),s.a.createElement(Ra,{visible:a,closeModel:()=>r(!1),order_id:e.match.params.id,returnData:()=>{o(e.match.params.id)}}))});const za=e=>{let{component:t,...a}=e;return s.a.createElement(i.a,Object.assign({},a,{render:e=>"ADMIN"===localStorage.getItem("role")?s.a.createElement(t,e):s.a.createElement(r.Redirect,{to:{pathname:"/",state:{from:e.location}}})}))};class Ya extends l.Component{render(){return s.a.createElement("div",null,s.a.createElement(i.a,{exact:!0,name:"Dashboad",breadcrumbName:"Dashboad",path:"/",component:O}),s.a.createElement(i.a,{exact:!0,path:"/account",component:A}),s.a.createElement(za,{exact:!0,path:"/pages",component:ce}),s.a.createElement(za,{exact:!0,path:"/pages/add",component:Q}),s.a.createElement(za,{exact:!0,path:"/pages/edit/:id",component:Q}),s.a.createElement(za,{exact:!0,path:"/settings",component:ye}),s.a.createElement(za,{exact:!0,path:"/setting",component:Ne}),s.a.createElement(i.a,{exact:!0,path:"/payment-list",component:Le}),s.a.createElement(i.a,{exact:!0,path:"/stores",component:Ue}),s.a.createElement(i.a,{exact:!0,path:"/store/edit/:id",component:lt}),s.a.createElement(i.a,{exact:!0,path:"/store/add",component:lt}),s.a.createElement(i.a,{exact:!0,path:"/admin/store/edit/:id/:user_id",component:ct}),s.a.createElement(i.a,{exact:!0,path:"/admin/store/add/:user_id",component:ct}),s.a.createElement(i.a,{exact:!0,path:"/store/view/:id",component:mt}),s.a.createElement(i.a,{exact:!0,path:"/pins",component:Et}),s.a.createElement(i.a,{exact:!0,path:"/pin/add/:category",component:Ot}),s.a.createElement(i.a,{exact:!0,path:"/pin/edit/:id/:category",component:Ot}),s.a.createElement(i.a,{exact:!0,path:"/pin/admin/add/:user_id/:category",component:xt}),s.a.createElement(i.a,{exact:!0,path:"/pin/admin/edit/:id/:user_id/:category",component:xt}),s.a.createElement(i.a,{exact:!0,path:"/pin/view/:id",component:Tt}),s.a.createElement(i.a,{exact:!0,path:"/products",component:kt}),s.a.createElement(i.a,{exact:!0,path:"/products/:user_id",component:kt}),s.a.createElement(i.a,{exact:!0,path:"/product/add",component:qt}),s.a.createElement(i.a,{exact:!0,path:"/product/add/:user_id",component:qt}),s.a.createElement(i.a,{exact:!0,path:"/product/edit/:id/:user_id",component:qt}),s.a.createElement(i.a,{exact:!0,path:"/product/edit/:id",component:qt}),s.a.createElement(i.a,{exact:!0,path:"/product/admin/add/:user_id/:category",component:Yt}),s.a.createElement(i.a,{exact:!0,path:"/product/admin/edit/:id/:user_id/:category",component:Yt}),s.a.createElement(i.a,{exact:!0,path:"/product/view/:id",component:$t}),s.a.createElement(i.a,{exact:!0,path:"/store-users",component:Zt}),s.a.createElement(i.a,{exact:!0,path:"/store-user/edit/:id",component:sa}),s.a.createElement(i.a,{exact:!0,path:"/store-user/add",component:sa}),s.a.createElement(i.a,{exact:!0,path:"/store-user/view/:id",component:ca}),s.a.createElement(i.a,{exact:!0,path:"/customers",component:ga}),s.a.createElement(i.a,{exact:!0,path:"/customer/edit/:id",component:Ea}),s.a.createElement(i.a,{exact:!0,path:"/customer/add",component:Ea}),s.a.createElement(i.a,{exact:!0,path:"/customer/view/:id",component:ya}),s.a.createElement(i.a,{exact:!0,path:"/approve",component:Sa}),s.a.createElement(i.a,{exact:!0,path:"/approve/view/:id",component:_a}),s.a.createElement(i.a,{exact:!0,path:"/orders",component:wa}),s.a.createElement(i.a,{exact:!0,path:"/order/edit/:id",component:ka}),s.a.createElement(i.a,{exact:!0,path:"/order/add",component:ka}),s.a.createElement(i.a,{exact:!0,path:"/admin/order/edit/:id/:user_id",component:qa}),s.a.createElement(i.a,{exact:!0,path:"/admin/order/add/:user_id",component:qa}),s.a.createElement(i.a,{exact:!0,path:"/order/view/:id",component:Wa}))}}var $a=Ya,Ka=(a(769),a(814)),Ja=a(815),Ha=a(816),Ga=a(817),Za=a(254),Qa=a(818),Xa=a(819),el=a(140);const{SubMenu:tl}=el.a,al=[{path:"/",name:"Dashboard",icon:s.a.createElement(Ka.a,null),auth:["ADMIN","STORE"]},{path:"#",name:"User Managment",icon:s.a.createElement(Ja.a,null),auth:["ADMIN"],children:[{path:"/store-users",name:"Reatailer",icon:s.a.createElement(Ja.a,null),auth:["ADMIN"]}]},{path:"/stores",name:"Store",icon:s.a.createElement(Ha.a,null),auth:["STORE"]},{path:"/pins",name:"Flat Discount Pin",icon:s.a.createElement(Ga.a,null),auth:["STORE"]},{path:"/products",name:"Last Minute Pin",icon:s.a.createElement(Ga.a,null),auth:["STORE"]},{path:"/orders",name:"Order",icon:s.a.createElement(Za.a,null),auth:["STORE"]},{path:"#",name:"Store Managment",icon:s.a.createElement(Ja.a,null),auth:["ADMIN"],children:[{path:"/stores",name:"Store List",icon:s.a.createElement(Ha.a,null),auth:["ADMIN"]}]},{path:"#",name:"Pin Managment",icon:s.a.createElement(Ga.a,null),auth:["ADMIN"],children:[{path:"/pins",name:"Pin List",icon:s.a.createElement(Ga.a,null),auth:["ADMIN"]}]},{path:"#",name:"Account Management",icon:s.a.createElement(Ja.a,null),auth:["ADMIN"],children:[{path:"/approve",name:"Approve Business",icon:s.a.createElement(Qa.a,null),auth:["ADMIN"]}]},{path:"#",name:"CMS Management",icon:s.a.createElement(Ja.a,null),auth:["ADMIN"],children:[{path:"/pages",name:"Pages",icon:s.a.createElement(Xa.a,null),auth:["ADMIN"]}]},{path:"#",name:"Order Management",icon:s.a.createElement(Ja.a,null),auth:["ADMIN"],children:[{path:"/orders",name:"Order",icon:s.a.createElement(Za.a,null),auth:["ADMIN"]}]}];class ll extends l.Component{constructor(e){super(e),this.getSingleSettingData=(e,t)=>{let a;return void 0!=e&&e.map((e,l)=>{e.option===t&&(a=e.value)}),a},this.getSiteSettingData=async()=>{try{var e,t,a,l;let r=localStorage.getItem("userId");const n=await j.a.post("http://52.66.85.165:4001/api/list/setting",{_id:r});let i=null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.settings;console.log("\ud83d\ude80 ~ file: AppSidebar.js:194 ~ AppSidebar ~ getSiteSettingData= ~ res:",n);this.getSingleSettingData(i,"userStatus"),this.getSingleSettingData(i,"SELLER_WEB_UNDER_MAINTENANCE"),null===n||void 0===n||null===(t=n.data)||void 0===t||t.user_detail;let o=null===n||void 0===n||null===(a=n.data)||void 0===a||null===(l=a.user_detail)||void 0===l?void 0:l.user_status;var s;if(this.setState({isVerify:o}),"ADMIN"===localStorage.getItem("role"))this.setState({isAddStore:!0});else this.setState({isAddStore:null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.isAddStore})}catch(r){console.log(r)}},this.handleRedirect=e=>{"ADMIN"!=localStorage.getItem("role")&&this.getSiteSettingData(),this.props.history.push(e)},this.state={maintenanceModeModal:!1,isVerify:!1,isAddStore:!1}}componentDidMount(){this.getSiteSettingData()}render(){const{location:e}=this.props,t=e.pathname.split("/").filter(e=>e),a=t[t.length-1]||"",l=a?"/"+a:"/";return s.a.createElement(s.a.Fragment,null,s.a.createElement(el.a,{mode:"inline",defaultSelectedKeys:[l],defaultOpenKeys:[""],selectedKeys:[l],theme:"dark"},al.map(e=>{if(e.auth.find(e=>e===localStorage.getItem("role"))&&this.state.isVerify&&this.state.isAddStore)return e.children?s.a.createElement(tl,{className:"submenu",key:e.name,title:e.name},e.children.map((e,t)=>{if(e.auth.find(e=>e===localStorage.getItem("role")))return s.a.createElement(el.a.Item,{key:e.path},s.a.createElement("a",{onClick:()=>{this.handleRedirect(e.path)}},e.img?s.a.createElement("img",{src:e.img,alt:e.name}):e.icon,s.a.createElement("span",{style:{marginLeft:"5"}},e.name)))})):s.a.createElement(el.a.Item,{key:e.path},s.a.createElement("a",{onClick:()=>{this.handleRedirect(e.path)}},e.img?s.a.createElement("img",{src:e.img,alt:e.name}):e.icon,s.a.createElement("span",{style:{marginLeft:"5"}},e.name)))})))}}var sl=ll,rl=a(391),nl=a(247),il=a(159),ol=a.n(il),cl=a(820),ml=a(821),dl=a(822),ul=(a(770),a(186)),pl=a(392);let gl,hl=JSON.parse(localStorage.getItem("user"));void 0!=hl&&""!=hl&&null!=hl&&(gl=hl._id);class El extends l.Component{constructor(e){super(e),this.onMenuClick=e=>{if("logout"===e.key)return this.props.dispatch({type:"auth/logoutApp"}),localStorage.clear(),s.a.createElement(rl.a,{exact:!0,to:"/login"})},this.toggle=()=>this.props.dispatch({type:"global/toggle"}),this.clearAllNotifications=async()=>{this.setState({notifications:""}),alert("Notification cleared successfully");await j.a.post("http://52.66.85.165:4001/all/messages/mark-as-read",{user_id:gl,role:hl.role})},this.handleNotificationRedirect=e=>{switch(e){case"approve_business_verify":this.props.history.push("business-verification");break;case"order":this.props.history.push("orders");break;case"business_verify":this.props.history.push("notification")}},this.state={notifications:[]}}async componentDidMount(){}render(){const{global:e}=this.props,t=(localStorage.getItem("role"),localStorage.getItem("user"));let a=JSON.parse(t);e.toggleval;const l=s.a.createElement(el.a,{theme:"light",onClick:this.onMenuClick},s.a.createElement(el.a.Item,{key:"setting"},s.a.createElement("center",null,s.a.createElement("span",{style:{fontWeight:"bold",textTransform:"capitalize"}},a.username))),s.a.createElement(el.a.Item,{key:"account"},s.a.createElement(ul.a,{to:"/account"},s.a.createElement(N.a,null)," Account")),s.a.createElement(el.a.Item,{key:"setting"},s.a.createElement(ul.a,{to:"/setting"},s.a.createElement(cl.a,null)," Setting")),s.a.createElement(el.a.Item,{key:"logout"},s.a.createElement(ul.a,{to:"/"},s.a.createElement(ml.a,null)," Logout")));this.state.notifications.length>0&&(el.a,this.onMenuClick,this.state.notifications.map((e,t)=>s.a.createElement(el.a.Item,{key:"setting",style:{width:"400px"},onClick:()=>this.handleNotificationRedirect(e.notification_type)},e.message)),this.clearAllNotifications);return s.a.createElement(u.a,{style:{color:"#fff",height:61},type:"flex",justify:"space-between"},s.a.createElement(p.a,{span:16,className:"logoDiv"},s.a.createElement(dl.a,{className:"togglemenu",onClick:this.toggle}),s.a.createElement("div",{className:"innerlogo innerlogo_res"},s.a.createElement("h3",{style:{fontSize:32,margin:0}},s.a.createElement(ul.a,{to:"/"},s.a.createElement("img",{src:ol.a,style:{height:"40px",marginTop:"10px",width:"50px"}}),s.a.createElement("span",{className:"mobile_invisiable "},"Hunt Panel"))))),s.a.createElement(p.a,{span:7,className:"topmenu"},s.a.createElement(el.a,{className:"headtoplink",mode:"horizontal"},s.a.createElement(el.a.Item,null,s.a.createElement(nl.a,{overlay:l},s.a.createElement("a",{className:"ant-dropdown-link"},s.a.createElement(w.a,{style:{color:"#bf3427",backgroundColor:"#fff"},icon:s.a.createElement(N.a,null)})))))))}}var yl=Object(pl.a)(Object(n.connect)(e=>{let{auth:t,global:a,loading:l}=e;return{auth:t,global:a,loading:l}})(El)),bl=a(792);const{Content:fl,Sider:vl}=bl.a;class Sl extends l.Component{constructor(){super(...arguments),this.state={collapsed:!1,broke:!1,mobileview:"",announcement:""},this.sidebarFun=()=>this.state.mobileview?this.props.dispatch({type:"global/toggle"}):null,this.brokenFun=e=>{this.setState({mobileview:e}),e&&(this.props.global.toggleval||this.props.dispatch({type:"global/toggle"})),e||this.props.global.toggleval&&this.props.dispatch({type:"global/toggle"})}}async componentDidMount(){if("SELLER"===localStorage.getItem("role")){const e=await j.a.post("http://52.66.85.165:4001/get/announcement/for/seller");let t=e.data.announcement;void 0!=t&&""!=t&&null!=t&&this.setState({announcement:e.data.announcement.message})}}render(){const{global:e}=this.props,t=e.toggleval;return s.a.createElement(bl.a,null,s.a.createElement("header",{className:"headerdiv"},s.a.createElement(yl,null)),this.state.announcement?s.a.createElement("div",{style:{height:"50px",background:"white"}},s.a.createElement("marquee",{style:{background:"lightblue",height:"50px"},class:"ann-marquee",behavior:"scroll",direction:"left",scrollamount:"8",loop:"infinite"},s.a.createElement("span",{style:{position:"relative",top:"15px"}}," ",this.state.announcement," "))):"",s.a.createElement(bl.a,null,s.a.createElement(vl,{className:"sidebarDiv",breakpoint:"sm",collapsedWidth:"35",collapsed:t,onClick:this.sidebarFun},s.a.createElement(sl,this.props)),s.a.createElement(fl,{className:"contentDiv"},s.a.createElement(l.Suspense,{fallback:s.a.createElement("div",null,"Loading...")},s.a.createElement($a,this.props)))))}}var _l=Object(n.connect)(e=>{let{global:t,loading:a}=e;return{global:t,loading:a}})(Sl);a(771);var Ol=e=>s.a.createElement(I.a,{className:"login_block",visible:e.visible,title:"Recover Password",okText:"Recover",onCancel:e.onCancel,onOk:e.onCreate,footer:null,width:300},s.a.createElement(C.a,{name:"normal_login",layout:"vertical",className:"login_form",initialValues:{remember:!0},onFinish:t=>{e.onCreate(t)}},s.a.createElement(C.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Email!"},{type:"email",message:"The input is not valid Email!"}]},s.a.createElement(P.a,{prefix:s.a.createElement(N.a,{className:"site-form-item-icon"}),placeholder:"Email"})),s.a.createElement(C.a.Item,null,s.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Recover Password"))));C.a.Item;var Cl=Object(n.connect)(e=>{let{auth:t,loading:a}=e;return{auth:t,loading:a}})(e=>{const[t,a]=Object(l.useState)(0),[r,n]=Object(l.useState)(0),[i,o]=Object(l.useState)(!1),[m,d]=Object(l.useState)(!1);let g=null;const h=()=>{d(!m,"sacncdskj   ")};return Object(l.useEffect)(()=>{let t=!1;const a=localStorage.getItem("flow");let l=e.auth.varify;if(a&&"sin"==a&&l.status){localStorage.getItem("LoginCred")}return()=>{t=!0}},[]),Object(l.useEffect)(()=>{var l;let s=!1;setTimeout(()=>document.title="login",100);let r=e.auth.login,n=null===e||void 0===e||null===(l=e.auth)||void 0===l?void 0:l.varify_payment,i=localStorage.getItem("stripe_screen");if(!r||"string"!==typeof r||"varify"!==r){if(Object.keys(n).length>0&&"true"==i){var o;if(!(null===n||void 0===n||null===(o=n.user_detail)||void 0===o?void 0:o.payment_status))return void e.history.push("/stripe-payment")}return r.user&&0==r.user.isBussinessVerified?(console.log(r.user.isBussinessVerified),void e.history.push("/business-verification")):(!s&&!0===r.status&&r.count>t&&0!==r.count&&(a(r.count),e.history.push("/")),()=>{s=!0})}e.history.push("/verify")},[e]),Object(l.useEffect)(()=>{let t=!1,a=e.auth.forgot;return!t&&a.count>r&&a.status&&(n(a.count),e.history.push("/reset"),o(!1)),()=>{t=!0}},[e.auth.forgot]),s.a.createElement("div",null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(u.a,{type:"flex",className:"basicpage mobile_login",justify:"space-around",align:"middle"},s.a.createElement(p.a,{className:"basicbox"},s.a.createElement("div",{className:"mainimg"}),s.a.createElement("div",{className:"mainform"},s.a.createElement("img",{className:" elevation-3 img-fluid mobile_login_logo",src:ol.a}),s.a.createElement("h1",{class:"login-box-msg"},"Login"),s.a.createElement("div",{className:"logo"}),s.a.createElement(C.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:t=>{g=t,e.dispatch({type:"auth/login",payload:{...t,isOtp:"0"}})}},s.a.createElement(C.a.Item,{name:"username",rules:[{required:!0,message:"Please enter your email address!"},{type:"email",message:"The input is not valid E-mail!"}]},s.a.createElement(P.a,{className:"mobile-form-control",prefix:s.a.createElement(N.a,{className:"site-form-item-icon"}),placeholder:"Email"})),s.a.createElement(C.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},s.a.createElement(P.a,{prefix:s.a.createElement(ea.a,{className:"site-form-item-icon"}),type:m?"text":"password",placeholder:"Password",suffix:m?s.a.createElement(ta.a,{onClick:h}):s.a.createElement(aa.a,{onClick:h})})),s.a.createElement(C.a.Item,null,s.a.createElement("a",{className:"login-form-forgot mobile-login-form-forgot",onClick:()=>o(!0)},"Forgot password")),s.a.createElement(C.a.Item,null,s.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button mobile-login-form-button"},"Login")," ",s.a.createElement("br",null)," ",s.a.createElement("br",null),s.a.createElement(ul.a,{to:"/register",className:"mobile-login-form-register"},"Register now!")))))),s.a.createElement("h4",null),s.a.createElement(Ol,{visible:i,onCancel:()=>o(!1),onCreate:t=>(t=>{e.dispatch({type:"auth/forgotFun",payload:t})})(t)}))});a(772);Object(n.connect)(e=>{let{global:t}=e;return{global:t}})(e=>{const[t,a]=Object(l.useState)(!1),[r,n]=Object(l.useState)(0),[i,o]=Object(l.useState)([]),{dispatch:c}=(Object(l.useRef)(),e);Object(l.useEffect)(()=>{let e=!1;return()=>{e=!0}},[e]);return Object(l.useEffect)(()=>{let t=!1;return 0===e.resetVal.length&&o([]),()=>{t=!0}},[e.resetVal]),s.a.createElement(I.a,{key:1111,visible:e.visible,title:"Upload Image's",okText:"Upload",onCancel:()=>{a(!1),e.closeFun()},onOk:()=>{let t=[];i.map(e=>t.push({file:e.originFileObj,urls:e.thumbUrl})),a(!0),n(t.count),e.Extra&&(t.Extra=e.Extra),e.returnImg(t),e.closeFun(),o([]),n(0),a(!1)},okButtonProps:{disabled:t}},s.a.createElement(x.a,{customRequest:e=>{let{file:t,onSuccess:a}=e;setTimeout(()=>{a("ok")},0)},listType:"picture-card",fileList:i,showUploadList:{showPreviewIcon:!1},onChange:e=>{let{fileList:t}=e;o(t)},onPreview:async e=>{let t=e.url;t||(t=await new Promise(t=>{const a=new FileReader;a.readAsDataURL(e.originFileObj),a.onload=()=>t(a.result)}));const a=new Image;a.src=t;window.open(t).document.write(a.outerHTML)},accept:"image/png, image/gif, image/jpeg ,image/jpg , image/webp , image/apng"},i.length<1&&"+ Upload"))});const Pl=s.a.createRef();var wl=Object(n.connect)(e=>{let{auth:t,loading:a}=e;return{auth:t,loading:a}})(e=>{const[t,a]=Object(l.useState)(0),[r,n]=Object(l.useState)(!1),i=()=>{n(!r)};return Object(l.useEffect)(()=>{let l=!1;setTimeout(()=>document.title="register",100);let s=e.auth.reg;return!l&&s.action&&!0===s.action.status&&s.action.count>t&&(a(s.action.count),e.dispatch({type:"auth/registerSuccess"}),Pl.current.setFieldsValue({email:"",mobile_number:"",user_name:"",password:""}),e.history.push("/verify")),()=>{l=!0}},[e.auth.reg]),Object(l.useEffect)(()=>{let t=!1,a=[],l=e.auth.alrdreg;return l.action&&!1===l.action.status&&(e.dispatch({type:"auth/alrdregisterSuccess"}),e.dispatch({type:"auth/alrdreg",...a}),e.history.push("/login")),()=>{t=!0}},[e.auth.alrdreg]),s.a.createElement("div",null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(u.a,{type:"flex",className:"basicpage",justify:"space-around",align:"middle",style:{minHeight:"100vh"}},s.a.createElement(p.a,{className:"basicbox "},s.a.createElement("div",{className:"mainimg registerimg basicbox_height"}),s.a.createElement("div",{className:"mainform mobile_mainform"},s.a.createElement("img",{className:" elevation-3 img-fluid mobile_login_logo",src:ol.a}),s.a.createElement("h1",null,"Store Signup"),s.a.createElement("div",{className:"logo"}),s.a.createElement(C.a,{ref:Pl,layout:"vertical",name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:t=>{t.roleType="STORE",localStorage.setItem("flow","reg"),localStorage.setItem("user_email",t.email);const a=new FormData;a.append("password",t.password),a.append("user_name",t.user_name),a.append("mobile_number",t.mobile_number),a.append("email",t.email),a.append("roleType",t.roleType),e.dispatch({type:"auth/register",payload:a})}},s.a.createElement(C.a.Item,{name:"user_name",rules:[{required:!0,message:"Please input user name!"},{pattern:/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/,message:"letters and digits, with hyphens, underscores and spaces as internal separator"},{max:25,message:"user name must not be greater than 25 characters."}]},s.a.createElement(P.a,{prefix:s.a.createElement(N.a,{className:"site-form-item-icon"}),placeholder:"Enter user name"})),s.a.createElement(C.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"},{type:"email",message:"The input is not valid E-mail!"}]},s.a.createElement(P.a,{prefix:s.a.createElement(Qt.a,{className:"site-form-item-icon"}),placeholder:"Email"})),s.a.createElement(C.a.Item,{name:"mobile_number",rules:[{required:!0,message:"Please input your Phone Number!"},{pattern:/^[0-9]+$/,message:"Need to enter number"},{len:10,message:"Phone number should be 10 digits long."}]},s.a.createElement(P.a,{type:"tel",prefix:s.a.createElement(Xt.a,{className:"site-form-item-icon"}),placeholder:"Phone Number"})),s.a.createElement(C.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"},{pattern:/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,message:"Minimum eight characters, at least one letter, one number and one special character:"}]},s.a.createElement(P.a,{prefix:s.a.createElement(ea.a,{className:"site-form-item-icon"}),type:r?"text":"password",placeholder:"Password",suffix:r?s.a.createElement(ta.a,{onClick:i}):s.a.createElement(aa.a,{onClick:i})})),s.a.createElement(C.a.Item,null,s.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button mobile-register-form-button"}," ","Sign Up"," ")," ",s.a.createElement("br",null),s.a.createElement("br",null),"Or"," ",s.a.createElement("span",{onClick:()=>e.history.push("/")},s.a.createElement("a",{href:"#",className:"mobile-register-already"},"Already have a account!"))))))))}),Il=a(793);C.a.Item;var xl=Object(n.connect)(e=>{let{auth:t,loading:a}=e;return{auth:t,loading:a}})(e=>{const t=localStorage.getItem("user_email");localStorage.getItem("mobile_number"),JSON.parse(localStorage.getItem("user"));Object(l.useEffect)(()=>{let t=e.auth.varify;t&&t.status&&(e.dispatch({type:"auth/alrdregisterSuccess"}),We.a.success({message:"Account registerd sucessfully."}),e.history.push("/login"))},[e.auth.varify]);const a=e=>/\S+@\S+\.\S+/.test(e);return s.a.createElement("div",null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(u.a,{type:"flex",className:"basicpage",justify:"space-around",align:"middle",style:{minHeight:"100vh"}},s.a.createElement(p.a,{className:"basicbox"},s.a.createElement("div",{className:"mainimg"}),s.a.createElement("div",{className:"mainform"},s.a.createElement("div",{style:{textAlign:"center",fontSize:"18px",fontWeight:"600"}},"Validate OTP ( One Time Password )"),s.a.createElement(Il.a,null),s.a.createElement("div",{style:{textAlign:"center",marginBottom:"1rem"}},"A OTP ( One Time Password ) has been sent to your email address ",s.a.createElement("b",null,t)," . Please enter the OTP in the field below to verify."),s.a.createElement(C.a,{name:"otp",className:"login-form",initialValues:{remember:!0},onFinish:t=>{const l=localStorage.getItem("user_email");let s={};s=a(l)?{email:l,otp:t.otp}:{mobile_number:l,otp:t.otp},e.dispatch({type:"auth/varifyOtp",payload:s})}},s.a.createElement(C.a.Item,{name:"otp",rules:[{required:!0,message:"Please input your Otp!"}]},s.a.createElement(P.a,{prefix:s.a.createElement(N.a,{className:"site-form-item-icon"}),placeholder:"OTP Enter Here!"})),s.a.createElement(C.a.Item,null,s.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button"}," Verify "))),s.a.createElement("div",{className:"col-md-12",style:{width:"100%"}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6",style:{width:"50%",float:"left",textAlign:"left"}},s.a.createElement(E.a,{type:"link",className:"resend_link",onClick:()=>(e.dispatch({type:"auth/verifyBackNuttunSuccess"}),void e.history.push("/register"))},"Back")),s.a.createElement("div",{className:"col-md-6",style:{width:"50%",float:"left",textAlign:"center"}},s.a.createElement(E.a,{type:"link",className:"resend_link",onClick:()=>(()=>{let t={email:localStorage.getItem("user_email")};e.dispatch({type:"auth/resendOtp",payload:t})})()},"Resend OTP"))))))))});var Tl=Object(n.connect)(e=>{let{auth:t,loading:a}=e;return{auth:t,loading:a}})(e=>{const[t,a]=Object(l.useState)(!1),r=()=>{a(!t)},n=e=>/\S+@\S+\.\S+/.test(e);return Object(l.useEffect)(()=>{let t=!1,a=e.auth.resetPassword;return!t&&a&&a.status&&(e.dispatch({type:"auth/resetPasswordSuccessDone"}),e.history.push("/login")),()=>{t=!0}},[e]),s.a.createElement("div",null,s.a.createElement(c,{show:e.loading.global}),s.a.createElement(u.a,{type:"flex",className:"basicpage",justify:"space-around",align:"middle",style:{minHeight:"100vh"}},s.a.createElement(p.a,{className:"basicbox"},s.a.createElement("div",{className:"mainimg"}),s.a.createElement("div",{className:"mainform"},s.a.createElement("div",{style:{textAlign:"center",fontSize:"18px",fontWeight:"600"}},"Reset Password"),s.a.createElement(Il.a,null),s.a.createElement(C.a,{name:"otp",className:"login-form",initialValues:{remember:!0},onFinish:t=>{const a=localStorage.getItem("user_email");let l={};n(a)&&(l={username:a,password:t.password,otpchk:t.otp},e.dispatch({type:"auth/resetPassword",payload:l}))}},s.a.createElement(C.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"},{pattern:/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,message:"Minimum eight characters, at least one letter, one number and one special character:"}]},s.a.createElement(P.a,{prefix:s.a.createElement(ea.a,{className:"site-form-item-icon"}),type:t?"text":"password",placeholder:"New Password",suffix:t?s.a.createElement(ta.a,{onClick:r}):s.a.createElement(aa.a,{onClick:r})})),s.a.createElement(C.a.Item,{name:"otp",rules:[{required:!0,message:"Please input your Otp!"}]},s.a.createElement(P.a,{prefix:s.a.createElement(N.a,{className:"site-form-item-icon"}),placeholder:"OTP Enter Here!"})),s.a.createElement(C.a.Item,{style:{textAlign:"center"}},s.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button"}," Save "))),s.a.createElement("div",{className:"row"},s.a.createElement(ul.a,{style:{color:"#3e1c08"},to:"/login"},"Back"))))))}),Nl=a(139);a(773);const Dl="http://52.66.85.165:4001",jl={iconStyle:"solid",style:{base:{iconColor:"#c4f0ff",color:"#fff",fontWeight:500,fontFamily:"Roboto, Open Sans, Segoe UI, sans-serif",fontSize:"16px",fontSmoothing:"antialiased",":-webkit-autofill":{color:"#fce883"},"::placeholder":{color:"#87bbfd"}},invalid:{iconColor:"#ffc7ee",color:"#ffc7ee"}}},Al=e=>{let{onChange:t}=e;return s.a.createElement("div",{className:"FormRow"},s.a.createElement(Nl.CardElement,{options:jl,onChange:t}))};var Fl=e=>{const t=Object(Nl.useStripe)(),a=Object(Nl.useElements)(),[r,n]=(Object(l.useRef)(),Object(l.useState)()),[i,o]=Object(l.useState)(!1),[m,d]=Object(l.useState)();Object(l.useEffect)(()=>{u(),localStorage.removeItem("stripe_screen","true")},[]);const u=async()=>{var e,t;let a=JSON.parse(localStorage.getItem("user"));const l=await j.a.get(Dl+"/api/stripe/price");d(null===l||void 0===l||null===(e=l.data)||void 0===e||null===(t=e.price)||void 0===t?void 0:t.plan_price),n(a)};return s.a.createElement("div",{style:{backgroundColor:"#eef",height:"100vh"}},s.a.createElement(c,{show:i}),s.a.createElement("div",{className:"py-5 text-center"},s.a.createElement("h4",null,"Stripe Payment"),s.a.createElement("h4",{className:"text-success"},"$",m)),s.a.createElement("div",{className:"row s-box"},s.a.createElement("div",{className:"col-md-6 mx-auto"},s.a.createElement("fieldset",{className:"FormGroup"},s.a.createElement(Al,null)),s.a.createElement("center",null,s.a.createElement("button",{onClick:async()=>{o(!0);try{const{data:l}=await j.a.post(Dl+"/api/stripe-pay",{user:r});let{clientSecret:s,stripe_payment_id:n}=l.stripeData;const i=await t.confirmCardPayment(s,{payment_method:{card:a.getElement(Nl.CardElement),billing_details:{name:r.name}}});if(i.error)await j.a.post(Dl+"/api/stripe-pay-callback",{stripe_payment_id:n,status:"FAILED"}),o(!1),Se.b.error(i.error.message,5);else if("succeeded"===i.paymentIntent.status){let{data:t}=await j.a.post(Dl+"/api/stripe-pay-callback",{stripe_payment_id:n,status:"SUCCESS"});o(!1),Se.b.success(t.message,5),e.history.push("/login")}}catch(l){o(!1)}},className:"btn btn-lg btn-primary"},"Proceed To Pay")))))},kl=a(411);const Ll=e=>{let{component:t,...a}=e;return s.a.createElement(r.Route,Object.assign({},a,{render:e=>function(e){let t=localStorage.getItem("token"),a=localStorage.getItem("user");const l=JSON.parse(a);return!(!t||!l)}()?s.a.createElement(t,e):s.a.createElement(r.Redirect,{to:{pathname:"/login",state:{from:e.location}}})}))};t.default=function(e){let{history:t}=e;const a=Object(kl.a)("pk_live_51LDYGLDwWFFOZQ8gxkYEYVKP8tGhl0pfbm7TBmVq4c3qpzqAqjHwy6l20wp0KYvoo7lq1AZj9jc4LgUJ4FAMWa9e00hZbRLTnJ");return s.a.createElement(Nl.Elements,{stripe:a},s.a.createElement(r.Router,{history:t,basename:"."},s.a.createElement(r.Switch,null,s.a.createElement(r.Route,{exact:!0,path:"/login",component:Cl}),s.a.createElement(r.Route,{exact:!0,path:"/verify",component:xl}),s.a.createElement(r.Route,{exact:!0,path:"/register",component:wl}),s.a.createElement(r.Route,{exact:!0,path:"/reset",component:Tl}),s.a.createElement(r.Route,{exact:!0,path:"/stripe-payment",component:Fl}),s.a.createElement(Ll,{path:"/",component:_l}))))}}},[[431,1,2]]]);
//# sourceMappingURL=main.00c58ae8.chunk.js.map